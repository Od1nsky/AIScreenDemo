(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Mo(t){const r=Object.create(null);for(const e of t.split(","))r[e]=1;return e=>e in r}const Rt={},Le=[],zr=()=>{},od=()=>!1,Wi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),wo=t=>t.startsWith("onUpdate:"),Ut=Object.assign,To=(t,r)=>{const e=t.indexOf(r);e>-1&&t.splice(e,1)},sd=Object.prototype.hasOwnProperty,Ct=(t,r)=>sd.call(t,r),gt=Array.isArray,We=t=>$i(t)==="[object Map]",Kl=t=>$i(t)==="[object Set]",bt=t=>typeof t=="function",Gt=t=>typeof t=="string",oe=t=>typeof t=="symbol",It=t=>t!==null&&typeof t=="object",Zl=t=>(It(t)||bt(t))&&bt(t.then)&&bt(t.catch),Jl=Object.prototype.toString,$i=t=>Jl.call(t),ld=t=>$i(t).slice(8,-1),Ql=t=>$i(t)==="[object Object]",Ro=t=>Gt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,hn=Mo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Vi=t=>{const r=Object.create(null);return e=>r[e]||(r[e]=t(e))},ud=/-(\w)/g,br=Vi(t=>t.replace(ud,(r,e)=>e?e.toUpperCase():"")),fd=/\B([A-Z])/g,Re=Vi(t=>t.replace(fd,"-$1").toLowerCase()),Yi=Vi(t=>t.charAt(0).toUpperCase()+t.slice(1)),ha=Vi(t=>t?`on${Yi(t)}`:""),re=(t,r)=>!Object.is(t,r),ga=(t,...r)=>{for(let e=0;e<t.length;e++)t[e](...r)},tu=(t,r,e,n=!1)=>{Object.defineProperty(t,r,{configurable:!0,enumerable:!1,writable:n,value:e})},cd=t=>{const r=parseFloat(t);return isNaN(r)?t:r};let Rs;const Xi=()=>Rs||(Rs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function qi(t){if(gt(t)){const r={};for(let e=0;e<t.length;e++){const n=t[e],i=Gt(n)?hd(n):qi(n);if(i)for(const a in i)r[a]=i[a]}return r}else if(Gt(t)||It(t))return t}const dd=/;(?![^(]*\))/g,vd=/:([^]+)/,pd=/\/\*[^]*?\*\//g;function hd(t){const r={};return t.replace(pd,"").split(dd).forEach(e=>{if(e){const n=e.split(vd);n.length>1&&(r[n[0].trim()]=n[1].trim())}}),r}function ye(t){let r="";if(Gt(t))r=t;else if(gt(t))for(let e=0;e<t.length;e++){const n=ye(t[e]);n&&(r+=n+" ")}else if(It(t))for(const e in t)t[e]&&(r+=e+" ");return r.trim()}const gd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",md=Mo(gd);function ru(t){return!!t||t===""}const eu=t=>!!(t&&t.__v_isRef===!0),nu=t=>Gt(t)?t:t==null?"":gt(t)||It(t)&&(t.toString===Jl||!bt(t.toString))?eu(t)?nu(t.value):JSON.stringify(t,iu,2):String(t),iu=(t,r)=>eu(r)?iu(t,r.value):We(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((e,[n,i],a)=>(e[ma(n,a)+" =>"]=i,e),{})}:Kl(r)?{[`Set(${r.size})`]:[...r.values()].map(e=>ma(e))}:oe(r)?ma(r):It(r)&&!gt(r)&&!Ql(r)?String(r):r,ma=(t,r="")=>{var e;return oe(t)?`Symbol(${(e=t.description)!=null?e:r})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let cr;class bd{constructor(r=!1){this.detached=r,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=cr,!r&&cr&&(this.index=(cr.scopes||(cr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let r,e;if(this.scopes)for(r=0,e=this.scopes.length;r<e;r++)this.scopes[r].pause();for(r=0,e=this.effects.length;r<e;r++)this.effects[r].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let r,e;if(this.scopes)for(r=0,e=this.scopes.length;r<e;r++)this.scopes[r].resume();for(r=0,e=this.effects.length;r<e;r++)this.effects[r].resume()}}run(r){if(this._active){const e=cr;try{return cr=this,r()}finally{cr=e}}}on(){cr=this}off(){cr=this.parent}stop(r){if(this._active){this._active=!1;let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(this.effects.length=0,e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.cleanups.length=0,this.scopes){for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!r){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function _d(){return cr}let Tt;const ba=new WeakSet;class au{constructor(r){this.fn=r,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,cr&&cr.active&&cr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ba.has(this)&&(ba.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||su(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Os(this),lu(this);const r=Tt,e=Er;Tt=this,Er=!0;try{return this.fn()}finally{uu(this),Tt=r,Er=e,this.flags&=-3}}stop(){if(this.flags&1){for(let r=this.deps;r;r=r.nextDep)Io(r);this.deps=this.depsTail=void 0,Os(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ba.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){La(this)&&this.run()}get dirty(){return La(this)}}let ou=0,gn,mn;function su(t,r=!1){if(t.flags|=8,r){t.next=mn,mn=t;return}t.next=gn,gn=t}function Oo(){ou++}function Po(){if(--ou>0)return;if(mn){let r=mn;for(mn=void 0;r;){const e=r.next;r.next=void 0,r.flags&=-9,r=e}}let t;for(;gn;){let r=gn;for(gn=void 0;r;){const e=r.next;if(r.next=void 0,r.flags&=-9,r.flags&1)try{r.trigger()}catch(n){t||(t=n)}r=e}}if(t)throw t}function lu(t){for(let r=t.deps;r;r=r.nextDep)r.version=-1,r.prevActiveLink=r.dep.activeLink,r.dep.activeLink=r}function uu(t){let r,e=t.depsTail,n=e;for(;n;){const i=n.prevDep;n.version===-1?(n===e&&(e=i),Io(n),xd(n)):r=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}t.deps=r,t.depsTail=e}function La(t){for(let r=t.deps;r;r=r.nextDep)if(r.dep.version!==r.version||r.dep.computed&&(fu(r.dep.computed)||r.dep.version!==r.version))return!0;return!!t._dirty}function fu(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===wn))return;t.globalVersion=wn;const r=t.dep;if(t.flags|=2,r.version>0&&!t.isSSR&&t.deps&&!La(t)){t.flags&=-3;return}const e=Tt,n=Er;Tt=t,Er=!0;try{lu(t);const i=t.fn(t._value);(r.version===0||re(i,t._value))&&(t._value=i,r.version++)}catch(i){throw r.version++,i}finally{Tt=e,Er=n,uu(t),t.flags&=-3}}function Io(t,r=!1){const{dep:e,prevSub:n,nextSub:i}=t;if(n&&(n.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=n,t.nextSub=void 0),e.subs===t&&(e.subs=n,!n&&e.computed)){e.computed.flags&=-5;for(let a=e.computed.deps;a;a=a.nextDep)Io(a,!0)}!r&&!--e.sc&&e.map&&e.map.delete(e.key)}function xd(t){const{prevDep:r,nextDep:e}=t;r&&(r.nextDep=e,t.prevDep=void 0),e&&(e.prevDep=r,t.nextDep=void 0)}let Er=!0;const cu=[];function se(){cu.push(Er),Er=!1}function le(){const t=cu.pop();Er=t===void 0?!0:t}function Os(t){const{cleanup:r}=t;if(t.cleanup=void 0,r){const e=Tt;Tt=void 0;try{r()}finally{Tt=e}}}let wn=0,yd=class{constructor(r,e){this.sub=r,this.dep=e,this.version=e.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class Ao{constructor(r){this.computed=r,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(r){if(!Tt||!Er||Tt===this.computed)return;let e=this.activeLink;if(e===void 0||e.sub!==Tt)e=this.activeLink=new yd(Tt,this),Tt.deps?(e.prevDep=Tt.depsTail,Tt.depsTail.nextDep=e,Tt.depsTail=e):Tt.deps=Tt.depsTail=e,du(e);else if(e.version===-1&&(e.version=this.version,e.nextDep)){const n=e.nextDep;n.prevDep=e.prevDep,e.prevDep&&(e.prevDep.nextDep=n),e.prevDep=Tt.depsTail,e.nextDep=void 0,Tt.depsTail.nextDep=e,Tt.depsTail=e,Tt.deps===e&&(Tt.deps=n)}return e}trigger(r){this.version++,wn++,this.notify(r)}notify(r){Oo();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{Po()}}}function du(t){if(t.dep.sc++,t.sub.flags&4){const r=t.dep.computed;if(r&&!t.dep.subs){r.flags|=20;for(let n=r.deps;n;n=n.nextDep)du(n)}const e=t.dep.subs;e!==t&&(t.prevSub=e,e&&(e.nextSub=t)),t.dep.subs=t}}const Wa=new WeakMap,Se=Symbol(""),$a=Symbol(""),Tn=Symbol("");function Yt(t,r,e){if(Er&&Tt){let n=Wa.get(t);n||Wa.set(t,n=new Map);let i=n.get(e);i||(n.set(e,i=new Ao),i.map=n,i.key=e),i.track()}}function Wr(t,r,e,n,i,a){const o=Wa.get(t);if(!o){wn++;return}const s=l=>{l&&l.trigger()};if(Oo(),r==="clear")o.forEach(s);else{const l=gt(t),u=l&&Ro(e);if(l&&e==="length"){const f=Number(n);o.forEach((c,d)=>{(d==="length"||d===Tn||!oe(d)&&d>=f)&&s(c)})}else switch((e!==void 0||o.has(void 0))&&s(o.get(e)),u&&s(o.get(Tn)),r){case"add":l?u&&s(o.get("length")):(s(o.get(Se)),We(t)&&s(o.get($a)));break;case"delete":l||(s(o.get(Se)),We(t)&&s(o.get($a)));break;case"set":We(t)&&s(o.get(Se));break}}Po()}function Ie(t){const r=Et(t);return r===t?r:(Yt(r,"iterate",Tn),gr(t)?r:r.map(Xt))}function ji(t){return Yt(t=Et(t),"iterate",Tn),t}const Sd={__proto__:null,[Symbol.iterator](){return _a(this,Symbol.iterator,Xt)},concat(...t){return Ie(this).concat(...t.map(r=>gt(r)?Ie(r):r))},entries(){return _a(this,"entries",t=>(t[1]=Xt(t[1]),t))},every(t,r){return Nr(this,"every",t,r,void 0,arguments)},filter(t,r){return Nr(this,"filter",t,r,e=>e.map(Xt),arguments)},find(t,r){return Nr(this,"find",t,r,Xt,arguments)},findIndex(t,r){return Nr(this,"findIndex",t,r,void 0,arguments)},findLast(t,r){return Nr(this,"findLast",t,r,Xt,arguments)},findLastIndex(t,r){return Nr(this,"findLastIndex",t,r,void 0,arguments)},forEach(t,r){return Nr(this,"forEach",t,r,void 0,arguments)},includes(...t){return xa(this,"includes",t)},indexOf(...t){return xa(this,"indexOf",t)},join(t){return Ie(this).join(t)},lastIndexOf(...t){return xa(this,"lastIndexOf",t)},map(t,r){return Nr(this,"map",t,r,void 0,arguments)},pop(){return un(this,"pop")},push(...t){return un(this,"push",t)},reduce(t,...r){return Ps(this,"reduce",t,r)},reduceRight(t,...r){return Ps(this,"reduceRight",t,r)},shift(){return un(this,"shift")},some(t,r){return Nr(this,"some",t,r,void 0,arguments)},splice(...t){return un(this,"splice",t)},toReversed(){return Ie(this).toReversed()},toSorted(t){return Ie(this).toSorted(t)},toSpliced(...t){return Ie(this).toSpliced(...t)},unshift(...t){return un(this,"unshift",t)},values(){return _a(this,"values",Xt)}};function _a(t,r,e){const n=ji(t),i=n[r]();return n!==t&&!gr(t)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.value&&(a.value=e(a.value)),a}),i}const Ed=Array.prototype;function Nr(t,r,e,n,i,a){const o=ji(t),s=o!==t&&!gr(t),l=o[r];if(l!==Ed[r]){const c=l.apply(t,a);return s?Xt(c):c}let u=e;o!==t&&(s?u=function(c,d){return e.call(this,Xt(c),d,t)}:e.length>2&&(u=function(c,d){return e.call(this,c,d,t)}));const f=l.call(o,u,n);return s&&i?i(f):f}function Ps(t,r,e,n){const i=ji(t);let a=e;return i!==t&&(gr(t)?e.length>3&&(a=function(o,s,l){return e.call(this,o,s,l,t)}):a=function(o,s,l){return e.call(this,o,Xt(s),l,t)}),i[r](a,...n)}function xa(t,r,e){const n=Et(t);Yt(n,"iterate",Tn);const i=n[r](...e);return(i===-1||i===!1)&&Fo(e[0])?(e[0]=Et(e[0]),n[r](...e)):i}function un(t,r,e=[]){se(),Oo();const n=Et(t)[r].apply(t,e);return Po(),le(),n}const Cd=Mo("__proto__,__v_isRef,__isVue"),vu=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(oe));function Dd(t){oe(t)||(t=String(t));const r=Et(this);return Yt(r,"has",t),r.hasOwnProperty(t)}class pu{constructor(r=!1,e=!1){this._isReadonly=r,this._isShallow=e}get(r,e,n){if(e==="__v_skip")return r.__v_skip;const i=this._isReadonly,a=this._isShallow;if(e==="__v_isReactive")return!i;if(e==="__v_isReadonly")return i;if(e==="__v_isShallow")return a;if(e==="__v_raw")return n===(i?a?Bd:bu:a?mu:gu).get(r)||Object.getPrototypeOf(r)===Object.getPrototypeOf(n)?r:void 0;const o=gt(r);if(!i){let l;if(o&&(l=Sd[e]))return l;if(e==="hasOwnProperty")return Dd}const s=Reflect.get(r,e,jt(r)?r:n);return(oe(e)?vu.has(e):Cd(e))||(i||Yt(r,"get",e),a)?s:jt(s)?o&&Ro(e)?s:s.value:It(s)?i?_u(s):Bo(s):s}}class hu extends pu{constructor(r=!1){super(!1,r)}set(r,e,n,i){let a=r[e];if(!this._isShallow){const l=Ce(a);if(!gr(n)&&!Ce(n)&&(a=Et(a),n=Et(n)),!gt(r)&&jt(a)&&!jt(n))return l?!1:(a.value=n,!0)}const o=gt(r)&&Ro(e)?Number(e)<r.length:Ct(r,e),s=Reflect.set(r,e,n,jt(r)?r:i);return r===Et(i)&&(o?re(n,a)&&Wr(r,"set",e,n):Wr(r,"add",e,n)),s}deleteProperty(r,e){const n=Ct(r,e);r[e];const i=Reflect.deleteProperty(r,e);return i&&n&&Wr(r,"delete",e,void 0),i}has(r,e){const n=Reflect.has(r,e);return(!oe(e)||!vu.has(e))&&Yt(r,"has",e),n}ownKeys(r){return Yt(r,"iterate",gt(r)?"length":Se),Reflect.ownKeys(r)}}class Md extends pu{constructor(r=!1){super(!0,r)}set(r,e){return!0}deleteProperty(r,e){return!0}}const wd=new hu,Td=new Md,Rd=new hu(!0);const Va=t=>t,ti=t=>Reflect.getPrototypeOf(t);function Od(t,r,e){return function(...n){const i=this.__v_raw,a=Et(i),o=We(a),s=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...n),f=e?Va:r?Ya:Xt;return!r&&Yt(a,"iterate",l?$a:Se),{next(){const{value:c,done:d}=u.next();return d?{value:c,done:d}:{value:s?[f(c[0]),f(c[1])]:f(c),done:d}},[Symbol.iterator](){return this}}}}function ri(t){return function(...r){return t==="delete"?!1:t==="clear"?void 0:this}}function Pd(t,r){const e={get(i){const a=this.__v_raw,o=Et(a),s=Et(i);t||(re(i,s)&&Yt(o,"get",i),Yt(o,"get",s));const{has:l}=ti(o),u=r?Va:t?Ya:Xt;if(l.call(o,i))return u(a.get(i));if(l.call(o,s))return u(a.get(s));a!==o&&a.get(i)},get size(){const i=this.__v_raw;return!t&&Yt(Et(i),"iterate",Se),Reflect.get(i,"size",i)},has(i){const a=this.__v_raw,o=Et(a),s=Et(i);return t||(re(i,s)&&Yt(o,"has",i),Yt(o,"has",s)),i===s?a.has(i):a.has(i)||a.has(s)},forEach(i,a){const o=this,s=o.__v_raw,l=Et(s),u=r?Va:t?Ya:Xt;return!t&&Yt(l,"iterate",Se),s.forEach((f,c)=>i.call(a,u(f),u(c),o))}};return Ut(e,t?{add:ri("add"),set:ri("set"),delete:ri("delete"),clear:ri("clear")}:{add(i){!r&&!gr(i)&&!Ce(i)&&(i=Et(i));const a=Et(this);return ti(a).has.call(a,i)||(a.add(i),Wr(a,"add",i,i)),this},set(i,a){!r&&!gr(a)&&!Ce(a)&&(a=Et(a));const o=Et(this),{has:s,get:l}=ti(o);let u=s.call(o,i);u||(i=Et(i),u=s.call(o,i));const f=l.call(o,i);return o.set(i,a),u?re(a,f)&&Wr(o,"set",i,a):Wr(o,"add",i,a),this},delete(i){const a=Et(this),{has:o,get:s}=ti(a);let l=o.call(a,i);l||(i=Et(i),l=o.call(a,i)),s&&s.call(a,i);const u=a.delete(i);return l&&Wr(a,"delete",i,void 0),u},clear(){const i=Et(this),a=i.size!==0,o=i.clear();return a&&Wr(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Od(i,t,r)}),e}function zo(t,r){const e=Pd(t,r);return(n,i,a)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(Ct(e,i)&&i in n?e:n,i,a)}const Id={get:zo(!1,!1)},Ad={get:zo(!1,!0)},zd={get:zo(!0,!1)};const gu=new WeakMap,mu=new WeakMap,bu=new WeakMap,Bd=new WeakMap;function Gd(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Fd(t){return t.__v_skip||!Object.isExtensible(t)?0:Gd(ld(t))}function Bo(t){return Ce(t)?t:Go(t,!1,wd,Id,gu)}function kd(t){return Go(t,!1,Rd,Ad,mu)}function _u(t){return Go(t,!0,Td,zd,bu)}function Go(t,r,e,n,i){if(!It(t)||t.__v_raw&&!(r&&t.__v_isReactive))return t;const a=i.get(t);if(a)return a;const o=Fd(t);if(o===0)return t;const s=new Proxy(t,o===2?n:e);return i.set(t,s),s}function $e(t){return Ce(t)?$e(t.__v_raw):!!(t&&t.__v_isReactive)}function Ce(t){return!!(t&&t.__v_isReadonly)}function gr(t){return!!(t&&t.__v_isShallow)}function Fo(t){return t?!!t.__v_raw:!1}function Et(t){const r=t&&t.__v_raw;return r?Et(r):t}function Nd(t){return!Ct(t,"__v_skip")&&Object.isExtensible(t)&&tu(t,"__v_skip",!0),t}const Xt=t=>It(t)?Bo(t):t,Ya=t=>It(t)?_u(t):t;function jt(t){return t?t.__v_isRef===!0:!1}function Ui(t){return Hd(t,!1)}function Hd(t,r){return jt(t)?t:new Ld(t,r)}class Ld{constructor(r,e){this.dep=new Ao,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=e?r:Et(r),this._value=e?r:Xt(r),this.__v_isShallow=e}get value(){return this.dep.track(),this._value}set value(r){const e=this._rawValue,n=this.__v_isShallow||gr(r)||Ce(r);r=n?r:Et(r),re(r,e)&&(this._rawValue=r,this._value=n?r:Xt(r),this.dep.trigger())}}function Wd(t){return jt(t)?t.value:t}const $d={get:(t,r,e)=>r==="__v_raw"?t:Wd(Reflect.get(t,r,e)),set:(t,r,e,n)=>{const i=t[r];return jt(i)&&!jt(e)?(i.value=e,!0):Reflect.set(t,r,e,n)}};function xu(t){return $e(t)?t:new Proxy(t,$d)}class Vd{constructor(r,e,n){this.fn=r,this.setter=e,this._value=void 0,this.dep=new Ao(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=wn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!e,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Tt!==this)return su(this,!0),!0}get value(){const r=this.dep.track();return fu(this),r&&(r.version=this.dep.version),this._value}set value(r){this.setter&&this.setter(r)}}function Yd(t,r,e=!1){let n,i;return bt(t)?n=t:(n=t.get,i=t.set),new Vd(n,i,e)}const ei={},Si=new WeakMap;let he;function Xd(t,r=!1,e=he){if(e){let n=Si.get(e);n||Si.set(e,n=[]),n.push(t)}}function qd(t,r,e=Rt){const{immediate:n,deep:i,once:a,scheduler:o,augmentJob:s,call:l}=e,u=_=>i?_:gr(_)||i===!1||i===0?Jr(_,1):Jr(_);let f,c,d,v,p=!1,h=!1;if(jt(t)?(c=()=>t.value,p=gr(t)):$e(t)?(c=()=>u(t),p=!0):gt(t)?(h=!0,p=t.some(_=>$e(_)||gr(_)),c=()=>t.map(_=>{if(jt(_))return _.value;if($e(_))return u(_);if(bt(_))return l?l(_,2):_()})):bt(t)?r?c=l?()=>l(t,2):t:c=()=>{if(d){se();try{d()}finally{le()}}const _=he;he=f;try{return l?l(t,3,[v]):t(v)}finally{he=_}}:c=zr,r&&i){const _=c,S=i===!0?1/0:i;c=()=>Jr(_(),S)}const g=_d(),m=()=>{f.stop(),g&&g.active&&To(g.effects,f)};if(a&&r){const _=r;r=(...S)=>{_(...S),m()}}let b=h?new Array(t.length).fill(ei):ei;const x=_=>{if(!(!(f.flags&1)||!f.dirty&&!_))if(r){const S=f.run();if(i||p||(h?S.some((y,C)=>re(y,b[C])):re(S,b))){d&&d();const y=he;he=f;try{const C=[S,b===ei?void 0:h&&b[0]===ei?[]:b,v];l?l(r,3,C):r(...C),b=S}finally{he=y}}}else f.run()};return s&&s(x),f=new au(c),f.scheduler=o?()=>o(x,!1):x,v=_=>Xd(_,!1,f),d=f.onStop=()=>{const _=Si.get(f);if(_){if(l)l(_,4);else for(const S of _)S();Si.delete(f)}},r?n?x(!0):b=f.run():o?o(x.bind(null,!0),!0):f.run(),m.pause=f.pause.bind(f),m.resume=f.resume.bind(f),m.stop=m,m}function Jr(t,r=1/0,e){if(r<=0||!It(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),r--,jt(t))Jr(t.value,r,e);else if(gt(t))for(let n=0;n<t.length;n++)Jr(t[n],r,e);else if(Kl(t)||We(t))t.forEach(n=>{Jr(n,r,e)});else if(Ql(t)){for(const n in t)Jr(t[n],r,e);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Jr(t[n],r,e)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Nn(t,r,e,n){try{return n?t(...n):t()}catch(i){Ki(i,r,e)}}function Gr(t,r,e,n){if(bt(t)){const i=Nn(t,r,e,n);return i&&Zl(i)&&i.catch(a=>{Ki(a,r,e)}),i}if(gt(t)){const i=[];for(let a=0;a<t.length;a++)i.push(Gr(t[a],r,e,n));return i}}function Ki(t,r,e,n=!0){const i=r?r.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=r&&r.appContext.config||Rt;if(r){let s=r.parent;const l=r.proxy,u=`https://vuejs.org/error-reference/#runtime-${e}`;for(;s;){const f=s.ec;if(f){for(let c=0;c<f.length;c++)if(f[c](t,l,u)===!1)return}s=s.parent}if(a){se(),Nn(a,null,10,[t,l,u]),le();return}}jd(t,e,i,n,o)}function jd(t,r,e,n=!0,i=!1){if(i)throw t;console.error(t)}const er=[];let Or=-1;const Ve=[];let Kr=null,ze=0;const yu=Promise.resolve();let Ei=null;function Ud(t){const r=Ei||yu;return t?r.then(this?t.bind(this):t):r}function Kd(t){let r=Or+1,e=er.length;for(;r<e;){const n=r+e>>>1,i=er[n],a=Rn(i);a<t||a===t&&i.flags&2?r=n+1:e=n}return r}function ko(t){if(!(t.flags&1)){const r=Rn(t),e=er[er.length-1];!e||!(t.flags&2)&&r>=Rn(e)?er.push(t):er.splice(Kd(r),0,t),t.flags|=1,Su()}}function Su(){Ei||(Ei=yu.then(Cu))}function Zd(t){gt(t)?Ve.push(...t):Kr&&t.id===-1?Kr.splice(ze+1,0,t):t.flags&1||(Ve.push(t),t.flags|=1),Su()}function Is(t,r,e=Or+1){for(;e<er.length;e++){const n=er[e];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;er.splice(e,1),e--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Eu(t){if(Ve.length){const r=[...new Set(Ve)].sort((e,n)=>Rn(e)-Rn(n));if(Ve.length=0,Kr){Kr.push(...r);return}for(Kr=r,ze=0;ze<Kr.length;ze++){const e=Kr[ze];e.flags&4&&(e.flags&=-2),e.flags&8||e(),e.flags&=-2}Kr=null,ze=0}}const Rn=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Cu(t){try{for(Or=0;Or<er.length;Or++){const r=er[Or];r&&!(r.flags&8)&&(r.flags&4&&(r.flags&=-2),Nn(r,r.i,r.i?15:14),r.flags&4||(r.flags&=-2))}}finally{for(;Or<er.length;Or++){const r=er[Or];r&&(r.flags&=-2)}Or=-1,er.length=0,Eu(),Ei=null,(er.length||Ve.length)&&Cu()}}let Sr=null,Du=null;function Ci(t){const r=Sr;return Sr=t,Du=t&&t.type.__scopeId||null,r}function Jd(t,r=Sr,e){if(!r||t._n)return t;const n=(...i)=>{n._d&&Ws(-1);const a=Ci(r);let o;try{o=t(...i)}finally{Ci(a),n._d&&Ws(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function ce(t,r,e,n){const i=t.dirs,a=r&&r.dirs;for(let o=0;o<i.length;o++){const s=i[o];a&&(s.oldValue=a[o].value);let l=s.dir[n];l&&(se(),Gr(l,e,8,[t.el,s,t,r]),le())}}const Qd=Symbol("_vte"),tv=t=>t.__isTeleport;function No(t,r){t.shapeFlag&6&&t.component?(t.transition=r,No(t.component.subTree,r)):t.shapeFlag&128?(t.ssContent.transition=r.clone(t.ssContent),t.ssFallback.transition=r.clone(t.ssFallback)):t.transition=r}/*! #__NO_SIDE_EFFECTS__ */function Hn(t,r){return bt(t)?Ut({name:t.name},r,{setup:t}):t}function Mu(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Di(t,r,e,n,i=!1){if(gt(t)){t.forEach((p,h)=>Di(p,r&&(gt(r)?r[h]:r),e,n,i));return}if(bn(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Di(t,r,e,n.component.subTree);return}const a=n.shapeFlag&4?Wo(n.component):n.el,o=i?null:a,{i:s,r:l}=t,u=r&&r.r,f=s.refs===Rt?s.refs={}:s.refs,c=s.setupState,d=Et(c),v=c===Rt?()=>!1:p=>Ct(d,p);if(u!=null&&u!==l&&(Gt(u)?(f[u]=null,v(u)&&(c[u]=null)):jt(u)&&(u.value=null)),bt(l))Nn(l,s,12,[o,f]);else{const p=Gt(l),h=jt(l);if(p||h){const g=()=>{if(t.f){const m=p?v(l)?c[l]:f[l]:l.value;i?gt(m)&&To(m,a):gt(m)?m.includes(a)||m.push(a):p?(f[l]=[a],v(l)&&(c[l]=f[l])):(l.value=[a],t.k&&(f[t.k]=l.value))}else p?(f[l]=o,v(l)&&(c[l]=o)):h&&(l.value=o,t.k&&(f[t.k]=o))};o?(g.id=-1,fr(g,e)):g()}}}Xi().requestIdleCallback;Xi().cancelIdleCallback;const bn=t=>!!t.type.__asyncLoader,wu=t=>t.type.__isKeepAlive;function rv(t,r){Tu(t,"a",r)}function ev(t,r){Tu(t,"da",r)}function Tu(t,r,e=qt){const n=t.__wdc||(t.__wdc=()=>{let i=e;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Zi(r,n,e),e){let i=e.parent;for(;i&&i.parent;)wu(i.parent.vnode)&&nv(n,r,e,i),i=i.parent}}function nv(t,r,e,n){const i=Zi(r,t,n,!0);Ru(()=>{To(n[r],i)},e)}function Zi(t,r,e=qt,n=!1){if(e){const i=e[t]||(e[t]=[]),a=r.__weh||(r.__weh=(...o)=>{se();const s=Ln(e),l=Gr(r,e,t,o);return s(),le(),l});return n?i.unshift(a):i.push(a),a}}const jr=t=>(r,e=qt)=>{(!In||t==="sp")&&Zi(t,(...n)=>r(...n),e)},iv=jr("bm"),av=jr("m"),ov=jr("bu"),sv=jr("u"),lv=jr("bum"),Ru=jr("um"),uv=jr("sp"),fv=jr("rtg"),cv=jr("rtc");function dv(t,r=qt){Zi("ec",t,r)}const vv="components";function Mi(t,r){return hv(vv,t,!0,r)||t}const pv=Symbol.for("v-ndc");function hv(t,r,e=!0,n=!1){const i=Sr||qt;if(i){const a=i.type;{const s=ap(a,!1);if(s&&(s===r||s===br(r)||s===Yi(br(r))))return a}const o=As(i[t]||a[t],r)||As(i.appContext[t],r);return!o&&n?a:o}}function As(t,r){return t&&(t[r]||t[br(r)]||t[Yi(br(r))])}function gv(t,r,e,n){let i;const a=e,o=gt(t);if(o||Gt(t)){const s=o&&$e(t);let l=!1;s&&(l=!gr(t),t=ji(t)),i=new Array(t.length);for(let u=0,f=t.length;u<f;u++)i[u]=r(l?Xt(t[u]):t[u],u,void 0,a)}else if(typeof t=="number"){i=new Array(t);for(let s=0;s<t;s++)i[s]=r(s+1,s,void 0,a)}else if(It(t))if(t[Symbol.iterator])i=Array.from(t,(s,l)=>r(s,l,void 0,a));else{const s=Object.keys(t);i=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const f=s[l];i[l]=r(t[f],f,l,a)}}else i=[];return i}const Xa=t=>t?Zu(t)?Wo(t):Xa(t.parent):null,_n=Ut(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Xa(t.parent),$root:t=>Xa(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Pu(t),$forceUpdate:t=>t.f||(t.f=()=>{ko(t.update)}),$nextTick:t=>t.n||(t.n=Ud.bind(t.proxy)),$watch:t=>kv.bind(t)}),ya=(t,r)=>t!==Rt&&!t.__isScriptSetup&&Ct(t,r),mv={get({_:t},r){if(r==="__v_skip")return!0;const{ctx:e,setupState:n,data:i,props:a,accessCache:o,type:s,appContext:l}=t;let u;if(r[0]!=="$"){const v=o[r];if(v!==void 0)switch(v){case 1:return n[r];case 2:return i[r];case 4:return e[r];case 3:return a[r]}else{if(ya(n,r))return o[r]=1,n[r];if(i!==Rt&&Ct(i,r))return o[r]=2,i[r];if((u=t.propsOptions[0])&&Ct(u,r))return o[r]=3,a[r];if(e!==Rt&&Ct(e,r))return o[r]=4,e[r];qa&&(o[r]=0)}}const f=_n[r];let c,d;if(f)return r==="$attrs"&&Yt(t.attrs,"get",""),f(t);if((c=s.__cssModules)&&(c=c[r]))return c;if(e!==Rt&&Ct(e,r))return o[r]=4,e[r];if(d=l.config.globalProperties,Ct(d,r))return d[r]},set({_:t},r,e){const{data:n,setupState:i,ctx:a}=t;return ya(i,r)?(i[r]=e,!0):n!==Rt&&Ct(n,r)?(n[r]=e,!0):Ct(t.props,r)||r[0]==="$"&&r.slice(1)in t?!1:(a[r]=e,!0)},has({_:{data:t,setupState:r,accessCache:e,ctx:n,appContext:i,propsOptions:a}},o){let s;return!!e[o]||t!==Rt&&Ct(t,o)||ya(r,o)||(s=a[0])&&Ct(s,o)||Ct(n,o)||Ct(_n,o)||Ct(i.config.globalProperties,o)},defineProperty(t,r,e){return e.get!=null?t._.accessCache[r]=0:Ct(e,"value")&&this.set(t,r,e.value,null),Reflect.defineProperty(t,r,e)}};function zs(t){return gt(t)?t.reduce((r,e)=>(r[e]=null,r),{}):t}let qa=!0;function bv(t){const r=Pu(t),e=t.proxy,n=t.ctx;qa=!1,r.beforeCreate&&Bs(r.beforeCreate,t,"bc");const{data:i,computed:a,methods:o,watch:s,provide:l,inject:u,created:f,beforeMount:c,mounted:d,beforeUpdate:v,updated:p,activated:h,deactivated:g,beforeDestroy:m,beforeUnmount:b,destroyed:x,unmounted:_,render:S,renderTracked:y,renderTriggered:C,errorCaptured:D,serverPrefetch:M,expose:R,inheritAttrs:z,components:I,directives:P,filters:B}=r;if(u&&_v(u,n,null),o)for(const $ in o){const N=o[$];bt(N)&&(n[$]=N.bind(e))}if(i){const $=i.call(e,e);It($)&&(t.data=Bo($))}if(qa=!0,a)for(const $ in a){const N=a[$],U=bt(N)?N.bind(e,e):bt(N.get)?N.get.bind(e,e):zr,Z=!bt(N)&&bt(N.set)?N.set.bind(e):zr,H=sp({get:U,set:Z});Object.defineProperty(n,$,{enumerable:!0,configurable:!0,get:()=>H.value,set:J=>H.value=J})}if(s)for(const $ in s)Ou(s[$],n,e,$);if(l){const $=bt(l)?l.call(e):l;Reflect.ownKeys($).forEach(N=>{Dv(N,$[N])})}f&&Bs(f,t,"c");function V($,N){gt(N)?N.forEach(U=>$(U.bind(e))):N&&$(N.bind(e))}if(V(iv,c),V(av,d),V(ov,v),V(sv,p),V(rv,h),V(ev,g),V(dv,D),V(cv,y),V(fv,C),V(lv,b),V(Ru,_),V(uv,M),gt(R))if(R.length){const $=t.exposed||(t.exposed={});R.forEach(N=>{Object.defineProperty($,N,{get:()=>e[N],set:U=>e[N]=U})})}else t.exposed||(t.exposed={});S&&t.render===zr&&(t.render=S),z!=null&&(t.inheritAttrs=z),I&&(t.components=I),P&&(t.directives=P),M&&Mu(t)}function _v(t,r,e=zr){gt(t)&&(t=ja(t));for(const n in t){const i=t[n];let a;It(i)?"default"in i?a=mi(i.from||n,i.default,!0):a=mi(i.from||n):a=mi(i),jt(a)?Object.defineProperty(r,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):r[n]=a}}function Bs(t,r,e){Gr(gt(t)?t.map(n=>n.bind(r.proxy)):t.bind(r.proxy),r,e)}function Ou(t,r,e,n){let i=n.includes(".")?Yu(e,n):()=>e[n];if(Gt(t)){const a=r[t];bt(a)&&Ea(i,a)}else if(bt(t))Ea(i,t.bind(e));else if(It(t))if(gt(t))t.forEach(a=>Ou(a,r,e,n));else{const a=bt(t.handler)?t.handler.bind(e):r[t.handler];bt(a)&&Ea(i,a,t)}}function Pu(t){const r=t.type,{mixins:e,extends:n}=r,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=t.appContext,s=a.get(r);let l;return s?l=s:!i.length&&!e&&!n?l=r:(l={},i.length&&i.forEach(u=>wi(l,u,o,!0)),wi(l,r,o)),It(r)&&a.set(r,l),l}function wi(t,r,e,n=!1){const{mixins:i,extends:a}=r;a&&wi(t,a,e,!0),i&&i.forEach(o=>wi(t,o,e,!0));for(const o in r)if(!(n&&o==="expose")){const s=xv[o]||e&&e[o];t[o]=s?s(t[o],r[o]):r[o]}return t}const xv={data:Gs,props:Fs,emits:Fs,methods:cn,computed:cn,beforeCreate:Qt,created:Qt,beforeMount:Qt,mounted:Qt,beforeUpdate:Qt,updated:Qt,beforeDestroy:Qt,beforeUnmount:Qt,destroyed:Qt,unmounted:Qt,activated:Qt,deactivated:Qt,errorCaptured:Qt,serverPrefetch:Qt,components:cn,directives:cn,watch:Sv,provide:Gs,inject:yv};function Gs(t,r){return r?t?function(){return Ut(bt(t)?t.call(this,this):t,bt(r)?r.call(this,this):r)}:r:t}function yv(t,r){return cn(ja(t),ja(r))}function ja(t){if(gt(t)){const r={};for(let e=0;e<t.length;e++)r[t[e]]=t[e];return r}return t}function Qt(t,r){return t?[...new Set([].concat(t,r))]:r}function cn(t,r){return t?Ut(Object.create(null),t,r):r}function Fs(t,r){return t?gt(t)&&gt(r)?[...new Set([...t,...r])]:Ut(Object.create(null),zs(t),zs(r??{})):r}function Sv(t,r){if(!t)return r;if(!r)return t;const e=Ut(Object.create(null),t);for(const n in r)e[n]=Qt(t[n],r[n]);return e}function Iu(){return{app:null,config:{isNativeTag:od,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ev=0;function Cv(t,r){return function(n,i=null){bt(n)||(n=Ut({},n)),i!=null&&!It(i)&&(i=null);const a=Iu(),o=new WeakSet,s=[];let l=!1;const u=a.app={_uid:Ev++,_component:n,_props:i,_container:null,_context:a,_instance:null,version:lp,get config(){return a.config},set config(f){},use(f,...c){return o.has(f)||(f&&bt(f.install)?(o.add(f),f.install(u,...c)):bt(f)&&(o.add(f),f(u,...c))),u},mixin(f){return a.mixins.includes(f)||a.mixins.push(f),u},component(f,c){return c?(a.components[f]=c,u):a.components[f]},directive(f,c){return c?(a.directives[f]=c,u):a.directives[f]},mount(f,c,d){if(!l){const v=u._ceVNode||Cr(n,i);return v.appContext=a,d===!0?d="svg":d===!1&&(d=void 0),t(v,f,d),l=!0,u._container=f,f.__vue_app__=u,Wo(v.component)}},onUnmount(f){s.push(f)},unmount(){l&&(Gr(s,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(f,c){return a.provides[f]=c,u},runWithContext(f){const c=Ye;Ye=u;try{return f()}finally{Ye=c}}};return u}}let Ye=null;function Dv(t,r){if(qt){let e=qt.provides;const n=qt.parent&&qt.parent.provides;n===e&&(e=qt.provides=Object.create(n)),e[t]=r}}function mi(t,r,e=!1){const n=qt||Sr;if(n||Ye){const i=Ye?Ye._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return e&&bt(r)?r.call(n&&n.proxy):r}}const Au={},zu=()=>Object.create(Au),Bu=t=>Object.getPrototypeOf(t)===Au;function Mv(t,r,e,n=!1){const i={},a=zu();t.propsDefaults=Object.create(null),Gu(t,r,i,a);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);e?t.props=n?i:kd(i):t.type.props?t.props=i:t.props=a,t.attrs=a}function wv(t,r,e,n){const{props:i,attrs:a,vnode:{patchFlag:o}}=t,s=Et(i),[l]=t.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const f=t.vnode.dynamicProps;for(let c=0;c<f.length;c++){let d=f[c];if(Ji(t.emitsOptions,d))continue;const v=r[d];if(l)if(Ct(a,d))v!==a[d]&&(a[d]=v,u=!0);else{const p=br(d);i[p]=Ua(l,s,p,v,t,!1)}else v!==a[d]&&(a[d]=v,u=!0)}}}else{Gu(t,r,i,a)&&(u=!0);let f;for(const c in s)(!r||!Ct(r,c)&&((f=Re(c))===c||!Ct(r,f)))&&(l?e&&(e[c]!==void 0||e[f]!==void 0)&&(i[c]=Ua(l,s,c,void 0,t,!0)):delete i[c]);if(a!==s)for(const c in a)(!r||!Ct(r,c))&&(delete a[c],u=!0)}u&&Wr(t.attrs,"set","")}function Gu(t,r,e,n){const[i,a]=t.propsOptions;let o=!1,s;if(r)for(let l in r){if(hn(l))continue;const u=r[l];let f;i&&Ct(i,f=br(l))?!a||!a.includes(f)?e[f]=u:(s||(s={}))[f]=u:Ji(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(a){const l=Et(e),u=s||Rt;for(let f=0;f<a.length;f++){const c=a[f];e[c]=Ua(i,l,c,u[c],t,!Ct(u,c))}}return o}function Ua(t,r,e,n,i,a){const o=t[e];if(o!=null){const s=Ct(o,"default");if(s&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&bt(l)){const{propsDefaults:u}=i;if(e in u)n=u[e];else{const f=Ln(i);n=u[e]=l.call(null,r),f()}}else n=l;i.ce&&i.ce._setProp(e,n)}o[0]&&(a&&!s?n=!1:o[1]&&(n===""||n===Re(e))&&(n=!0))}return n}const Tv=new WeakMap;function Fu(t,r,e=!1){const n=e?Tv:r.propsCache,i=n.get(t);if(i)return i;const a=t.props,o={},s=[];let l=!1;if(!bt(t)){const f=c=>{l=!0;const[d,v]=Fu(c,r,!0);Ut(o,d),v&&s.push(...v)};!e&&r.mixins.length&&r.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!a&&!l)return It(t)&&n.set(t,Le),Le;if(gt(a))for(let f=0;f<a.length;f++){const c=br(a[f]);ks(c)&&(o[c]=Rt)}else if(a)for(const f in a){const c=br(f);if(ks(c)){const d=a[f],v=o[c]=gt(d)||bt(d)?{type:d}:Ut({},d),p=v.type;let h=!1,g=!0;if(gt(p))for(let m=0;m<p.length;++m){const b=p[m],x=bt(b)&&b.name;if(x==="Boolean"){h=!0;break}else x==="String"&&(g=!1)}else h=bt(p)&&p.name==="Boolean";v[0]=h,v[1]=g,(h||Ct(v,"default"))&&s.push(c)}}const u=[o,s];return It(t)&&n.set(t,u),u}function ks(t){return t[0]!=="$"&&!hn(t)}const ku=t=>t[0]==="_"||t==="$stable",Ho=t=>gt(t)?t.map(Ir):[Ir(t)],Rv=(t,r,e)=>{if(r._n)return r;const n=Jd((...i)=>Ho(r(...i)),e);return n._c=!1,n},Nu=(t,r,e)=>{const n=t._ctx;for(const i in t){if(ku(i))continue;const a=t[i];if(bt(a))r[i]=Rv(i,a,n);else if(a!=null){const o=Ho(a);r[i]=()=>o}}},Hu=(t,r)=>{const e=Ho(r);t.slots.default=()=>e},Lu=(t,r,e)=>{for(const n in r)(e||n!=="_")&&(t[n]=r[n])},Ov=(t,r,e)=>{const n=t.slots=zu();if(t.vnode.shapeFlag&32){const i=r._;i?(Lu(n,r,e),e&&tu(n,"_",i,!0)):Nu(r,n)}else r&&Hu(t,r)},Pv=(t,r,e)=>{const{vnode:n,slots:i}=t;let a=!0,o=Rt;if(n.shapeFlag&32){const s=r._;s?e&&s===1?a=!1:Lu(i,r,e):(a=!r.$stable,Nu(r,i)),o=r}else r&&(Hu(t,r),o={default:1});if(a)for(const s in i)!ku(s)&&o[s]==null&&delete i[s]},fr=Yv;function Iv(t){return Av(t)}function Av(t,r){const e=Xi();e.__VUE__=!0;const{insert:n,remove:i,patchProp:a,createElement:o,createText:s,createComment:l,setText:u,setElementText:f,parentNode:c,nextSibling:d,setScopeId:v=zr,insertStaticContent:p}=t,h=(E,w,A,k=null,F=null,L=null,j=void 0,W=null,Y=!!w.dynamicChildren)=>{if(E===w)return;E&&!fn(E,w)&&(k=ot(E),J(E,F,L,!0),E=null),w.patchFlag===-2&&(Y=!1,w.dynamicChildren=null);const{type:X,ref:lt,shapeFlag:Q}=w;switch(X){case Qi:g(E,w,A,k);break;case On:m(E,w,A,k);break;case Ca:E==null&&b(w,A,k,j);break;case Pr:I(E,w,A,k,F,L,j,W,Y);break;default:Q&1?S(E,w,A,k,F,L,j,W,Y):Q&6?P(E,w,A,k,F,L,j,W,Y):(Q&64||Q&128)&&X.process(E,w,A,k,F,L,j,W,Y,_t)}lt!=null&&F&&Di(lt,E&&E.ref,L,w||E,!w)},g=(E,w,A,k)=>{if(E==null)n(w.el=s(w.children),A,k);else{const F=w.el=E.el;w.children!==E.children&&u(F,w.children)}},m=(E,w,A,k)=>{E==null?n(w.el=l(w.children||""),A,k):w.el=E.el},b=(E,w,A,k)=>{[E.el,E.anchor]=p(E.children,w,A,k,E.el,E.anchor)},x=({el:E,anchor:w},A,k)=>{let F;for(;E&&E!==w;)F=d(E),n(E,A,k),E=F;n(w,A,k)},_=({el:E,anchor:w})=>{let A;for(;E&&E!==w;)A=d(E),i(E),E=A;i(w)},S=(E,w,A,k,F,L,j,W,Y)=>{w.type==="svg"?j="svg":w.type==="math"&&(j="mathml"),E==null?y(w,A,k,F,L,j,W,Y):M(E,w,F,L,j,W,Y)},y=(E,w,A,k,F,L,j,W)=>{let Y,X;const{props:lt,shapeFlag:Q,transition:it,dirs:ut}=E;if(Y=E.el=o(E.type,L,lt&&lt.is,lt),Q&8?f(Y,E.children):Q&16&&D(E.children,Y,null,k,F,Sa(E,L),j,W),ut&&ce(E,null,k,"created"),C(Y,E,E.scopeId,j,k),lt){for(const xt in lt)xt!=="value"&&!hn(xt)&&a(Y,xt,null,lt[xt],L,k);"value"in lt&&a(Y,"value",null,lt.value,L),(X=lt.onVnodeBeforeMount)&&Rr(X,k,E)}ut&&ce(E,null,k,"beforeMount");const ht=zv(F,it);ht&&it.beforeEnter(Y),n(Y,w,A),((X=lt&&lt.onVnodeMounted)||ht||ut)&&fr(()=>{X&&Rr(X,k,E),ht&&it.enter(Y),ut&&ce(E,null,k,"mounted")},F)},C=(E,w,A,k,F)=>{if(A&&v(E,A),k)for(let L=0;L<k.length;L++)v(E,k[L]);if(F){let L=F.subTree;if(w===L||qu(L.type)&&(L.ssContent===w||L.ssFallback===w)){const j=F.vnode;C(E,j,j.scopeId,j.slotScopeIds,F.parent)}}},D=(E,w,A,k,F,L,j,W,Y=0)=>{for(let X=Y;X<E.length;X++){const lt=E[X]=W?Zr(E[X]):Ir(E[X]);h(null,lt,w,A,k,F,L,j,W)}},M=(E,w,A,k,F,L,j)=>{const W=w.el=E.el;let{patchFlag:Y,dynamicChildren:X,dirs:lt}=w;Y|=E.patchFlag&16;const Q=E.props||Rt,it=w.props||Rt;let ut;if(A&&de(A,!1),(ut=it.onVnodeBeforeUpdate)&&Rr(ut,A,w,E),lt&&ce(w,E,A,"beforeUpdate"),A&&de(A,!0),(Q.innerHTML&&it.innerHTML==null||Q.textContent&&it.textContent==null)&&f(W,""),X?R(E.dynamicChildren,X,W,A,k,Sa(w,F),L):j||N(E,w,W,null,A,k,Sa(w,F),L,!1),Y>0){if(Y&16)z(W,Q,it,A,F);else if(Y&2&&Q.class!==it.class&&a(W,"class",null,it.class,F),Y&4&&a(W,"style",Q.style,it.style,F),Y&8){const ht=w.dynamicProps;for(let xt=0;xt<ht.length;xt++){const St=ht[xt],$t=Q[St],Vt=it[St];(Vt!==$t||St==="value")&&a(W,St,$t,Vt,F,A)}}Y&1&&E.children!==w.children&&f(W,w.children)}else!j&&X==null&&z(W,Q,it,A,F);((ut=it.onVnodeUpdated)||lt)&&fr(()=>{ut&&Rr(ut,A,w,E),lt&&ce(w,E,A,"updated")},k)},R=(E,w,A,k,F,L,j)=>{for(let W=0;W<w.length;W++){const Y=E[W],X=w[W],lt=Y.el&&(Y.type===Pr||!fn(Y,X)||Y.shapeFlag&70)?c(Y.el):A;h(Y,X,lt,null,k,F,L,j,!0)}},z=(E,w,A,k,F)=>{if(w!==A){if(w!==Rt)for(const L in w)!hn(L)&&!(L in A)&&a(E,L,w[L],null,F,k);for(const L in A){if(hn(L))continue;const j=A[L],W=w[L];j!==W&&L!=="value"&&a(E,L,W,j,F,k)}"value"in A&&a(E,"value",w.value,A.value,F)}},I=(E,w,A,k,F,L,j,W,Y)=>{const X=w.el=E?E.el:s(""),lt=w.anchor=E?E.anchor:s("");let{patchFlag:Q,dynamicChildren:it,slotScopeIds:ut}=w;ut&&(W=W?W.concat(ut):ut),E==null?(n(X,A,k),n(lt,A,k),D(w.children||[],A,lt,F,L,j,W,Y)):Q>0&&Q&64&&it&&E.dynamicChildren?(R(E.dynamicChildren,it,A,F,L,j,W),(w.key!=null||F&&w===F.subTree)&&Wu(E,w,!0)):N(E,w,A,lt,F,L,j,W,Y)},P=(E,w,A,k,F,L,j,W,Y)=>{w.slotScopeIds=W,E==null?w.shapeFlag&512?F.ctx.activate(w,A,k,j,Y):B(w,A,k,F,L,j,Y):G(E,w,Y)},B=(E,w,A,k,F,L,j)=>{const W=E.component=tp(E,k,F);if(wu(E)&&(W.ctx.renderer=_t),rp(W,!1,j),W.asyncDep){if(F&&F.registerDep(W,V,j),!E.el){const Y=W.subTree=Cr(On);m(null,Y,w,A)}}else V(W,E,w,A,F,L,j)},G=(E,w,A)=>{const k=w.component=E.component;if($v(E,w,A))if(k.asyncDep&&!k.asyncResolved){$(k,w,A);return}else k.next=w,k.update();else w.el=E.el,k.vnode=w},V=(E,w,A,k,F,L,j)=>{const W=()=>{if(E.isMounted){let{next:Q,bu:it,u:ut,parent:ht,vnode:xt}=E;{const ar=$u(E);if(ar){Q&&(Q.el=xt.el,$(E,Q,j)),ar.asyncDep.then(()=>{E.isUnmounted||W()});return}}let St=Q,$t;de(E,!1),Q?(Q.el=xt.el,$(E,Q,j)):Q=xt,it&&ga(it),($t=Q.props&&Q.props.onVnodeBeforeUpdate)&&Rr($t,ht,Q,xt),de(E,!0);const Vt=Hs(E),Zt=E.subTree;E.subTree=Vt,h(Zt,Vt,c(Zt.el),ot(Zt),E,F,L),Q.el=Vt.el,St===null&&Vv(E,Vt.el),ut&&fr(ut,F),($t=Q.props&&Q.props.onVnodeUpdated)&&fr(()=>Rr($t,ht,Q,xt),F)}else{let Q;const{el:it,props:ut}=w,{bm:ht,m:xt,parent:St,root:$t,type:Vt}=E,Zt=bn(w);de(E,!1),ht&&ga(ht),!Zt&&(Q=ut&&ut.onVnodeBeforeMount)&&Rr(Q,St,w),de(E,!0);{$t.ce&&$t.ce._injectChildStyle(Vt);const ar=E.subTree=Hs(E);h(null,ar,A,k,E,F,L),w.el=ar.el}if(xt&&fr(xt,F),!Zt&&(Q=ut&&ut.onVnodeMounted)){const ar=w;fr(()=>Rr(Q,St,ar),F)}(w.shapeFlag&256||St&&bn(St.vnode)&&St.vnode.shapeFlag&256)&&E.a&&fr(E.a,F),E.isMounted=!0,w=A=k=null}};E.scope.on();const Y=E.effect=new au(W);E.scope.off();const X=E.update=Y.run.bind(Y),lt=E.job=Y.runIfDirty.bind(Y);lt.i=E,lt.id=E.uid,Y.scheduler=()=>ko(lt),de(E,!0),X()},$=(E,w,A)=>{w.component=E;const k=E.vnode.props;E.vnode=w,E.next=null,wv(E,w.props,k,A),Pv(E,w.children,A),se(),Is(E),le()},N=(E,w,A,k,F,L,j,W,Y=!1)=>{const X=E&&E.children,lt=E?E.shapeFlag:0,Q=w.children,{patchFlag:it,shapeFlag:ut}=w;if(it>0){if(it&128){Z(X,Q,A,k,F,L,j,W,Y);return}else if(it&256){U(X,Q,A,k,F,L,j,W,Y);return}}ut&8?(lt&16&&tt(X,F,L),Q!==X&&f(A,Q)):lt&16?ut&16?Z(X,Q,A,k,F,L,j,W,Y):tt(X,F,L,!0):(lt&8&&f(A,""),ut&16&&D(Q,A,k,F,L,j,W,Y))},U=(E,w,A,k,F,L,j,W,Y)=>{E=E||Le,w=w||Le;const X=E.length,lt=w.length,Q=Math.min(X,lt);let it;for(it=0;it<Q;it++){const ut=w[it]=Y?Zr(w[it]):Ir(w[it]);h(E[it],ut,A,null,F,L,j,W,Y)}X>lt?tt(E,F,L,!0,!1,Q):D(w,A,k,F,L,j,W,Y,Q)},Z=(E,w,A,k,F,L,j,W,Y)=>{let X=0;const lt=w.length;let Q=E.length-1,it=lt-1;for(;X<=Q&&X<=it;){const ut=E[X],ht=w[X]=Y?Zr(w[X]):Ir(w[X]);if(fn(ut,ht))h(ut,ht,A,null,F,L,j,W,Y);else break;X++}for(;X<=Q&&X<=it;){const ut=E[Q],ht=w[it]=Y?Zr(w[it]):Ir(w[it]);if(fn(ut,ht))h(ut,ht,A,null,F,L,j,W,Y);else break;Q--,it--}if(X>Q){if(X<=it){const ut=it+1,ht=ut<lt?w[ut].el:k;for(;X<=it;)h(null,w[X]=Y?Zr(w[X]):Ir(w[X]),A,ht,F,L,j,W,Y),X++}}else if(X>it)for(;X<=Q;)J(E[X],F,L,!0),X++;else{const ut=X,ht=X,xt=new Map;for(X=ht;X<=it;X++){const Lt=w[X]=Y?Zr(w[X]):Ir(w[X]);Lt.key!=null&&xt.set(Lt.key,X)}let St,$t=0;const Vt=it-ht+1;let Zt=!1,ar=0;const fe=new Array(Vt);for(X=0;X<Vt;X++)fe[X]=0;for(X=ut;X<=Q;X++){const Lt=E[X];if($t>=Vt){J(Lt,F,L,!0);continue}let pr;if(Lt.key!=null)pr=xt.get(Lt.key);else for(St=ht;St<=it;St++)if(fe[St-ht]===0&&fn(Lt,w[St])){pr=St;break}pr===void 0?J(Lt,F,L,!0):(fe[pr-ht]=X+1,pr>=ar?ar=pr:Zt=!0,h(Lt,w[pr],A,null,F,L,j,W,Y),$t++)}const ln=Zt?Bv(fe):Le;for(St=ln.length-1,X=Vt-1;X>=0;X--){const Lt=ht+X,pr=w[Lt],Qn=Lt+1<lt?w[Lt+1].el:k;fe[X]===0?h(null,pr,A,Qn,F,L,j,W,Y):Zt&&(St<0||X!==ln[St]?H(pr,A,Qn,2):St--)}}},H=(E,w,A,k,F=null)=>{const{el:L,type:j,transition:W,children:Y,shapeFlag:X}=E;if(X&6){H(E.component.subTree,w,A,k);return}if(X&128){E.suspense.move(w,A,k);return}if(X&64){j.move(E,w,A,_t);return}if(j===Pr){n(L,w,A);for(let Q=0;Q<Y.length;Q++)H(Y[Q],w,A,k);n(E.anchor,w,A);return}if(j===Ca){x(E,w,A);return}if(k!==2&&X&1&&W)if(k===0)W.beforeEnter(L),n(L,w,A),fr(()=>W.enter(L),F);else{const{leave:Q,delayLeave:it,afterLeave:ut}=W,ht=()=>n(L,w,A),xt=()=>{Q(L,()=>{ht(),ut&&ut()})};it?it(L,ht,xt):xt()}else n(L,w,A)},J=(E,w,A,k=!1,F=!1)=>{const{type:L,props:j,ref:W,children:Y,dynamicChildren:X,shapeFlag:lt,patchFlag:Q,dirs:it,cacheIndex:ut}=E;if(Q===-2&&(F=!1),W!=null&&Di(W,null,A,E,!0),ut!=null&&(w.renderCache[ut]=void 0),lt&256){w.ctx.deactivate(E);return}const ht=lt&1&&it,xt=!bn(E);let St;if(xt&&(St=j&&j.onVnodeBeforeUnmount)&&Rr(St,w,E),lt&6)at(E.component,A,k);else{if(lt&128){E.suspense.unmount(A,k);return}ht&&ce(E,null,w,"beforeUnmount"),lt&64?E.type.remove(E,w,A,_t,k):X&&!X.hasOnce&&(L!==Pr||Q>0&&Q&64)?tt(X,w,A,!1,!0):(L===Pr&&Q&384||!F&&lt&16)&&tt(Y,w,A),k&&nt(E)}(xt&&(St=j&&j.onVnodeUnmounted)||ht)&&fr(()=>{St&&Rr(St,w,E),ht&&ce(E,null,w,"unmounted")},A)},nt=E=>{const{type:w,el:A,anchor:k,transition:F}=E;if(w===Pr){rt(A,k);return}if(w===Ca){_(E);return}const L=()=>{i(A),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(E.shapeFlag&1&&F&&!F.persisted){const{leave:j,delayLeave:W}=F,Y=()=>j(A,L);W?W(E.el,L,Y):Y()}else L()},rt=(E,w)=>{let A;for(;E!==w;)A=d(E),i(E),E=A;i(w)},at=(E,w,A)=>{const{bum:k,scope:F,job:L,subTree:j,um:W,m:Y,a:X}=E;Ns(Y),Ns(X),k&&ga(k),F.stop(),L&&(L.flags|=8,J(j,E,w,A)),W&&fr(W,w),fr(()=>{E.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},tt=(E,w,A,k=!1,F=!1,L=0)=>{for(let j=L;j<E.length;j++)J(E[j],w,A,k,F)},ot=E=>{if(E.shapeFlag&6)return ot(E.component.subTree);if(E.shapeFlag&128)return E.suspense.next();const w=d(E.anchor||E.el),A=w&&w[Qd];return A?d(A):w};let ft=!1;const pt=(E,w,A)=>{E==null?w._vnode&&J(w._vnode,null,null,!0):h(w._vnode||null,E,w,null,null,null,A),w._vnode=E,ft||(ft=!0,Is(),Eu(),ft=!1)},_t={p:h,um:J,m:H,r:nt,mt:B,mc:D,pc:N,pbc:R,n:ot,o:t};return{render:pt,hydrate:void 0,createApp:Cv(pt)}}function Sa({type:t,props:r},e){return e==="svg"&&t==="foreignObject"||e==="mathml"&&t==="annotation-xml"&&r&&r.encoding&&r.encoding.includes("html")?void 0:e}function de({effect:t,job:r},e){e?(t.flags|=32,r.flags|=4):(t.flags&=-33,r.flags&=-5)}function zv(t,r){return(!t||t&&!t.pendingBranch)&&r&&!r.persisted}function Wu(t,r,e=!1){const n=t.children,i=r.children;if(gt(n)&&gt(i))for(let a=0;a<n.length;a++){const o=n[a];let s=i[a];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[a]=Zr(i[a]),s.el=o.el),!e&&s.patchFlag!==-2&&Wu(o,s)),s.type===Qi&&(s.el=o.el)}}function Bv(t){const r=t.slice(),e=[0];let n,i,a,o,s;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(i=e[e.length-1],t[i]<u){r[n]=i,e.push(n);continue}for(a=0,o=e.length-1;a<o;)s=a+o>>1,t[e[s]]<u?a=s+1:o=s;u<t[e[a]]&&(a>0&&(r[n]=e[a-1]),e[a]=n)}}for(a=e.length,o=e[a-1];a-- >0;)e[a]=o,o=r[o];return e}function $u(t){const r=t.subTree.component;if(r)return r.asyncDep&&!r.asyncResolved?r:$u(r)}function Ns(t){if(t)for(let r=0;r<t.length;r++)t[r].flags|=8}const Gv=Symbol.for("v-scx"),Fv=()=>mi(Gv);function Ea(t,r,e){return Vu(t,r,e)}function Vu(t,r,e=Rt){const{immediate:n,deep:i,flush:a,once:o}=e,s=Ut({},e),l=r&&n||!r&&a!=="post";let u;if(In){if(a==="sync"){const v=Fv();u=v.__watcherHandles||(v.__watcherHandles=[])}else if(!l){const v=()=>{};return v.stop=zr,v.resume=zr,v.pause=zr,v}}const f=qt;s.call=(v,p,h)=>Gr(v,f,p,h);let c=!1;a==="post"?s.scheduler=v=>{fr(v,f&&f.suspense)}:a!=="sync"&&(c=!0,s.scheduler=(v,p)=>{p?v():ko(v)}),s.augmentJob=v=>{r&&(v.flags|=4),c&&(v.flags|=2,f&&(v.id=f.uid,v.i=f))};const d=qd(t,r,s);return In&&(u?u.push(d):l&&d()),d}function kv(t,r,e){const n=this.proxy,i=Gt(t)?t.includes(".")?Yu(n,t):()=>n[t]:t.bind(n,n);let a;bt(r)?a=r:(a=r.handler,e=r);const o=Ln(this),s=Vu(i,a.bind(n),e);return o(),s}function Yu(t,r){const e=r.split(".");return()=>{let n=t;for(let i=0;i<e.length&&n;i++)n=n[e[i]];return n}}const Nv=(t,r)=>r==="modelValue"||r==="model-value"?t.modelModifiers:t[`${r}Modifiers`]||t[`${br(r)}Modifiers`]||t[`${Re(r)}Modifiers`];function Hv(t,r,...e){if(t.isUnmounted)return;const n=t.vnode.props||Rt;let i=e;const a=r.startsWith("update:"),o=a&&Nv(n,r.slice(7));o&&(o.trim&&(i=e.map(f=>Gt(f)?f.trim():f)),o.number&&(i=e.map(cd)));let s,l=n[s=ha(r)]||n[s=ha(br(r))];!l&&a&&(l=n[s=ha(Re(r))]),l&&Gr(l,t,6,i);const u=n[s+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[s])return;t.emitted[s]=!0,Gr(u,t,6,i)}}function Xu(t,r,e=!1){const n=r.emitsCache,i=n.get(t);if(i!==void 0)return i;const a=t.emits;let o={},s=!1;if(!bt(t)){const l=u=>{const f=Xu(u,r,!0);f&&(s=!0,Ut(o,f))};!e&&r.mixins.length&&r.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!a&&!s?(It(t)&&n.set(t,null),null):(gt(a)?a.forEach(l=>o[l]=null):Ut(o,a),It(t)&&n.set(t,o),o)}function Ji(t,r){return!t||!Wi(r)?!1:(r=r.slice(2).replace(/Once$/,""),Ct(t,r[0].toLowerCase()+r.slice(1))||Ct(t,Re(r))||Ct(t,r))}function Hs(t){const{type:r,vnode:e,proxy:n,withProxy:i,propsOptions:[a],slots:o,attrs:s,emit:l,render:u,renderCache:f,props:c,data:d,setupState:v,ctx:p,inheritAttrs:h}=t,g=Ci(t);let m,b;try{if(e.shapeFlag&4){const _=i||n,S=_;m=Ir(u.call(S,_,f,c,v,d,p)),b=s}else{const _=r;m=Ir(_.length>1?_(c,{attrs:s,slots:o,emit:l}):_(c,null)),b=r.props?s:Lv(s)}}catch(_){xn.length=0,Ki(_,t,1),m=Cr(On)}let x=m;if(b&&h!==!1){const _=Object.keys(b),{shapeFlag:S}=x;_.length&&S&7&&(a&&_.some(wo)&&(b=Wv(b,a)),x=je(x,b,!1,!0))}return e.dirs&&(x=je(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(e.dirs):e.dirs),e.transition&&No(x,e.transition),m=x,Ci(g),m}const Lv=t=>{let r;for(const e in t)(e==="class"||e==="style"||Wi(e))&&((r||(r={}))[e]=t[e]);return r},Wv=(t,r)=>{const e={};for(const n in t)(!wo(n)||!(n.slice(9)in r))&&(e[n]=t[n]);return e};function $v(t,r,e){const{props:n,children:i,component:a}=t,{props:o,children:s,patchFlag:l}=r,u=a.emitsOptions;if(r.dirs||r.transition)return!0;if(e&&l>=0){if(l&1024)return!0;if(l&16)return n?Ls(n,o,u):!!o;if(l&8){const f=r.dynamicProps;for(let c=0;c<f.length;c++){const d=f[c];if(o[d]!==n[d]&&!Ji(u,d))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:n===o?!1:n?o?Ls(n,o,u):!0:!!o;return!1}function Ls(t,r,e){const n=Object.keys(r);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const a=n[i];if(r[a]!==t[a]&&!Ji(e,a))return!0}return!1}function Vv({vnode:t,parent:r},e){for(;r;){const n=r.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=r.vnode).el=e,r=r.parent;else break}}const qu=t=>t.__isSuspense;function Yv(t,r){r&&r.pendingBranch?gt(t)?r.effects.push(...t):r.effects.push(t):Zd(t)}const Pr=Symbol.for("v-fgt"),Qi=Symbol.for("v-txt"),On=Symbol.for("v-cmt"),Ca=Symbol.for("v-stc"),xn=[];let dr=null;function Ee(t=!1){xn.push(dr=t?null:[])}function Xv(){xn.pop(),dr=xn[xn.length-1]||null}let Pn=1;function Ws(t,r=!1){Pn+=t,t<0&&dr&&r&&(dr.hasOnce=!0)}function ju(t){return t.dynamicChildren=Pn>0?dr||Le:null,Xv(),Pn>0&&dr&&dr.push(t),t}function qe(t,r,e,n,i,a){return ju(Hr(t,r,e,n,i,a,!0))}function qv(t,r,e,n,i){return ju(Cr(t,r,e,n,i,!0))}function Uu(t){return t?t.__v_isVNode===!0:!1}function fn(t,r){return t.type===r.type&&t.key===r.key}const Ku=({key:t})=>t??null,bi=({ref:t,ref_key:r,ref_for:e})=>(typeof t=="number"&&(t=""+t),t!=null?Gt(t)||jt(t)||bt(t)?{i:Sr,r:t,k:r,f:!!e}:t:null);function Hr(t,r=null,e=null,n=0,i=null,a=t===Pr?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:r,key:r&&Ku(r),ref:r&&bi(r),scopeId:Du,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Sr};return s?(Lo(l,e),a&128&&t.normalize(l)):e&&(l.shapeFlag|=Gt(e)?8:16),Pn>0&&!o&&dr&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&dr.push(l),l}const Cr=jv;function jv(t,r=null,e=null,n=0,i=null,a=!1){if((!t||t===pv)&&(t=On),Uu(t)){const s=je(t,r,!0);return e&&Lo(s,e),Pn>0&&!a&&dr&&(s.shapeFlag&6?dr[dr.indexOf(t)]=s:dr.push(s)),s.patchFlag=-2,s}if(op(t)&&(t=t.__vccOpts),r){r=Uv(r);let{class:s,style:l}=r;s&&!Gt(s)&&(r.class=ye(s)),It(l)&&(Fo(l)&&!gt(l)&&(l=Ut({},l)),r.style=qi(l))}const o=Gt(t)?1:qu(t)?128:tv(t)?64:It(t)?4:bt(t)?2:0;return Hr(t,r,e,n,i,o,a,!0)}function Uv(t){return t?Fo(t)||Bu(t)?Ut({},t):t:null}function je(t,r,e=!1,n=!1){const{props:i,ref:a,patchFlag:o,children:s,transition:l}=t,u=r?Zv(i||{},r):i,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Ku(u),ref:r&&r.ref?e&&a?gt(a)?a.concat(bi(r)):[a,bi(r)]:bi(r):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:r&&t.type!==Pr?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&je(t.ssContent),ssFallback:t.ssFallback&&je(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&No(f,l.clone(f)),f}function Kv(t=" ",r=0){return Cr(Qi,null,t,r)}function Ir(t){return t==null||typeof t=="boolean"?Cr(On):gt(t)?Cr(Pr,null,t.slice()):Uu(t)?Zr(t):Cr(Qi,null,String(t))}function Zr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:je(t)}function Lo(t,r){let e=0;const{shapeFlag:n}=t;if(r==null)r=null;else if(gt(r))e=16;else if(typeof r=="object")if(n&65){const i=r.default;i&&(i._c&&(i._d=!1),Lo(t,i()),i._c&&(i._d=!0));return}else{e=32;const i=r._;!i&&!Bu(r)?r._ctx=Sr:i===3&&Sr&&(Sr.slots._===1?r._=1:(r._=2,t.patchFlag|=1024))}else bt(r)?(r={default:r,_ctx:Sr},e=32):(r=String(r),n&64?(e=16,r=[Kv(r)]):e=8);t.children=r,t.shapeFlag|=e}function Zv(...t){const r={};for(let e=0;e<t.length;e++){const n=t[e];for(const i in n)if(i==="class")r.class!==n.class&&(r.class=ye([r.class,n.class]));else if(i==="style")r.style=qi([r.style,n.style]);else if(Wi(i)){const a=r[i],o=n[i];o&&a!==o&&!(gt(a)&&a.includes(o))&&(r[i]=a?[].concat(a,o):o)}else i!==""&&(r[i]=n[i])}return r}function Rr(t,r,e,n=null){Gr(t,r,7,[e,n])}const Jv=Iu();let Qv=0;function tp(t,r,e){const n=t.type,i=(r?r.appContext:t.appContext)||Jv,a={uid:Qv++,vnode:t,type:n,parent:r,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new bd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(i.provides),ids:r?r.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Fu(n,i),emitsOptions:Xu(n,i),emit:null,emitted:null,propsDefaults:Rt,inheritAttrs:n.inheritAttrs,ctx:Rt,data:Rt,props:Rt,attrs:Rt,slots:Rt,refs:Rt,setupState:Rt,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=r?r.root:a,a.emit=Hv.bind(null,a),t.ce&&t.ce(a),a}let qt=null,Ti,Ka;{const t=Xi(),r=(e,n)=>{let i;return(i=t[e])||(i=t[e]=[]),i.push(n),a=>{i.length>1?i.forEach(o=>o(a)):i[0](a)}};Ti=r("__VUE_INSTANCE_SETTERS__",e=>qt=e),Ka=r("__VUE_SSR_SETTERS__",e=>In=e)}const Ln=t=>{const r=qt;return Ti(t),t.scope.on(),()=>{t.scope.off(),Ti(r)}},$s=()=>{qt&&qt.scope.off(),Ti(null)};function Zu(t){return t.vnode.shapeFlag&4}let In=!1;function rp(t,r=!1,e=!1){r&&Ka(r);const{props:n,children:i}=t.vnode,a=Zu(t);Mv(t,n,a,r),Ov(t,i,e);const o=a?ep(t,r):void 0;return r&&Ka(!1),o}function ep(t,r){const e=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,mv);const{setup:n}=e;if(n){se();const i=t.setupContext=n.length>1?ip(t):null,a=Ln(t),o=Nn(n,t,0,[t.props,i]),s=Zl(o);if(le(),a(),(s||t.sp)&&!bn(t)&&Mu(t),s){if(o.then($s,$s),r)return o.then(l=>{Vs(t,l)}).catch(l=>{Ki(l,t,0)});t.asyncDep=o}else Vs(t,o)}else Ju(t)}function Vs(t,r,e){bt(r)?t.type.__ssrInlineRender?t.ssrRender=r:t.render=r:It(r)&&(t.setupState=xu(r)),Ju(t)}function Ju(t,r,e){const n=t.type;t.render||(t.render=n.render||zr);{const i=Ln(t);se();try{bv(t)}finally{le(),i()}}}const np={get(t,r){return Yt(t,"get",""),t[r]}};function ip(t){const r=e=>{t.exposed=e||{}};return{attrs:new Proxy(t.attrs,np),slots:t.slots,emit:t.emit,expose:r}}function Wo(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(xu(Nd(t.exposed)),{get(r,e){if(e in r)return r[e];if(e in _n)return _n[e](t)},has(r,e){return e in r||e in _n}})):t.proxy}function ap(t,r=!0){return bt(t)?t.displayName||t.name:t.name||r&&t.__name}function op(t){return bt(t)&&"__vccOpts"in t}const sp=(t,r)=>Yd(t,r,In),lp="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Za;const Ys=typeof window<"u"&&window.trustedTypes;if(Ys)try{Za=Ys.createPolicy("vue",{createHTML:t=>t})}catch{}const Qu=Za?t=>Za.createHTML(t):t=>t,up="http://www.w3.org/2000/svg",fp="http://www.w3.org/1998/Math/MathML",Lr=typeof document<"u"?document:null,Xs=Lr&&Lr.createElement("template"),cp={insert:(t,r,e)=>{r.insertBefore(t,e||null)},remove:t=>{const r=t.parentNode;r&&r.removeChild(t)},createElement:(t,r,e,n)=>{const i=r==="svg"?Lr.createElementNS(up,t):r==="mathml"?Lr.createElementNS(fp,t):e?Lr.createElement(t,{is:e}):Lr.createElement(t);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>Lr.createTextNode(t),createComment:t=>Lr.createComment(t),setText:(t,r)=>{t.nodeValue=r},setElementText:(t,r)=>{t.textContent=r},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Lr.querySelector(t),setScopeId(t,r){t.setAttribute(r,"")},insertStaticContent(t,r,e,n,i,a){const o=e?e.previousSibling:r.lastChild;if(i&&(i===a||i.nextSibling))for(;r.insertBefore(i.cloneNode(!0),e),!(i===a||!(i=i.nextSibling)););else{Xs.innerHTML=Qu(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const s=Xs.content;if(n==="svg"||n==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}r.insertBefore(s,e)}return[o?o.nextSibling:r.firstChild,e?e.previousSibling:r.lastChild]}},dp=Symbol("_vtc");function vp(t,r,e){const n=t[dp];n&&(r=(r?[r,...n]:[...n]).join(" ")),r==null?t.removeAttribute("class"):e?t.setAttribute("class",r):t.className=r}const qs=Symbol("_vod"),pp=Symbol("_vsh"),hp=Symbol(""),gp=/(^|;)\s*display\s*:/;function mp(t,r,e){const n=t.style,i=Gt(e);let a=!1;if(e&&!i){if(r)if(Gt(r))for(const o of r.split(";")){const s=o.slice(0,o.indexOf(":")).trim();e[s]==null&&_i(n,s,"")}else for(const o in r)e[o]==null&&_i(n,o,"");for(const o in e)o==="display"&&(a=!0),_i(n,o,e[o])}else if(i){if(r!==e){const o=n[hp];o&&(e+=";"+o),n.cssText=e,a=gp.test(e)}}else r&&t.removeAttribute("style");qs in t&&(t[qs]=a?n.display:"",t[pp]&&(n.display="none"))}const js=/\s*!important$/;function _i(t,r,e){if(gt(e))e.forEach(n=>_i(t,r,n));else if(e==null&&(e=""),r.startsWith("--"))t.setProperty(r,e);else{const n=bp(t,r);js.test(e)?t.setProperty(Re(n),e.replace(js,""),"important"):t[n]=e}}const Us=["Webkit","Moz","ms"],Da={};function bp(t,r){const e=Da[r];if(e)return e;let n=br(r);if(n!=="filter"&&n in t)return Da[r]=n;n=Yi(n);for(let i=0;i<Us.length;i++){const a=Us[i]+n;if(a in t)return Da[r]=a}return r}const Ks="http://www.w3.org/1999/xlink";function Zs(t,r,e,n,i,a=md(r)){n&&r.startsWith("xlink:")?e==null?t.removeAttributeNS(Ks,r.slice(6,r.length)):t.setAttributeNS(Ks,r,e):e==null||a&&!ru(e)?t.removeAttribute(r):t.setAttribute(r,a?"":oe(e)?String(e):e)}function Js(t,r,e,n,i){if(r==="innerHTML"||r==="textContent"){e!=null&&(t[r]=r==="innerHTML"?Qu(e):e);return}const a=t.tagName;if(r==="value"&&a!=="PROGRESS"&&!a.includes("-")){const s=a==="OPTION"?t.getAttribute("value")||"":t.value,l=e==null?t.type==="checkbox"?"on":"":String(e);(s!==l||!("_value"in t))&&(t.value=l),e==null&&t.removeAttribute(r),t._value=e;return}let o=!1;if(e===""||e==null){const s=typeof t[r];s==="boolean"?e=ru(e):e==null&&s==="string"?(e="",o=!0):s==="number"&&(e=0,o=!0)}try{t[r]=e}catch{}o&&t.removeAttribute(i||r)}function _p(t,r,e,n){t.addEventListener(r,e,n)}function xp(t,r,e,n){t.removeEventListener(r,e,n)}const Qs=Symbol("_vei");function yp(t,r,e,n,i=null){const a=t[Qs]||(t[Qs]={}),o=a[r];if(n&&o)o.value=n;else{const[s,l]=Sp(r);if(n){const u=a[r]=Dp(n,i);_p(t,s,u,l)}else o&&(xp(t,s,o,l),a[r]=void 0)}}const tl=/(?:Once|Passive|Capture)$/;function Sp(t){let r;if(tl.test(t)){r={};let n;for(;n=t.match(tl);)t=t.slice(0,t.length-n[0].length),r[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Re(t.slice(2)),r]}let Ma=0;const Ep=Promise.resolve(),Cp=()=>Ma||(Ep.then(()=>Ma=0),Ma=Date.now());function Dp(t,r){const e=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=e.attached)return;Gr(Mp(n,e.value),r,5,[n])};return e.value=t,e.attached=Cp(),e}function Mp(t,r){if(gt(r)){const e=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{e.call(t),t._stopped=!0},r.map(n=>i=>!i._stopped&&n&&n(i))}else return r}const rl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,wp=(t,r,e,n,i,a)=>{const o=i==="svg";r==="class"?vp(t,n,o):r==="style"?mp(t,e,n):Wi(r)?wo(r)||yp(t,r,e,n,a):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):Tp(t,r,n,o))?(Js(t,r,n),!t.tagName.includes("-")&&(r==="value"||r==="checked"||r==="selected")&&Zs(t,r,n,o,a,r!=="value")):t._isVueCE&&(/[A-Z]/.test(r)||!Gt(n))?Js(t,br(r),n,a,r):(r==="true-value"?t._trueValue=n:r==="false-value"&&(t._falseValue=n),Zs(t,r,n,o))};function Tp(t,r,e,n){if(n)return!!(r==="innerHTML"||r==="textContent"||r in t&&rl(r)&&bt(e));if(r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&t.tagName==="INPUT"||r==="type"&&t.tagName==="TEXTAREA")return!1;if(r==="width"||r==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return rl(r)&&Gt(e)?!1:r in t}const Rp=["ctrl","shift","alt","meta"],Op={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,r)=>Rp.some(e=>t[`${e}Key`]&&!r.includes(e))},Pp=(t,r)=>{const e=t._withMods||(t._withMods={}),n=r.join(".");return e[n]||(e[n]=(i,...a)=>{for(let o=0;o<r.length;o++){const s=Op[r[o]];if(s&&s(i,r))return}return t(i,...a)})},Ip=Ut({patchProp:wp},cp);let el;function Ap(){return el||(el=Iv(Ip))}const zp=(...t)=>{const r=Ap().createApp(...t),{mount:e}=r;return r.mount=n=>{const i=Gp(n);if(!i)return;const a=r._component;!bt(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=e(i,!1,Bp(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},r};function Bp(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Gp(t){return Gt(t)?document.querySelector(t):t}const ve=Ui([]),pe=Ui(void 0);function tf(){return{movables:ve,selectedId:pe,addMovable:()=>{const a={id:`movable-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,x:100,y:100,width:150,height:150,rotation:0};return ve.value.push(a),pe.value=a.id,a.id},removeMovable:()=>{pe.value&&(ve.value=ve.value.filter(a=>a.id!==pe.value),pe.value=void 0)},selectMovable:a=>{pe.value=a},deselectAll:()=>{pe.value=void 0},updateMovable:(a,o)=>{const s=ve.value.findIndex(l=>l.id===a);s!==-1&&(ve.value[s]={...ve.value[s],...o})}}}function Fp(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return r.map(function(n){return n.split(" ").map(function(i){return i?""+t+i:""}).join(" ")}).join(" ")}function kp(t,r){return r.replace(/([^}{]*){/gm,function(e,n){return n.replace(/\.([^{,\s\d.]+)/g,"."+t+"$1")+"{"})}function $r(t,r){return function(e){e&&(t[r]=e)}}function rf(t,r,e){return function(n){n&&(t[r][e]=n)}}function nl(t,r){return function(e){var n=e.prototype;t.forEach(function(i){r(n,i)})}}function Np(t,r){return r===void 0&&(r={}),function(e,n){t.forEach(function(i){var a=r[i]||i;a in e||(e[a]=function(){for(var o,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var u=(o=this[n])[i].apply(o,s);return u===this[n]?this:u})})}}var Hp="function",Lp="object",Wp="string",$p="number",$o="undefined",ef=typeof window!==$o,Vp=typeof document!==$o&&document,Yp=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],Bt=1e-7,ni={cm:function(t){return t*96/2.54},mm:function(t){return t*96/254},in:function(t){return t*96},pt:function(t){return t*96/72},pc:function(t){return t*96/6},"%":function(t,r){return t*r/100},vw:function(t,r){return r===void 0&&(r=window.innerWidth),t/100*r},vh:function(t,r){return r===void 0&&(r=window.innerHeight),t/100*r},vmax:function(t,r){return r===void 0&&(r=Math.max(window.innerWidth,window.innerHeight)),t/100*r},vmin:function(t,r){return r===void 0&&(r=Math.min(window.innerWidth,window.innerHeight)),t/100*r}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Xp(){for(var t=0,r=0,e=arguments.length;r<e;r++)t+=arguments[r].length;for(var n=Array(t),i=0,r=0;r<e;r++)for(var a=arguments[r],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function Ri(t,r,e,n){return(t*n+r*e)/(e+n)}function Wn(t){return typeof t===$o}function wr(t){return t&&typeof t===Lp}function Ft(t){return Array.isArray(t)}function sr(t){return typeof t===Wp}function Ue(t){return typeof t===$p}function Vo(t){return typeof t===Hp}function qp(t,r){var e=t===""||t==" ",n=r===""||r==" ";return n&&e||t===r}function nf(t,r,e,n,i){var a=Yo(t,r,e);return a?e:jp(t,r,e+1,n,i)}function Yo(t,r,e){if(!t.ignore)return null;var n=r.slice(Math.max(e-3,0),e+3).join("");return new RegExp(t.ignore).exec(n)}function jp(t,r,e,n,i){for(var a=function(u){var f=r[u].trim();if(f===t.close&&!Yo(t,r,u))return{value:u};var c=u,d=lr(i,function(v){var p=v.open;return p===f});if(d&&(c=nf(d,r,u,n,i)),c===-1)return o=u,"break";u=c,o=u},o,s=e;s<n;++s){var l=a(s);if(s=o,typeof l=="object")return l.value;if(l==="break")break}return-1}function Xo(t,r){var e=sr(r)?{separator:r}:r,n=e.separator,i=n===void 0?",":n,a=e.isSeparateFirst,o=e.isSeparateOnlyOpenClose,s=e.isSeparateOpenClose,l=s===void 0?o:s,u=e.openCloseCharacters,f=u===void 0?Yp:u,c=f.map(function(C){var D=C.open,M=C.close;return D===M?D:D+"|"+M}).join("|"),d="(\\s*"+i+"\\s*|"+c+"|\\s+)",v=new RegExp(d,"g"),p=t.split(v).filter(function(C){return C&&C!=="undefined"}),h=p.length,g=[],m=[];function b(){return m.length?(g.push(m.join("")),m=[],!0):!1}for(var x=function(C){var D=p[C].trim(),M=C,R=lr(f,function(P){var B=P.open;return B===D}),z=lr(f,function(P){var B=P.close;return B===D});if(R){if(M=nf(R,p,C,h,f),M!==-1&&l)return b()&&a||(g.push(p.slice(C,M+1).join("")),C=M,a)?(_=C,"break"):(_=C,"continue")}else if(z&&!Yo(z,p,C)){var I=Xp(f);return I.splice(f.indexOf(z),1),{value:Xo(t,{separator:i,isSeparateFirst:a,isSeparateOnlyOpenClose:o,isSeparateOpenClose:l,openCloseCharacters:I})}}else if(qp(D,i)&&!o)return b(),a?(_=C,"break"):(_=C,"continue");M===-1&&(M=h-1),m.push(p.slice(C,M+1).join("")),C=M,_=C},_,S=0;S<h;++S){var y=x(S);if(S=_,typeof y=="object")return y.value;if(y==="break")break}return m.length&&g.push(m.join("")),g}function ne(t){return Xo(t,"")}function xe(t){return Xo(t,",")}function af(t){var r=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!r||r.length<4?{}:{prefix:r[1],value:r[2],suffix:r[3]}}function $n(t){var r=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!r)return{prefix:"",unit:"",value:NaN};var e=r[1],n=r[2],i=r[3];return{prefix:e,unit:i,value:parseFloat(n)}}function Up(t){return t.replace(/[\s-_]+([^\s-_])/g,function(r,e){return e.toUpperCase()})}function xi(t,r){return t.replace(/([a-z])([A-Z])/g,function(e,n,i){return""+n+r+i.toLowerCase()})}function An(){return Date.now?Date.now():new Date().getTime()}function Xr(t,r,e){e===void 0&&(e=-1);for(var n=t.length,i=0;i<n;++i)if(r(t[i],i,t))return i;return e}function lr(t,r,e){var n=Xr(t,r);return n>-1?t[n]:e}var of=function(){var t=An(),r=ef&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return r?r.bind(window):function(e){var n=An(),i=setTimeout(function(){e(n-t)},1e3/60);return i}}(),Kp=function(){var t=ef&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return t?t.bind(window):function(r){clearTimeout(r)}}();function qr(t){return Object.keys(t)}function Zp(t){var r=qr(t);return r.map(function(e){return t[e]})}function Dt(t,r){var e=$n(t),n=e.value,i=e.unit;if(wr(r)){var a=r[i];if(a){if(Vo(a))return a(n);if(ni[i])return ni[i](n,a)}}else if(i==="%")return n*r/100;return ni[i]?ni[i](n):n}function Ja(t,r,e){return Math.max(r,Math.min(t,e))}function il(t,r,e,n){return n===void 0&&(n=t[0]/t[1]),[[vt(r[0],Bt),vt(r[0]/n,Bt)],[vt(r[1]*n,Bt),vt(r[1],Bt)]].filter(function(i){return i.every(function(a,o){var s=r[o],l=vt(s,Bt);return e?a<=s||a<=l:a>=s||a>=l})})[0]||t}function sf(t,r,e,n){if(!n)return t.map(function(v,p){return Ja(v,r[p],e[p])});var i=t[0],a=t[1],o=n===!0?i/a:n,s=il(t,r,!1,o),l=s[0],u=s[1],f=il(t,e,!0,o),c=f[0],d=f[1];return i<l||a<u?(i=l,a=u):(i>c||a>d)&&(i=c,a=d),[i,a]}function Jp(t){for(var r=t.length,e=0,n=r-1;n>=0;--n)e+=t[n];return e}function Qa(t){for(var r=t.length,e=0,n=r-1;n>=0;--n)e+=t[n];return r?e/r:0}function At(t,r){var e=r[0]-t[0],n=r[1]-t[1],i=Math.atan2(n,e);return i>=0?i:i+Math.PI*2}function Qp(t){return[0,1].map(function(r){return Qa(t.map(function(e){return e[r]}))})}function al(t){var r=Qp(t),e=At(r,t[0]),n=At(r,t[1]);return e<n&&n-e<Math.PI||e>n&&n-e<-Math.PI?1:-1}function Vr(t,r){return Math.sqrt(Math.pow((r?r[0]:0)-t[0],2)+Math.pow((r?r[1]:0)-t[1],2))}function vt(t,r){if(!r)return t;var e=1/r;return Math.round(t/r)/e}function ol(t,r){return t.forEach(function(e,n){t[n]=vt(t[n],r)}),t}function th(t){for(var r=[],e=0;e<t;++e)r.push(e);return r}function lf(t){return t.reduce(function(r,e){return r.concat(e)},[])}function uf(t,r){t.indexOf(r)===-1&&t.push(r)}function Nt(t,r){return t.classList?t.classList.contains(r):!!t.className.match(new RegExp("(\\s|^)"+r+"(\\s|$)"))}function ff(t,r){t.classList?t.classList.add(r):t.className+=" "+r}function cf(t,r){if(t.classList)t.classList.remove(r);else{var e=new RegExp("(\\s|^)"+r+"(\\s|$)");t.className=t.className.replace(e," ")}}function Wt(t,r,e,n){t.addEventListener(r,e,n)}function kt(t,r,e,n){t.removeEventListener(r,e,n)}function en(t){return(t==null?void 0:t.ownerDocument)||Vp}function qo(t){return en(t).documentElement}function ue(t){return en(t).body}function ee(t){var r;return((r=t==null?void 0:t.ownerDocument)===null||r===void 0?void 0:r.defaultView)||window}function df(t){return t&&"postMessage"in t&&"blur"in t&&"self"in t}function nn(t){return wr(t)&&t.nodeName&&t.nodeType&&"ownerDocument"in t}var rh=function(){function t(){this.keys=[],this.values=[]}var r=t.prototype;return r.get=function(e){return this.values[this.keys.indexOf(e)]},r.set=function(e,n){var i=this.keys,a=this.values,o=i.indexOf(e),s=o===-1?i.length:o;i[s]=e,a[s]=n},t}(),eh=function(){function t(){this.object={}}var r=t.prototype;return r.get=function(e){return this.object[e]},r.set=function(e,n){this.object[e]=n},t}(),nh=typeof Map=="function",ih=function(){function t(){}var r=t.prototype;return r.connect=function(e,n){this.prev=e,this.next=n,e&&(e.next=this),n&&(n.prev=this)},r.disconnect=function(){var e=this.prev,n=this.next;e&&(e.next=n),n&&(n.prev=e)},r.getIndex=function(){for(var e=this,n=-1;e;)e=e.prev,++n;return n},t}();function ah(t,r){var e=[],n=[];return t.forEach(function(i){var a=i[0],o=i[1],s=new ih;e[a]=s,n[o]=s}),e.forEach(function(i,a){i.connect(e[a-1])}),t.filter(function(i,a){return!r[a]}).map(function(i,a){var o=i[0],s=i[1];if(o===s)return[0,0];var l=e[o],u=n[s-1],f=l.getIndex();l.disconnect(),u?l.connect(u,u.next):l.connect(void 0,e[0]);var c=l.getIndex();return[f,c]})}var oh=function(){function t(e,n,i,a,o,s,l,u){this.prevList=e,this.list=n,this.added=i,this.removed=a,this.changed=o,this.maintained=s,this.changedBeforeAdded=l,this.fixed=u}var r=t.prototype;return Object.defineProperty(r,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(r,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),r.caculateOrdered=function(){var e=ah(this.changedBeforeAdded,this.fixed),n=this.changed,i=[];this.cacheOrdered=e.filter(function(a,o){var s=a[0],l=a[1],u=n[o],f=u[0],c=u[1];if(s!==l)return i.push([f,c]),!0}),this.cachePureChanged=i},t}();function Vn(t,r,e){var n=nh?Map:e?eh:rh,i=e||function(b){return b},a=[],o=[],s=[],l=t.map(i),u=r.map(i),f=new n,c=new n,d=[],v=[],p={},h=[],g=0,m=0;return l.forEach(function(b,x){f.set(b,x)}),u.forEach(function(b,x){c.set(b,x)}),l.forEach(function(b,x){var _=c.get(b);typeof _>"u"?(++m,o.push(x)):p[_]=m}),u.forEach(function(b,x){var _=f.get(b);typeof _>"u"?(a.push(x),++g):(s.push([_,x]),m=p[x]||0,d.push([_-m,x-g]),v.push(x===_),_!==x&&h.push([_,x]))}),o.reverse(),new oh(t,r,a,o,h,s,d,v)}var sh=function(){function t(e,n){e===void 0&&(e=[]),this.findKeyCallback=n,this.list=[].slice.call(e)}var r=t.prototype;return r.update=function(e){var n=[].slice.call(e),i=Vn(this.list,n,this.findKeyCallback);return this.list=n,i},t}(),to=function(t,r){return to=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},to(t,r)};function Yn(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");to(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Ar=function(){return Ar=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},Ar.apply(this,arguments)};function vf(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(e[n[i]]=t[n[i]]);return e}function sl(t,r,e){for(var n=0,i=r.length,a;n<i;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return t.concat(a||Array.prototype.slice.call(r))}function ll(t){var r=0;return t.map(function(e){return e==null?"$compat".concat(++r):"".concat(e)})}function pf(t){var r=[];return t.forEach(function(e){r=r.concat(Ft(e)?pf(e):e)}),r}function wa(t,r){if(!r)return t;for(var e in r)Wn(t[e])&&(t[e]=r[e]);return t}function Oi(t,r){if(t===r)return!1;for(var e in t)if(!(e in r))return!0;for(var e in r)if(t[e]!==r[e])return!0;return!1}function ul(t){var r=t.className,e=vf(t,["className"]);return r!=null&&(e.class=r),delete e.style,delete e.children,e}function fl(t){var r={},e={};for(var n in t)n.indexOf("on")===0?e[n]=t[n]:r[n]=t[n];return[r,e]}function ta(t){if(!t)return null;var r=t.b;return nn(r)?r:ta(t.c)}function hf(t){var r=t.parentNode;r&&r.removeChild(t)}function gf(t){t.forEach(function(r){r()})}function lh(){return this.constructor(this.props,this.context)}var jo=0,ra=function(){function t(e,n,i,a,o,s,l){l===void 0&&(l={}),this.t=e,this.d=n,this.k=i,this.i=a,this.c=o,this.ref=s,this.ps=l,this.typ="prov",this._ps=[],this._cs={},this._hyd=null,this._sel=!1}var r=t.prototype;return r.s=function(){return!0},r.u=function(e,n,i,a,o){var s=this,l=s.d,u=Zp(n).filter(function(p){return p.$_req}),f=pf(u.map(function(p){return p.$_subs})),c=lr(f,function(p){return p.d===l});if(s.b&&!sr(i)&&!o&&!s.s(i.props,a)&&!c){var d=f.reduce(function(p,h){var g=h.d;return p[0]?p[0].d===g&&p.push(h):g>l&&p.push(h),p},[]);return d.forEach(function(p){Xn(p,p._ps,[p.o],e,n,!0)}),!1}s.o=i,s.ss(a);var v=s.ps;return sr(i)||(s.ps=i.props,s.ref=i.ref),Uo(this),s.r(e,n,s.b?v:{},a),!0},r.md=function(){this.rr()},r.ss=function(){},r.ud=function(){this.rr()},r.rr=function(){var e=this,n=e.ref,i=e.fr;n&&n(i?i.current:e.b)},t}();function mf(){return Object.__CROACT_CURRENT_INSTNACE__}function uh(){return jo}function fh(t){jo=t}function Uo(t){return Object.__CROACT_CURRENT_INSTNACE__=t,jo=0,t}var Ko=function(){function t(e,n){e===void 0&&(e={}),this.props=e,this.context=n,this.state={},this.$_timer=0,this.$_state={},this.$_subs=[],this.$_cs={}}var r=t.prototype;return r.render=function(){return null},r.shouldComponentUpdate=function(e,n){return this.props!==e||this.state!==n},r.setState=function(e,n,i){var a=this;a.$_timer||(a.$_state={}),clearTimeout(a.$_timer),a.$_timer=0,a.$_state=Ar(Ar({},a.$_state),e),i?a.$_setState(n,i):a.$_timer=window.setTimeout(function(){a.$_timer=0,a.$_setState(n,i)})},r.forceUpdate=function(e){this.setState({},e,!0)},r.componentDidMount=function(){},r.componentDidUpdate=function(e,n){},r.componentWillUnmount=function(){},r.$_setState=function(e,n){var i=[],a=this.$_p,o=Xn(a.c,[a],[a.o],i,a._cs,Ar(Ar({},this.state),this.$_state),n);o&&(e&&i.push(e),gf(i),Uo(null))},t}(),bf=function(t){Yn(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}var e=r.prototype;return e.shouldComponentUpdate=function(n,i){return Oi(this.props,n)||Oi(this.state,i)},r}(Ko);function _f(t){var r=function(e){r.current=e};return r.current=t,r}function ch(t){return t._fr=!0,t}function dh(t,r,e,n){var i,a;return!((i=t==null?void 0:t.prototype)===null||i===void 0)&&i.render?a=new t(r,e):(a=new Ko(r,e),a.constructor=t,t._fr?(n.fr=_f(),a.render=function(){return this.constructor(this.props,n.fr)}):a.render=lh),a.$_p=n,a}var vh=function(t){Yn(r,t);function r(n,i,a,o,s,l,u){u===void 0&&(u={});var f=t.call(this,n,i,a,o,s,l,wa(u,n.defaultProps))||this;return f.typ="comp",f._usefs=[],f._uefs=[],f._defs=[],f}var e=r.prototype;return e.s=function(n,i){var a=this.b;return a.shouldComponentUpdate(wa(n,this.t.defaultProps),i||a.state)!==!1},e.r=function(n,i,a){var o,s,l=this,u=l.t;l.ps=wa(l.ps,l.t.defaultProps);var f=l.ps,c=!l.b,d=u.contextType,v=l.b,p=d==null?void 0:d.get(l);l._cs=i,c?(v=dh(u,f,p,l),l.b=v):(v.props=f,v.context=p);var h=v.state;l._usefs=[],l._uefs=[];var g=v.render();((s=(o=g==null?void 0:g.props)===null||o===void 0?void 0:o.children)===null||s===void 0?void 0:s.length)===0&&(g.props.children=l.ps.children);var m=Ar(Ar({},i),v.$_cs);Xn(l,l._ps,g?[g]:[],n,m),c?l._uefs.push(function(){d==null||d.register(l),v.componentDidMount()}):l._uefs.push(function(){v.componentDidUpdate(a,h)}),n.push(function(){l._usefs.forEach(function(b){b()}),c?l.md():l.ud(),l._defs=l._uefs.map(function(b){return b()})})},e.ss=function(n){var i=this.b;!i||!n||(i.state=n)},e.un=function(){var n,i=this;i._ps.forEach(function(o){o.un()});var a=i.t;(n=a.contextType)===null||n===void 0||n.unregister(i),clearTimeout(i.b.$_timer),i._defs.forEach(function(o){o&&o()}),i.b.componentWillUnmount()},r}(ra);function ph(t,r,e){var n=Zo(ul(t),ul(r)),i=n.added,a=n.removed,o=n.changed;for(var s in i)e.setAttribute(s,i[s]);for(var l in o)e.setAttribute(l,o[l][1]);for(var u in a)e.removeAttribute(u)}function hh(t,r,e){var n=Zo(t,r),i=n.added,a=n.removed;for(var o in a)e.e(o,!0);for(var s in i)e.e(s)}function Zo(t,r){var e=qr(t),n=qr(r),i=Vn(e,n,function(l){return l}),a={},o={},s={};return i.added.forEach(function(l){var u=n[l];a[u]=r[u]}),i.removed.forEach(function(l){var u=e[l];o[u]=t[u]}),i.maintained.forEach(function(l){var u=l[0],f=e[u],c=[t[f],r[f]];t[f]!==r[f]&&(s[f]=c)}),{added:a,removed:o,changed:s}}function gh(t,r,e){var n=e.style,i=Zo(t,r),a=i.added,o=i.removed,s=i.changed;for(var l in a){var u=xi(l,"-");n.setProperty(u,a[l])}for(var l in s){var f=xi(l,"-");n.setProperty(f,s[l][1])}for(var l in o){var c=xi(l,"-");n.removeProperty(c)}}function mh(t){return t.replace(/^on/g,"").toLowerCase()}var bh=function(t){Yn(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.typ="elem",n._es={},n._svg=!1,n}var e=r.prototype;return e.e=function(n,i){var a=this,o=a._es,s=a.b,l=mh(n);i?(kt(s,l,o[n]),delete o[n]):(o[n]=function(u){var f,c;(c=(f=a.ps)[n])===null||c===void 0||c.call(f,u)},Wt(s,l,o[n]))},e.s=function(n){return Oi(this.ps,n)},e.r=function(n,i,a){var o,s=this,l=!s.b,u=s.ps;if(l){var f=ta(s.c),c=!1;s._svg||s.t==="svg"?c=!0:c=f&&f.ownerSVGElement,s._svg=c;var d=(o=s._hyd)===null||o===void 0?void 0:o.splice(0,1)[0],v=s.t;if(d)s._hyd=[].slice.call(d.children||[]);else{var p=en(f);c?d=p.createElementNS("http://www.w3.org/2000/svg",v):d=p.createElement(v)}s.b=d}Xn(s,s._ps,u.children,n,i);var h=s.b,g=fl(a),m=g[0],b=g[1],x=fl(u),_=x[0],S=x[1];return ph(m,_,h),hh(b,S,s),gh(a.style||{},u.style||{},h),n.push(function(){l?s.md():s.ud()}),!0},e.un=function(){var n=this,i=n._es,a=n.b;for(var o in i)kt(a,o,i[o]);n._ps.forEach(function(s){s.un()}),n._es={},n._sel||hf(a)},r}(ra);function zn(t){if(!t||nn(t))return t;var r=t.$_p._ps;return r.length?zn(r[0].b):null}function xf(t){if(t){if(t.b&&nn(t.b))return t;var r=t._ps;return r.length?xf(r[0]):null}}function Dr(t,r){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var i=r||{},a=i.key,o=i.ref,s=vf(i,["key","ref"]);return{type:t,key:a,ref:o,props:Ar(Ar({},s),{children:lf(e).filter(function(l){return l!=null&&l!==!1})})}}var yf=function(t){Yn(r,t);function r(n,i){i===void 0&&(i=0);var a=t.call(this,"container",i,"container",0,null)||this;return a.typ="container",a.b=n,a}var e=r.prototype;return e.r=function(){return!0},e.un=function(){},r}(ra),_h=function(t){Yn(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.typ="text",n}var e=r.prototype;return e.r=function(n){var i,a=this,o=!a.b;if(o){var s=ta(a.c),l=(i=a._hyd)===null||i===void 0?void 0:i.splice(0,1)[0];a.b=l||en(s).createTextNode(a.t.replace("text_",""))}return n.push(function(){o?a.md():a.ud()}),!0},e.un=function(){hf(this.b)},r}(ra);function xh(t,r,e){var n=e.map(function(l){return sr(l)?null:l.key}),i=ll(r.map(function(l){return l.k})),a=ll(n),o=Vn(i,a,function(l){return l});o.removed.forEach(function(l){r.splice(l,1)[0].un()}),o.ordered.forEach(function(l){var u=l[0],f=l[1],c=r.splice(u,1)[0];r.splice(f,0,c);var d=zn(c.b),v=zn(r[f+1]&&r[f+1].b);d&&d.parentNode.insertBefore(d,v)}),o.added.forEach(function(l){r.splice(l,0,cl(e[l],n[l],l,t))});var s=o.maintained.filter(function(l){l[0];var u=l[1],f=e[u],c=r[u],d=sr(f)?"text_".concat(f):f.type;return d!==c.t?(c.un(),r.splice(u,1,cl(f,n[u],u,t)),!0):(c.i=u,!1)});return sl(sl([],o.added,!0),s.map(function(l){l[0];var u=l[1];return u}))}function yh(t,r){for(var e=t._ps,n=e.length,i=r.i+1;i<n;++i){var a=zn(e[i].b);if(a)return a}return null}function cl(t,r,e,n){var i=n.d+1;if(sr(t)||Ue(t))return new _h("text_".concat(t),i,r,e,n,null,{});var a=t.type,o=typeof a=="string"?bh:vh;return new o(a,i,r,e,n,t.ref,t.props)}function Xn(t,r,e,n,i,a,o){var s=xh(t,r,e),l=t._hyd,u=r.filter(function(c,d){return c._hyd=l,c.u(n,i,e[d],a,o)});t.typ==="container"&&t._sel&&r.forEach(function(c){var d=xf(c);d&&(d._sel=!0)}),t._hyd=null;var f=ta(t);return f&&s.reverse().forEach(function(c){var d=r[c],v=zn(d.b);if(v&&f!==v&&!v.parentNode){var p=yh(t,d);f.insertBefore(v,p)}}),u.length>0}function Sh(t,r,e,n){e===void 0&&(e=r.__CROACT__),n===void 0&&(n={});var i=!!e;e||(e=new yf(r));var a=[];return Xn(e,e._ps,t?[t]:[],a,n,void 0,void 0),gf(a),Uo(null),i||(r.__CROACT__=e),e}function dl(t,r,e){return!e&&t&&(e=new yf(r.parentElement),e._hyd=[r],e._sel=!0),Sh(t,r,e),e}function Sf(t){var r=mf(),e=r._hs||(r._hs=[]),n=uh(),i=e[n];if(fh(n+1),i){if(!Oi(i.deps,t.deps))return i.updated=!1,i;e[n]=t}else e.push(t);return t.value=t.func(),t.updated=!0,t}function Eh(t,r){var e=Sf({func:t,deps:r});return e.value}function Ch(t){return Eh(function(){return _f(t)},[])}function Ef(t,r,e){var n=mf(),i=Sf({func:function(){return t},deps:r}),a=e?n._usefs:n._uefs;i.updated?a.push(function(){return i.effect&&i.effect(),i.effect=t(),i.effect}):a.push(function(){return i.effect})}function Dh(t,r,e){Ef(function(){t==null||t(r())},e,!0)}function Jo(t,r){for(var e=t.length,n=0;n<e;++n)if(r(t[n],n))return!0;return!1}function Cf(t,r){for(var e=t.length,n=0;n<e;++n)if(r(t[n],n))return t[n];return null}function Df(t){var r=t;if(typeof r>"u"){if(typeof navigator>"u"||!navigator)return"";r=navigator.userAgent||""}return r.toLowerCase()}function Qo(t,r){try{return new RegExp(t,"g").exec(r)}catch{return null}}function Mh(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var t=navigator.userAgentData,r=t.brands||t.uaList;return!!(r&&r.length)}function wh(t,r){var e=Qo("("+t+")((?:\\/|\\s|:)([0-9|\\.|_]+))",r);return e?e[3]:""}function ro(t){return t.replace(/_/g,".")}function dn(t,r){var e=null,n="-1";return Jo(t,function(i){var a=Qo("("+i.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",r);return!a||i.brand?!1:(e=i,n=a[3]||"-1",i.versionAlias?n=i.versionAlias:i.versionTest&&(n=wh(i.versionTest.toLowerCase(),r)||n),n=ro(n),!0)}),{preset:e,version:n}}function ii(t,r){var e={brand:"",version:"-1"};return Jo(t,function(n){var i=Mf(r,n);return i?(e.brand=n.id,e.version=n.versionAlias||i.version,e.version!=="-1"):!1}),e}function Mf(t,r){return Cf(t,function(e){var n=e.brand;return Qo(""+r.test,n.toLowerCase())})}var wf=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],Tf=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],eo=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],Rf=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],Of=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function Pf(t){return!!dn(Rf,t).preset}function Th(t){var r=Df(t),e=!!/mobi/g.exec(r),n={name:"unknown",version:"-1",majorVersion:-1,webview:Pf(r),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},i={name:"unknown",version:"-1",majorVersion:-1},a=dn(wf,r),o=a.preset,s=a.version,l=dn(Of,r),u=l.preset,f=l.version,c=dn(Tf,r);if(n.chromium=!!c.preset,n.chromiumVersion=c.version,!n.chromium){var d=dn(eo,r);n.webkit=!!d.preset,n.webkitVersion=d.version}return u&&(i.name=u.id,i.version=f,i.majorVersion=parseInt(f,10)),o&&(n.name=o.id,n.version=s,n.webview&&i.name==="ios"&&n.name!=="safari"&&(n.webview=!1)),n.majorVersion=parseInt(n.version,10),{browser:n,os:i,isMobile:e,isHints:!1}}function Rh(t){var r=navigator.userAgentData,e=(r.uaList||r.brands).slice(),n=r.mobile||!1,i=e[0],a=(r.platform||navigator.platform).toLowerCase(),o={name:i.brand,version:i.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!ii(Rf,e).brand||Pf(Df())},s={name:"unknown",version:"-1",majorVersion:-1};o.webkit=!o.chromium&&Jo(eo,function(d){return Mf(e,d)});var l=ii(Tf,e);if(o.chromium=!!l.brand,o.chromiumVersion=l.version||"-1",!o.chromium){var u=ii(eo,e);o.webkit=!!u.brand,o.webkitVersion=u.version||"-1"}var f=Cf(Of,function(d){return new RegExp(""+d.test,"g").exec(a)});s.name=f?f.id:"";{var c=ii(wf,e);o.name=c.brand||o.name,o.version=c.brand&&t?t.uaFullVersion:c.version}return o.webkit&&(s.name=n?"ios":"mac"),s.name==="ios"&&o.webview&&(o.version="-1"),s.version=ro(s.version),o.version=ro(o.version),s.majorVersion=parseInt(s.version,10),o.majorVersion=parseInt(o.version,10),{browser:o,os:s,isMobile:n,isHints:!0}}function Oh(t){return Mh()?Rh():Th(t)}function Ph(t,r,e,n,i,a){for(var o=0;o<i;++o){var s=e+o*i,l=n+o*i;t[s]+=t[l]*a,r[s]+=r[l]*a}}function Ih(t,r,e,n,i){for(var a=0;a<i;++a){var o=e+a*i,s=n+a*i,l=t[o],u=r[o];t[o]=t[s],t[s]=l,r[o]=r[s],r[s]=u}}function Ah(t,r,e,n,i){for(var a=0;a<n;++a){var o=e+a*n;t[o]/=i,r[o]/=i}}function If(t,r,e){for(var n=t.slice(),i=0;i<e;++i)n[i*e+r-1]=0,n[(r-1)*e+i]=0;return n[(r-1)*(e+1)]=1,n}function Fr(t,r){r===void 0&&(r=Math.sqrt(t.length));for(var e=t.slice(),n=Ot(r),i=0;i<r;++i){var a=r*i+i;if(!vt(e[a],Bt)){for(var o=i+1;o<r;++o)if(e[r*i+o]){Ih(e,n,i,o,r);break}}if(!vt(e[a],Bt))return[];Ah(e,n,i,r,e[a]);for(var o=0;o<r;++o){var s=o,l=o+i*r,u=e[l];!vt(u,Bt)||i===o||Ph(e,n,s,i,r,-u)}}return n}function zh(t,r){r===void 0&&(r=Math.sqrt(t.length));for(var e=[],n=0;n<r;++n)for(var i=0;i<r;++i)e[i*r+n]=t[r*n+i];return e}function Af(t,r){r===void 0&&(r=Math.sqrt(t.length));for(var e=[],n=t[r*r-1],i=0;i<r-1;++i)e[i]=t[r*(r-1)+i]/n;return e[r-1]=0,e}function Bh(t,r){for(var e=Ot(r),n=0;n<r-1;++n)e[r*(r-1)+n]=t[n]||0;return e}function De(t,r){for(var e=t.slice(),n=t.length;n<r-1;++n)e[n]=0;return e[r-1]=1,e}function Tr(t,r,e){if(r===void 0&&(r=Math.sqrt(t.length)),r===e)return t;for(var n=Ot(e),i=Math.min(r,e),a=0;a<i-1;++a){for(var o=0;o<i-1;++o)n[a*e+o]=t[a*r+o];n[(a+1)*e-1]=t[(a+1)*r-1],n[(e-1)*e+a]=t[(r-1)*r+a]}return n[e*e-1]=t[r*r-1],n}function Pi(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];var n=Ot(t);return r.forEach(function(i){n=Mt(n,i,t)}),n}function Mt(t,r,e){e===void 0&&(e=Math.sqrt(t.length));var n=[],i=t.length/e,a=r.length/i;if(i){if(!a)return t}else return r;for(var o=0;o<e;++o)for(var s=0;s<a;++s){n[s*e+o]=0;for(var l=0;l<i;++l)n[s*e+o]+=t[l*e+o]*r[s*i+l]}return n}function yt(t,r){for(var e=Math.min(t.length,r.length),n=t.slice(),i=0;i<e;++i)n[i]=n[i]+r[i];return n}function dt(t,r){for(var e=Math.min(t.length,r.length),n=t.slice(),i=0;i<e;++i)n[i]=n[i]-r[i];return n}function Gh(t,r){return r===void 0&&(r=t.length===6),r?[t[0],t[1],0,t[2],t[3],0,t[4],t[5],1]:t}function zf(t,r){return r===void 0&&(r=t.length===9),r?[t[0],t[1],t[3],t[4],t[6],t[7]]:t}function Kt(t,r,e){e===void 0&&(e=r.length);var n=Mt(t,r,e),i=n[e-1];return n.map(function(a){return a/i})}function Fh(t,r){return Mt(t,[1,0,0,0,0,Math.cos(r),Math.sin(r),0,0,-Math.sin(r),Math.cos(r),0,0,0,0,1],4)}function kh(t,r){return Mt(t,[Math.cos(r),0,-Math.sin(r),0,0,1,0,0,Math.sin(r),0,Math.cos(r),0,0,0,0,1],4)}function Nh(t,r){return Mt(t,jn(r,4))}function ai(t,r){var e=r[0],n=e===void 0?1:e,i=r[1],a=i===void 0?1:i,o=r[2],s=o===void 0?1:o;return Mt(t,[n,0,0,0,0,a,0,0,0,0,s,0,0,0,0,1],4)}function qn(t,r){return Kt(jn(r,3),De(t,3))}function Ta(t,r){var e=r[0],n=e===void 0?0:e,i=r[1],a=i===void 0?0:i,o=r[2],s=o===void 0?0:o;return Mt(t,[1,0,0,0,0,1,0,0,0,0,1,0,n,a,s,1],4)}function vl(t,r){return Mt(t,r,4)}function jn(t,r){var e=Math.cos(t),n=Math.sin(t),i=Ot(r);return i[0]=e,i[1]=n,i[r]=-n,i[r+1]=e,i}function Ot(t){for(var r=t*t,e=[],n=0;n<r;++n)e[n]=n%(t+1)?0:1;return e}function ts(t,r){for(var e=Ot(r),n=Math.min(t.length,r-1),i=0;i<n;++i)e[(r+1)*i]=t[i];return e}function Me(t,r){for(var e=Ot(r),n=Math.min(t.length,r-1),i=0;i<n;++i)e[r*(r-1)+i]=t[i];return e}function rs(t,r,e,n,i,a,o,s){var l=t[0],u=t[1],f=r[0],c=r[1],d=e[0],v=e[1],p=n[0],h=n[1],g=i[0],m=i[1],b=a[0],x=a[1],_=o[0],S=o[1],y=s[0],C=s[1],D=[l,0,f,0,d,0,p,0,u,0,c,0,v,0,h,0,1,0,1,0,1,0,1,0,0,l,0,f,0,d,0,p,0,u,0,c,0,v,0,h,0,1,0,1,0,1,0,1,-g*l,-m*l,-b*f,-x*f,-_*d,-S*d,-y*p,-C*p,-g*u,-m*u,-b*c,-x*c,-_*v,-S*v,-y*h,-C*h],M=Fr(D,8);if(!M.length)return[];var R=Mt(M,[g,m,b,x,_,S,y,C],8);return R[8]=1,Tr(zh(R),3,4)}var yn=function(){return yn=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},yn.apply(this,arguments)};function Hh(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Bn(t,r){return r===void 0&&(r=0),Be(Ke(t,r))}function Lh(t,r){var e=Kt(t,[r[0],r[1]||0,r[2]||0,1],4),n=e[3]||1;return[e[0]/n,e[1]/n,e[2]/n]}function Be(t){var r=Hh();return t.forEach(function(e){var n=e.matrixFunction,i=e.functionValue;n&&(r=n(r,i))}),r}function Ke(t,r){r===void 0&&(r=0);var e=Ft(t)?t:ne(t);return e.map(function(n){var i=af(n),a=i.prefix,o=i.value,s=null,l=a,u="";if(a==="translate"||a==="translateX"||a==="translate3d"){var f=wr(r)?yn(yn({},r),{"o%":r["%"]}):{"%":r,"o%":r},c=xe(o).map(function(P,B){return B===0&&"x%"in f?f["%"]=r["x%"]:B===1&&"y%"in f?f["%"]=r["y%"]:f["%"]=r["o%"],Dt(P,f)}),d=c[0],v=c[1],p=v===void 0?0:v,h=c[2],g=h===void 0?0:h;s=Ta,u=[d,p,g]}else if(a==="translateY"){var m=wr(r)?yn({"%":r["y%"]},r):{"%":r},p=Dt(o,m);s=Ta,u=[0,p,0]}else if(a==="translateZ"){var g=parseFloat(o);s=Ta,u=[0,0,g]}else if(a==="scale"||a==="scale3d"){var b=xe(o).map(function(P){return parseFloat(P)}),x=b[0],_=b[1],S=_===void 0?x:_,y=b[2],C=y===void 0?1:y;s=ai,u=[x,S,C]}else if(a==="scaleX"){var x=parseFloat(o);s=ai,u=[x,1,1]}else if(a==="scaleY"){var S=parseFloat(o);s=ai,u=[1,S,1]}else if(a==="scaleZ"){var C=parseFloat(o);s=ai,u=[1,1,C]}else if(a==="rotate"||a==="rotateZ"||a==="rotateX"||a==="rotateY"){var D=$n(o),M=D.unit,R=D.value,z=M==="rad"?R:R*Math.PI/180;a==="rotate"||a==="rotateZ"?(l="rotateZ",s=Nh):a==="rotateX"?s=Fh:a==="rotateY"&&(s=kh),u=z}else if(a==="matrix3d")s=vl,u=xe(o).map(function(P){return parseFloat(P)});else if(a==="matrix"){var I=xe(o).map(function(P){return parseFloat(P)});s=vl,u=[I[0],I[1],0,0,I[2],I[3],0,0,0,0,1,0,I[4],I[5],0,1]}else l="";return{name:a,functionName:l,value:o,matrixFunction:s,functionValue:u}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var no=function(t,r){return no=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},no(t,r)};function Wh(t,r){no(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Bf=typeof Map=="function"?void 0:function(){var t=0;return function(r){return r.__DIFF_KEY__||(r.__DIFF_KEY__=++t)}}(),Gf=function(t){Wh(r,t);function r(e){return e===void 0&&(e=[]),t.call(this,e,Bf)||this}return r}(sh);function $h(t,r){return Vn(t,r,Bf)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var io=function(){return io=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},io.apply(this,arguments)};function Vh(){for(var t=0,r=0,e=arguments.length;r<e;r++)t+=arguments[r].length;for(var n=Array(t),i=0,r=0;r<e;r++)for(var a=arguments[r],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}var ea=function(){function t(){this._events={}}var r=t.prototype;return r.on=function(e,n){if(wr(e))for(var i in e)this.on(i,e[i]);else this._addEvent(e,n,{});return this},r.off=function(e,n){if(!e)this._events={};else if(wr(e))for(var i in e)this.off(i);else if(!n)this._events[e]=[];else{var a=this._events[e];if(a){var o=Xr(a,function(s){return s.listener===n});o>-1&&a.splice(o,1)}}return this},r.once=function(e,n){var i=this;return n&&this._addEvent(e,n,{once:!0}),new Promise(function(a){i._addEvent(e,a,{once:!0})})},r.emit=function(e,n){var i=this;n===void 0&&(n={});var a=this._events[e];if(!e||!a)return!0;var o=!1;return n.eventType=e,n.stop=function(){o=!0},n.currentTarget=this,Vh(a).forEach(function(s){s.listener(n),s.once&&i.off(e,s.listener)}),!o},r.trigger=function(e,n){return n===void 0&&(n={}),this.emit(e,n)},r._addEvent=function(e,n,i){var a=this._events;a[e]=a[e]||[];var o=a[e];o.push(io({listener:n},i))},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ao=function(t,r){return ao=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},ao(t,r)};function Yh(t,r){ao(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Ge=function(){return Ge=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},Ge.apply(this,arguments)};function Xh(t){var r=t.container;return r===document.body?[r.scrollLeft||document.documentElement.scrollLeft,r.scrollTop||document.documentElement.scrollTop]:[r.scrollLeft,r.scrollTop]}function pl(t,r){return t.addEventListener("scroll",r),function(){t.removeEventListener("scroll",r)}}function oi(t){if(t){if(sr(t))return document.querySelector(t)}else return null;if(Vo(t))return t();if(t instanceof Element)return t;if("current"in t)return t.current;if("value"in t)return t.value}var qh=function(t){Yh(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n._startRect=null,n._startPos=[],n._prevTime=0,n._timer=0,n._prevScrollPos=[0,0],n._isWait=!1,n._flag=!1,n._currentOptions=null,n._lock=!1,n._unregister=null,n._onScroll=function(){var i=n._currentOptions;n._lock||!i||n.emit("scrollDrag",{next:function(a){n.checkScroll({container:i.container,inputEvent:a})}})},n}var e=r.prototype;return e.dragStart=function(n,i){var a=oi(i.container);if(!a){this._flag=!1;return}var o=0,s=0,l=0,u=0;if(a===document.body)l=window.innerWidth,u=window.innerHeight;else{var f=a.getBoundingClientRect();o=f.top,s=f.left,l=f.width,u=f.height}this._flag=!0,this._startPos=[n.clientX,n.clientY],this._startRect={top:o,left:s,width:l,height:u},this._prevScrollPos=this._getScrollPosition([0,0],i),this._currentOptions=i,this._registerScrollEvent(i)},e.drag=function(n,i){if(clearTimeout(this._timer),!!this._flag){var a=n.clientX,o=n.clientY,s=i.threshold,l=s===void 0?0:s,u=this,f=u._startRect,c=u._startPos;this._currentOptions=i;var d=[0,0];return f.top>o-l?(c[1]>f.top||o<c[1])&&(d[1]=-1):f.top+f.height<o+l&&(c[1]<f.top+f.height||o>c[1])&&(d[1]=1),f.left>a-l?(c[0]>f.left||a<c[0])&&(d[0]=-1):f.left+f.width<a+l&&(c[0]<f.left+f.width||a>c[0])&&(d[0]=1),!d[0]&&!d[1]?!1:this._continueDrag(Ge(Ge({},i),{direction:d,inputEvent:n,isDrag:!0}))}},e.checkScroll=function(n){var i=this;if(this._isWait)return!1;var a=n.prevScrollPos,o=a===void 0?this._prevScrollPos:a,s=n.direction,l=n.throttleTime,u=l===void 0?0:l,f=n.inputEvent,c=n.isDrag,d=this._getScrollPosition(s||[0,0],n),v=d[0]-o[0],p=d[1]-o[1],h=s||[v?Math.abs(v)/v:0,p?Math.abs(p)/p:0];return this._prevScrollPos=d,this._lock=!1,!v&&!p?!1:(this.emit("move",{offsetX:h[0]?v:0,offsetY:h[1]?p:0,inputEvent:f}),u&&c&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){i._continueDrag(n)},u)),!0)},e.dragEnd=function(){this._flag=!1,this._lock=!1,clearTimeout(this._timer),this._unregisterScrollEvent()},e._getScrollPosition=function(n,i){var a=i.container,o=i.getScrollPosition,s=o===void 0?Xh:o;return s({container:oi(a),direction:n})},e._continueDrag=function(n){var i=this,a,o=n.container,s=n.direction,l=n.throttleTime,u=n.useScroll,f=n.isDrag,c=n.inputEvent;if(!(!this._flag||f&&this._isWait)){var d=An(),v=Math.max(l+this._prevTime-d,0);if(v>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){i._continueDrag(n)},v),!1;this._prevTime=d;var p=this._getScrollPosition(s,n);this._prevScrollPos=p,f&&(this._isWait=!0),u||(this._lock=!0);var h={container:oi(o),direction:s,inputEvent:c};return(a=n.requestScroll)===null||a===void 0||a.call(n,h),this.emit("scroll",h),this._isWait=!1,u||this.checkScroll(Ge(Ge({},n),{prevScrollPos:p,direction:s,inputEvent:c}))}},e._registerScrollEvent=function(n){this._unregisterScrollEvent();var i=n.checkScrollEvent;if(i){var a=i===!0?pl:i,o=oi(n.container);i===!0&&(o===document.body||o===document.documentElement)?this._unregister=pl(window,this._onScroll):this._unregister=a(o,this._onScroll)}},e._unregisterScrollEvent=function(){var n;(n=this._unregister)===null||n===void 0||n.call(this),this._unregister=null},r}(ea);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function jh(){for(var t=0,r=0,e=arguments.length;r<e;r++)t+=arguments[r].length;for(var n=Array(t),i=0,r=0;r<e;r++)for(var a=arguments[r],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function or(t){return vt(t,Bt)}function Uh(t,r){return t.every(function(e,n){return or(e-r[n])===0})}function Kh(t,r){return!or(t[0]-r[0])&&!or(t[1]-r[1])}function Ff(t){return t.length<3?0:Math.abs(Jp(t.map(function(r,e){var n=t[e+1]||t[0];return r[0]*n[1]-n[0]*r[1]})))/2}function hl(t,r){var e=r.width,n=r.height,i=r.left,a=r.top,o=we(t),s=o.minX,l=o.minY,u=o.maxX,f=o.maxY,c=e/(u-s),d=n/(f-l);return t.map(function(v){return[i+(v[0]-s)*c,a+(v[1]-l)*d]})}function we(t){var r=t.map(function(n){return n[0]}),e=t.map(function(n){return n[1]});return{minX:Math.min.apply(Math,r),minY:Math.min.apply(Math,e),maxX:Math.max.apply(Math,r),maxY:Math.max.apply(Math,e)}}function oo(t,r,e){var n=t[0],i=t[1],a=we(r),o=a.minX,s=a.maxX,l=[[o,i],[s,i]],u=Ii(l[0],l[1]),f=so(r),c=[];if(f.forEach(function(p){var h=Ii(p[0],p[1]),g=p[0];if(Uh(u,h))c.push({pos:t,line:p,type:"line"});else{var m=kf(es(u,h),[l,p]);m.forEach(function(b){p.some(function(x){return Kh(x,b)})?c.push({pos:b,line:p,type:"point"}):or(g[1]-i)!==0&&c.push({pos:b,line:p,type:"intersection"})})}}),lr(c,function(p){return p[0]===n}))return!0;var d=0,v={};return c.forEach(function(p){var h=p.pos,g=p.type,m=p.line;if(!(h[0]>n))if(g==="intersection")++d;else{if(g==="line")return;if(g==="point"){var b=lr(m,function(S){return S[1]!==i}),x=v[h[0]],_=b[1]>i?1:-1;x?x!==_&&++d:v[h[0]]=_}}}),d%2===1}function Ii(t,r){var e=t[0],n=t[1],i=r[0],a=r[1],o=i-e,s=a-n;Math.abs(o)<Bt&&(o=0),Math.abs(s)<Bt&&(s=0);var l=0,u=0,f=0;return o?s?(l=-s/o,u=1,f=-l*e-n):(u=1,f=-n):s&&(l=-1,f=e),[l,u,f]}function es(t,r){var e=t[0],n=t[1],i=t[2],a=r[0],o=r[1],s=r[2],l=e===0&&a===0,u=n===0&&o===0,f=[];if(l&&u)return[];if(l){var c=-i/n,d=-s/o;return c!==d?[]:[[-1/0,c],[1/0,c]]}else if(u){var v=-i/e,p=-s/a;return v!==p?[]:[[v,-1/0],[v,1/0]]}else if(e===0){var h=-i/n,g=-(o*h+s)/a;f=[[g,h]]}else if(a===0){var h=-s/o,g=-(n*h+i)/e;f=[[g,h]]}else if(n===0){var g=-i/e,h=-(a*g+s)/o;f=[[g,h]]}else if(o===0){var g=-s/a,h=-(e*g+i)/n;f=[[g,h]]}else{var g=(n*s-o*i)/(o*e-n*a),h=-(e*g+i)/n;f=[[g,h]]}return f.map(function(m){return[m[0],m[1]]})}function kf(t,r){var e=r.map(function(c){return[0,1].map(function(d){return[Math.min(c[0][d],c[1][d]),Math.max(c[0][d],c[1][d])]})}),n=[];if(t.length===2){var i=t[0],a=i[0],o=i[1];if(or(a-t[1][0])){if(!or(o-t[1][1])){var u=Math.max.apply(Math,e.map(function(c){return c[0][0]})),f=Math.min.apply(Math,e.map(function(c){return c[0][1]}));if(or(u-f)>0)return[];n=[[u,o],[f,o]]}}else{var s=Math.max.apply(Math,e.map(function(c){return c[1][0]})),l=Math.min.apply(Math,e.map(function(c){return c[1][1]}));if(or(s-l)>0)return[];n=[[a,s],[a,l]]}}return n.length||(n=t.filter(function(c){var d=c[0],v=c[1];return e.every(function(p){return 0<=or(d-p[0][0])&&0<=or(p[0][1]-d)&&0<=or(v-p[1][0])&&0<=or(p[1][1]-v)})})),n.map(function(c){return[or(c[0]),or(c[1])]})}function so(t){return jh(t.slice(1),[t[0]]).map(function(r,e){return[t[e],r]})}function Zh(t,r){var e=t.slice(),n=r.slice();al(e)===-1&&e.reverse(),al(n)===-1&&n.reverse();var i=so(e),a=so(n),o=i.map(function(f){return Ii(f[0],f[1])}),s=a.map(function(f){return Ii(f[0],f[1])}),l=[];o.forEach(function(f,c){var d=i[c],v=[];s.forEach(function(p,h){var g=es(f,p),m=kf(g,[d,a[h]]);v.push.apply(v,m.map(function(b){return{index1:c,index2:h,pos:b,type:"intersection"}}))}),v.sort(function(p,h){return Vr(d[0],p.pos)-Vr(d[0],h.pos)}),l.push.apply(l,v),oo(d[1],n)&&l.push({index1:c,index2:-1,pos:d[1],type:"inside"})}),a.forEach(function(f,c){if(oo(f[1],e)){var d=!1,v=Xr(l,function(p){var h=p.index2;return h===c?(d=!0,!1):!!d});v===-1&&(d=!1,v=Xr(l,function(p){var h=p.index1,g=p.index2;return h===-1&&g+1===c?(d=!0,!1):!!d})),v===-1?l.push({index1:-1,index2:c,pos:f[1],type:"inside"}):l.splice(v,0,{index1:-1,index2:c,pos:f[1],type:"inside"})}});var u={};return l.filter(function(f){var c=f.pos,d=c[0]+"x"+c[1];return u[d]?!1:(u[d]=!0,!0)})}function Jh(t,r){var e=Zh(t,r);return e.map(function(n){var i=n.pos;return i})}function Qh(t,r){var e=Jh(t,r);return Ff(e)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lo=function(t,r){return lo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},lo(t,r)};function tg(t,r){lo(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var zt=function(){return zt=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},zt.apply(this,arguments)};function rg(t,r){var e=r[0]-t[0],n=r[1]-t[1],i=Math.atan2(n,e);return i>=0?i:i+Math.PI*2}function Ra(t){return rg([t[0].clientX,t[0].clientY],[t[1].clientX,t[1].clientY])/Math.PI*180}function eg(t){return t.touches&&t.touches.length>=2}function si(t){return t?t.touches?ig(t.touches):[Nf(t)]:[]}function ng(t){return t&&(t.type.indexOf("mouse")>-1||"button"in t)}function gl(t,r,e){var n=e.length,i=Sn(t,n),a=i.clientX,o=i.clientY,s=i.originalClientX,l=i.originalClientY,u=Sn(r,n),f=u.clientX,c=u.clientY,d=Sn(e,n),v=d.clientX,p=d.clientY,h=a-f,g=o-c,m=a-v,b=o-p;return{clientX:s,clientY:l,deltaX:h,deltaY:g,distX:m,distY:b}}function Oa(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function ig(t){for(var r=Math.min(t.length,2),e=[],n=0;n<r;++n)e.push(Nf(t[n]));return e}function Nf(t){return{clientX:t.clientX,clientY:t.clientY}}function Sn(t,r){r===void 0&&(r=t.length);for(var e={clientX:0,clientY:0,originalClientX:0,originalClientY:0},n=Math.min(t.length,r),i=0;i<n;++i){var a=t[i];e.originalClientX+="originalClientX"in a?a.originalClientX:a.clientX,e.originalClientY+="originalClientY"in a?a.originalClientY:a.clientY,e.clientX+=a.clientX,e.clientY+=a.clientY}return r?{clientX:e.clientX/r,clientY:e.clientY/r,originalClientX:e.originalClientX/r,originalClientY:e.originalClientY/r}:e}var Pa=function(){function t(r){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=r,this.prevClients=r,this.length=r.length}return t.prototype.getAngle=function(r){return r===void 0&&(r=this.prevClients),Ra(r)},t.prototype.getRotation=function(r){return r===void 0&&(r=this.prevClients),Ra(r)-Ra(this.startClients)},t.prototype.getPosition=function(r,e){r===void 0&&(r=this.prevClients);var n=gl(r||this.prevClients,this.prevClients,this.startClients),i=n.deltaX,a=n.deltaY;return this.movement+=Math.sqrt(i*i+a*a),this.prevClients=r,n},t.prototype.getPositions=function(r){r===void 0&&(r=this.prevClients);for(var e=this.prevClients,n=this.startClients,i=Math.min(this.length,e.length),a=[],o=0;o<i;++o)a[o]=gl([r[o]],[e[o]],[n[o]]);return a},t.prototype.getMovement=function(r){var e=this.movement;if(!r)return e;var n=Sn(r,this.length),i=Sn(this.prevClients,this.length),a=n.clientX-i.clientX,o=n.clientY-i.clientY;return Math.sqrt(a*a+o*o)+e},t.prototype.getDistance=function(r){return r===void 0&&(r=this.prevClients),Oa(r)},t.prototype.getScale=function(r){return r===void 0&&(r=this.prevClients),Oa(r)/Oa(this.startClients)},t.prototype.move=function(r,e){this.startClients.forEach(function(n){n.clientX-=r,n.clientY-=e}),this.prevClients.forEach(function(n){n.clientX-=r,n.clientY-=e})},t}(),ml=["textarea","input"],ag=function(t){tg(r,t);function r(e,n){n===void 0&&(n={});var i=t.call(this)||this;i.options={},i.flag=!1,i.pinchFlag=!1,i.data={},i.isDrag=!1,i.isPinch=!1,i.clientStores=[],i.targets=[],i.prevTime=0,i.doubleFlag=!1,i._useMouse=!1,i._useTouch=!1,i._useDrag=!1,i._dragFlag=!1,i._isTrusted=!1,i._isMouseEvent=!1,i._isSecondaryButton=!1,i._preventMouseEvent=!1,i._prevInputEvent=null,i._isDragAPI=!1,i._isIdle=!0,i._preventMouseEventId=0,i._window=window,i.onDragStart=function(d,v){if(v===void 0&&(v=!0),!(!i.flag&&d.cancelable===!1)){var p=d.type.indexOf("drag")>=-1;if(!(i.flag&&p)){i._isDragAPI=!0;var h=i.options,g=h.container,m=h.pinchOutside,b=h.preventWheelClick,x=h.preventRightClick,_=h.preventDefault,S=h.checkInput,y=h.dragFocusedInput,C=h.preventClickEventOnDragStart,D=h.preventClickEventOnDrag,M=h.preventClickEventByCondition,R=i._useTouch,z=!i.flag;if(i._isSecondaryButton=d.which===3||d.button===2,b&&(d.which===2||d.button===1)||x&&(d.which===3||d.button===2))return i.stop(),!1;if(z){var I=i._window.document.activeElement,P=d.target;if(P){var B=P.tagName.toLowerCase(),G=ml.indexOf(B)>-1,V=P.isContentEditable;if(G||V){if(S||!y&&I===P)return!1;if(I&&(I===P||V&&I.isContentEditable&&I.contains(P)))if(y)P.blur();else return!1}else if((_||d.type==="touchstart")&&I){var $=I.tagName.toLowerCase();(I.isContentEditable||ml.indexOf($)>-1)&&I.blur()}(C||D||M)&&Wt(i._window,"click",i._onClick,!0)}i.clientStores=[new Pa(si(d))],i._isIdle=!1,i.flag=!0,i.isDrag=!1,i._isTrusted=v,i._dragFlag=!0,i._prevInputEvent=d,i.data={},i.doubleFlag=An()-i.prevTime<200,i._isMouseEvent=ng(d),!i._isMouseEvent&&i._preventMouseEvent&&i._allowMouseEvent();var N=i._preventMouseEvent||i.emit("dragStart",zt(zt({data:i.data,datas:i.data,inputEvent:d,isMouseEvent:i._isMouseEvent,isSecondaryButton:i._isSecondaryButton,isTrusted:v,isDouble:i.doubleFlag},i.getCurrentStore().getPosition()),{preventDefault:function(){d.preventDefault()},preventDrag:function(){i._dragFlag=!1}}));N===!1&&i.stop(),i._isMouseEvent&&i.flag&&_&&d.preventDefault()}if(!i.flag)return!1;var U=0;if(z?(i._attchDragEvent(),R&&m&&(U=setTimeout(function(){Wt(g,"touchstart",i.onDragStart,{passive:!1})}))):R&&m&&kt(g,"touchstart",i.onDragStart),i.flag&&eg(d)){if(clearTimeout(U),z&&d.touches.length!==d.changedTouches.length)return;i.pinchFlag||i.onPinchStart(d)}}}},i.onDrag=function(d,v){if(i.flag){var p=i.options.preventDefault;!i._isMouseEvent&&p&&d.preventDefault(),i._prevInputEvent=d;var h=si(d),g=i.moveClients(h,d,!1);if(i._dragFlag){if(i.pinchFlag||g.deltaX||g.deltaY){var m=i._preventMouseEvent||i.emit("drag",zt(zt({},g),{isScroll:!!v,inputEvent:d}));if(m===!1){i.stop();return}}i.pinchFlag&&i.onPinch(d,h)}i.getCurrentStore().getPosition(h,!0)}},i.onDragEnd=function(d){if(i.flag){var v=i.options,p=v.pinchOutside,h=v.container,g=v.preventClickEventOnDrag,m=v.preventClickEventOnDragStart,b=v.preventClickEventByCondition,x=i.isDrag;(g||m||b)&&requestAnimationFrame(function(){i._allowClickEvent()}),!b&&!m&&g&&!x&&i._allowClickEvent(),i._useTouch&&p&&kt(h,"touchstart",i.onDragStart),i.pinchFlag&&i.onPinchEnd(d);var _=d!=null&&d.touches?si(d):[],S=_.length;S===0||!i.options.keepDragging?i.flag=!1:i._addStore(new Pa(_));var y=i._getPosition(),C=An(),D=!x&&i.doubleFlag;i._prevInputEvent=null,i.prevTime=x||D?0:C,i.flag||(i._dettachDragEvent(),i._preventMouseEvent||i.emit("dragEnd",zt({data:i.data,datas:i.data,isDouble:D,isDrag:x,isClick:!x,isMouseEvent:i._isMouseEvent,isSecondaryButton:i._isSecondaryButton,inputEvent:d,isTrusted:i._isTrusted},y)),i.clientStores=[],i._isMouseEvent||(i._preventMouseEvent=!0,clearTimeout(i._preventMouseEventId),i._preventMouseEventId=setTimeout(function(){i._preventMouseEvent=!1},200)),i._isIdle=!0)}},i.onBlur=function(){i.onDragEnd()},i._allowClickEvent=function(){kt(i._window,"click",i._onClick,!0)},i._onClick=function(d){i._allowClickEvent(),i._allowMouseEvent();var v=i.options.preventClickEventByCondition;v!=null&&v(d)||(d.stopPropagation(),d.preventDefault())},i._onContextMenu=function(d){var v=i.options;v.preventRightClick?i.onDragEnd(d):d.preventDefault()},i._passCallback=function(){};var a=[].concat(e),o=a[0];i._window=df(o)?o:ee(o),i.options=zt({checkInput:!1,container:o&&!("document"in o)?ee(o):o,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},n);var s=i.options,l=s.container,u=s.events,f=s.checkWindowBlur;if(i._useDrag=u.indexOf("drag")>-1,i._useTouch=u.indexOf("touch")>-1,i._useMouse=u.indexOf("mouse")>-1,i.targets=a,i._useDrag&&a.forEach(function(d){Wt(d,"dragstart",i.onDragStart)}),i._useMouse&&(a.forEach(function(d){Wt(d,"mousedown",i.onDragStart),Wt(d,"mousemove",i._passCallback)}),Wt(l,"contextmenu",i._onContextMenu)),f&&Wt(ee(),"blur",i.onBlur),i._useTouch){var c={passive:!1};a.forEach(function(d){Wt(d,"touchstart",i.onDragStart,c),Wt(d,"touchmove",i._passCallback,c)})}return i}return r.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},r.prototype.getMovement=function(e){return this.getCurrentStore().getMovement(e)+this.clientStores.slice(1).reduce(function(n,i){return n+i.movement},0)},r.prototype.isDragging=function(){return this.isDrag},r.prototype.isIdle=function(){return this._isIdle},r.prototype.isFlag=function(){return this.flag},r.prototype.isPinchFlag=function(){return this.pinchFlag},r.prototype.isDoubleFlag=function(){return this.doubleFlag},r.prototype.isPinching=function(){return this.isPinch},r.prototype.scrollBy=function(e,n,i,a){a===void 0&&(a=!0),this.flag&&(this.clientStores[0].move(e,n),a&&this.onDrag(i,!0))},r.prototype.move=function(e,n){var i=e[0],a=e[1],o=this.getCurrentStore(),s=o.prevClients;return this.moveClients(s.map(function(l){var u=l.clientX,f=l.clientY;return{clientX:u+i,clientY:f+a,originalClientX:u,originalClientY:f}}),n,!0)},r.prototype.triggerDragStart=function(e){this.onDragStart(e,!1)},r.prototype.setEventData=function(e){var n=this.data;for(var i in e)n[i]=e[i];return this},r.prototype.setEventDatas=function(e){return this.setEventData(e)},r.prototype.getCurrentEvent=function(e){return e===void 0&&(e=this._prevInputEvent),zt(zt({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:e})},r.prototype.getEventData=function(){return this.data},r.prototype.getEventDatas=function(){return this.data},r.prototype.unset=function(){var e=this,n=this.targets,i=this.options.container;this.off(),kt(this._window,"blur",this.onBlur),this._useDrag&&n.forEach(function(a){kt(a,"dragstart",e.onDragStart)}),this._useMouse&&(n.forEach(function(a){kt(a,"mousedown",e.onDragStart)}),kt(i,"contextmenu",this._onContextMenu)),this._useTouch&&(n.forEach(function(a){kt(a,"touchstart",e.onDragStart)}),kt(i,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},r.prototype.onPinchStart=function(e){var n=this,i=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>i)){var a=new Pa(si(e));this.pinchFlag=!0,this._addStore(a);var o=this.emit("pinchStart",zt(zt({data:this.data,datas:this.data,angle:a.getAngle(),touches:this.getCurrentStore().getPositions()},a.getPosition()),{inputEvent:e,isTrusted:this._isTrusted,preventDefault:function(){e.preventDefault()},preventDrag:function(){n._dragFlag=!1}}));o===!1&&(this.pinchFlag=!1)}},r.prototype.onPinch=function(e,n){if(!(!this.flag||!this.pinchFlag||n.length<2)){var i=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",zt(zt({data:this.data,datas:this.data,movement:this.getMovement(n),angle:i.getAngle(n),rotation:i.getRotation(n),touches:i.getPositions(n),scale:i.getScale(n),distance:i.getDistance(n)},i.getPosition(n)),{inputEvent:e,isTrusted:this._isTrusted}))}},r.prototype.onPinchEnd=function(e){if(this.pinchFlag){var n=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var i=this.getCurrentStore();this.emit("pinchEnd",zt(zt({data:this.data,datas:this.data,isPinch:n,touches:i.getPositions()},i.getPosition()),{inputEvent:e}))}},r.prototype.getCurrentStore=function(){return this.clientStores[0]},r.prototype.moveClients=function(e,n,i){var a=this._getPosition(e,i),o=this.isDrag;(a.deltaX||a.deltaY)&&(this.isDrag=!0);var s=!1;return!o&&this.isDrag&&(s=!0),zt(zt({data:this.data,datas:this.data},a),{movement:this.getMovement(e),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:n,isTrusted:this._isTrusted,isFirstDrag:s})},r.prototype._addStore=function(e){this.clientStores.splice(0,0,e)},r.prototype._getPosition=function(e,n){var i=this.getCurrentStore(),a=i.getPosition(e,n),o=this.clientStores.slice(1).reduce(function(u,f){var c=f.getPosition();return u.distX+=c.distX,u.distY+=c.distY,u},a),s=o.distX,l=o.distY;return zt(zt({},a),{distX:s,distY:l})},r.prototype._attchDragEvent=function(){var e=this._window,n=this.options.container,i={passive:!1};this._isDragAPI&&(Wt(n,"dragover",this.onDrag,i),Wt(e,"dragend",this.onDragEnd)),this._useMouse&&(Wt(n,"mousemove",this.onDrag),Wt(e,"mouseup",this.onDragEnd)),this._useTouch&&(Wt(n,"touchmove",this.onDrag,i),Wt(e,"touchend",this.onDragEnd,i),Wt(e,"touchcancel",this.onDragEnd,i))},r.prototype._dettachDragEvent=function(){var e=this._window,n=this.options.container;this._isDragAPI&&(kt(n,"dragover",this.onDrag),kt(e,"dragend",this.onDragEnd)),this._useMouse&&(kt(n,"mousemove",this.onDrag),kt(e,"mouseup",this.onDragEnd)),this._useTouch&&(kt(n,"touchstart",this.onDragStart),kt(n,"touchmove",this.onDrag),kt(e,"touchend",this.onDragEnd),kt(e,"touchcancel",this.onDragEnd))},r.prototype._allowMouseEvent=function(){this._preventMouseEvent=!1,clearTimeout(this._preventMouseEventId)},r}(ea);function og(t){for(var r=5381,e=t.length;e;)r=r*33^t.charCodeAt(--e);return r>>>0}var sg=og;function lg(t){return sg(t).toString(36)}function ug(t){if(t&&t.getRootNode){var r=t.getRootNode();if(r.nodeType===11)return r}}function fg(t,r,e){return e.original?r:r.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(n,i){var a=i.trim();return(a?xe(a):[""]).map(function(o){var s=o.trim();return s.indexOf("@")===0?s:s.indexOf(":global")>-1?s.replace(/\:global/g,""):s.indexOf(":host")>-1?"".concat(s.replace(/\:host/g,".".concat(t))):s?".".concat(t," ").concat(s):".".concat(t)}).join(", ")+" {"})}function cg(t,r,e,n,i){var a=en(n),o=a.createElement("style");return o.setAttribute("type","text/css"),o.setAttribute("data-styled-id",t),o.setAttribute("data-styled-count","1"),e.nonce&&o.setAttribute("nonce",e.nonce),o.innerHTML=fg(t,r,e),(i||a.head||a.body).appendChild(o),o}function dg(t){var r="rCS"+lg(t);return{className:r,inject:function(e,n){n===void 0&&(n={});var i=ug(e),a=(i||e.ownerDocument||document).querySelector('style[data-styled-id="'.concat(r,'"]'));if(!a)a=cg(r,t,n,e,i);else{var o=parseFloat(a.getAttribute("data-styled-count"))||0;a.setAttribute("data-styled-count","".concat(o+1))}return{destroy:function(){var s,l=parseFloat(a.getAttribute("data-styled-count"))||0;l<=1?(a.remove?a.remove():(s=a.parentNode)===null||s===void 0||s.removeChild(a),a=null):a.setAttribute("data-styled-count","".concat(l-1))}}}}}var uo=function(){return uo=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},uo.apply(this,arguments)};function vg(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(e[n[i]]=t[n[i]]);return e}function Hf(t,r){var e=dg(r),n=e.className;return ch(function(i,a){var o=i.className,s=o===void 0?"":o;i.cspNonce;var l=vg(i,["className","cspNonce"]),u=Ch();return Dh(a,function(){return u.current},[]),Ef(function(){var f=e.inject(u.current,{nonce:i.cspNonce});return function(){f.destroy()}},[]),Dr(t,uo({ref:u,"data-styled-id":n,className:"".concat(s," ").concat(n)},l))})}var fo=function(t,r){return fo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},fo(t,r)};function Un(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");fo(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var T=function(){return T=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},T.apply(this,arguments)};function pg(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(e[n[i]]=t[n[i]]);return e}function hg(t,r,e,n){var i=arguments.length,a=i<3?r:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,r,e,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(r,e,a):o(r,e))||a);return i>3&&a&&Object.defineProperty(r,e,a),a}function gg(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function O(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,a=[],o;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(o)throw o.error}}return a}function K(t,r,e){if(arguments.length===2)for(var n=0,i=r.length,a;n<i;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return t.concat(a||Array.prototype.slice.call(r))}function Kn(t,r){return T({events:[],props:[],name:t},r)}var mg=["n","w","s","e"],ns=["n","w","s","e","nw","ne","sw","se"];function bg(t,r){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32*t,'px" height="').concat(32*t,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(r,'deg);transform-origin: 16px 16px"></path></svg>')}function _g(t){var r=bg(1,t),e=Math.round(t/45)*45%180,n="ns-resize";return e===135?n="nwse-resize":e===45?n="nesw-resize":e===90&&(n="ew-resize"),"cursor:".concat(n,";cursor: url('").concat(r,"') 16 16, ").concat(n,";")}var an=Oh(),Lf=an.browser.webkit,Wf=Lf&&function(){var t=typeof window>"u"?{userAgent:""}:window.navigator,r=/applewebkit\/([^\s]+)/g.exec(t.userAgent.toLowerCase());return r?parseFloat(r[1])<605:!1}(),$f=an.browser.name,Vf=parseInt(an.browser.version,10),xg=$f==="chrome",yg=an.browser.chromium,Sg=parseInt(an.browser.chromiumVersion,10)||0,Eg=xg&&Vf>=109||yg&&Sg>=109,Cg=$f==="firefox",Dg=parseInt(an.browser.webkitVersion,10)>=612||Vf>=15,is="moveable-",Mg=ns.map(function(t){var r="",e="",n="center",i="center",a="calc(var(--moveable-control-padding, 20) * -1px)";return t.indexOf("n")>-1&&(r="top: ".concat(a,";"),i="bottom"),t.indexOf("s")>-1&&(r="top: 0px;",i="top"),t.indexOf("w")>-1&&(e="left: ".concat(a,";"),n="right"),t.indexOf("e")>-1&&(e="left: 0px;",n="left"),'.around-control[data-direction*="'.concat(t,`"] {
        `).concat(e).concat(r,`
        transform-origin: `).concat(n," ").concat(i,`;
    }`)}).join(`
`),wg=`
{
position: absolute;
width: 1px;
height: 1px;
left: 0;
top: 0;
z-index: 3000;
--moveable-color: #4af;
--zoom: 1;
--zoompx: 1px;
--moveable-line-padding: 0;
--moveable-control-padding: 0;
will-change: transform;
outline: 1px solid transparent;
}
.control-box {
z-index: 0;
}
.line, .control {
position: absolute;
left: 0;
top: 0;
will-change: transform;
}
.control {
width: 14px;
height: 14px;
border-radius: 50%;
border: 2px solid #fff;
box-sizing: border-box;
background: #4af;
background: var(--moveable-color);
margin-top: -7px;
margin-left: -7px;
border: 2px solid #fff;
z-index: 10;
}
.around-control {
position: absolute;
will-change: transform;
width: calc(var(--moveable-control-padding, 20) * 1px);
height: calc(var(--moveable-control-padding, 20) * 1px);
left: calc(var(--moveable-control-padding, 20) * -0.5px);
top: calc(var(--moveable-control-padding, 20) * -0.5px);
box-sizing: border-box;
background: transparent;
z-index: 8;
cursor: alias;
transform-origin: center center;
}
`.concat(Mg,`
.padding {
position: absolute;
top: 0px;
left: 0px;
width: 100px;
height: 100px;
transform-origin: 0 0;
}
.line {
width: 1px;
height: 1px;
background: #4af;
background: var(--moveable-color);
transform-origin: 0px 50%;
}
.line.edge {
z-index: 1;
background: transparent;
}
.line.dashed {
box-sizing: border-box;
background: transparent;
}
.line.dashed.horizontal {
border-top: 1px dashed #4af;
border-top-color: #4af;
border-top-color: var(--moveable-color);
}
.line.dashed.vertical {
border-left: 1px dashed #4af;
border-left-color: #4af;
border-left-color: var(--moveable-color);
}
.line.vertical {
transform: translateX(-50%);
}
.line.horizontal {
transform: translateY(-50%);
}
.line.vertical.bold {
width: 2px;
}
.line.horizontal.bold {
height: 2px;
}

.control.origin {
border-color: #f55;
background: #fff;
width: 12px;
height: 12px;
margin-top: -6px;
margin-left: -6px;
pointer-events: none;
}
`).concat([0,15,30,45,60,75,90,105,120,135,150,165].map(function(t){return`
.direction[data-rotation="`.concat(t,'"], :global .view-control-rotation').concat(t,` {
`).concat(_g(t),`
}
`)}).join(`
`),`

.line.direction:before {
content: "";
position: absolute;
width: 100%;
height: calc(var(--moveable-line-padding, 0) * 1px);
bottom: 0;
left: 0;
}
.group {
z-index: -1;
}
.area {
position: absolute;
}
.area-pieces {
position: absolute;
top: 0;
left: 0;
display: none;
}
.area.avoid, .area.pass {
pointer-events: none;
}
.area.avoid+.area-pieces {
display: block;
}
.area-piece {
position: absolute;
}

`).concat(Wf?`:global svg *:before {
content:"";
transform-origin: inherit;
}`:"",`
`),Tg=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],co=1e-4,ir=1e-7,li=1e-9,vo=Math.pow(10,10),bl=-vo,Rg={n:[0,-1],e:[1,0],s:[0,1],w:[-1,0],nw:[-1,-1],ne:[1,-1],sw:[-1,1],se:[1,1]},as={n:[0,1],e:[1,3],s:[3,2],w:[2,0],nw:[0],ne:[1],sw:[2],se:[3]},Yf={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},Xf=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate","waitToChangeTarget","updateSelectors","getTargets","stopDrag","getControlBoxElement","getMoveables","getDragElement"];function Zn(t,r,e,n,i,a){var o,s;a===void 0&&(a="draggable");var l=(s=(o=r.gestos[a])===null||o===void 0?void 0:o.move(e,t.inputEvent))!==null&&s!==void 0?s:{},u=l.originalDatas||l.datas,f=u[a]||(u[a]={});return T(T({},l),{isPinch:!!n,parentEvent:!0,datas:f,originalDatas:t.originalDatas})}var Ze=function(){function t(r){var e;r===void 0&&(r="draggable"),this.ableName=r,this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},this.datas=(e={},e[r]={},e)}return t.prototype.dragStart=function(r,e){this.isDrag=!1,this.isFlag=!1;var n=e.originalDatas;return this.datas=n,n[this.ableName]||(n[this.ableName]={}),T(T({},this.move(r,e.inputEvent)),{type:"dragstart"})},t.prototype.drag=function(r,e){return this.move([r[0]-this.prevX,r[1]-this.prevY],e)},t.prototype.move=function(r,e){var n,i,a=!1;if(!this.isFlag)this.prevX=r[0],this.prevY=r[1],this.startX=r[0],this.startY=r[1],n=r[0],i=r[1],this.isFlag=!0;else{var o=this.isDrag;n=this.prevX+r[0],i=this.prevY+r[1],(r[0]||r[1])&&(this.isDrag=!0),!o&&this.isDrag&&(a=!0)}return this.prevX=n,this.prevY=i,{type:"drag",clientX:n,clientY:i,inputEvent:e,isFirstDrag:a,isDrag:this.isDrag,distX:n-this.startX,distY:i-this.startY,deltaX:r[0],deltaY:r[1],datas:this.datas[this.ableName],originalDatas:this.datas,parentEvent:!0,parentGesto:this}},t}();function Xe(t,r,e,n){var i=t.length===16,a=i?4:3,o=Pe(t,e,n,a),s=O(o,4),l=O(s[0],2),u=l[0],f=l[1],c=O(s[1],2),d=c[0],v=c[1],p=O(s[2],2),h=p[0],g=p[1],m=O(s[3],2),b=m[0],x=m[1],_=O(Pt(t,r,a),2),S=_[0],y=_[1],C=Math.min(u,d,h,b),D=Math.min(f,v,g,x),M=Math.max(u,d,h,b),R=Math.max(f,v,g,x);u=u-C||0,d=d-C||0,h=h-C||0,b=b-C||0,f=f-D||0,v=v-D||0,g=g-D||0,x=x-D||0,S=S-C||0,y=y-D||0;var z=t[0],I=t[a+1],P=rr(z*I);return{left:C,top:D,right:M,bottom:R,origin:[S,y],pos1:[u,f],pos2:[d,v],pos3:[h,g],pos4:[b,x],direction:P}}function qf(t,r){var e=r.clientX,n=r.clientY,i=r.datas,a=t.state,o=a.moveableClientRect,s=a.rootMatrix,l=a.is3d,u=a.pos1,f=o.left,c=o.top,d=l?4:3,v=O(dt(tn(s,[e-f,n-c],d),u),2),p=v[0],h=v[1],g=O(kr({datas:i,distX:p,distY:h}),2),m=g[0],b=g[1];return[m,b]}function Oe(t,r){var e=r.datas,n=t.state,i=n.allMatrix,a=n.beforeMatrix,o=n.is3d,s=n.left,l=n.top,u=n.origin,f=n.offsetMatrix,c=n.targetMatrix,d=n.transformOrigin,v=o?4:3;e.is3d=o,e.matrix=i,e.targetMatrix=c,e.beforeMatrix=a,e.offsetMatrix=f,e.transformOrigin=d,e.inverseMatrix=Fr(i,v),e.inverseBeforeMatrix=Fr(a,v),e.absoluteOrigin=De(yt([s,l],u),v),e.startDragBeforeDist=Kt(e.inverseBeforeMatrix,e.absoluteOrigin,v),e.startDragDist=Kt(e.inverseMatrix,e.absoluteOrigin,v)}function Og(t){return Xe(t.datas.beforeTransform,[50,50],100,100).direction}function na(t,r,e){var n=r.datas,i=r.originalDatas.beforeRenderable,a=n.transformIndex,o=i.nextTransforms,s=o.length,l=i.nextTransformAppendedIndexes,u=-1;a===-1?(e==="translate"?u=0:e==="rotate"&&(u=Xr(o,function(v){return v.match(/scale\(/g)})),u===-1&&(u=o.length),n.transformIndex=u):lr(l,function(v){return v.index===a&&v.functionName===e})?u=a:u=a+l.filter(function(v){return v.index<a}).length;var f=em(o,t.state,u),c=f.targetFunction,d=e==="rotate"?"rotateZ":e;n.beforeFunctionTexts=f.beforeFunctionTexts,n.afterFunctionTexts=f.afterFunctionTexts,n.beforeTransform=f.beforeFunctionMatrix,n.beforeTransform2=f.beforeFunctionMatrix2,n.targetTansform=f.targetFunctionMatrix,n.afterTransform=f.afterFunctionMatrix,n.afterTransform2=f.afterFunctionMatrix2,n.targetAllTransform=f.allFunctionMatrix,c.functionName===d?(n.afterFunctionTexts.splice(0,1),n.isAppendTransform=!1):s>u&&(n.isAppendTransform=!0,i.nextTransformAppendedIndexes=K(K([],O(l),!1),[{functionName:e,index:u,isAppend:!0}],!1))}function ia(t,r,e){return"".concat(t.beforeFunctionTexts.join(" ")," ").concat(t.isAppendTransform?e:r," ").concat(t.afterFunctionTexts.join(" "))}function Pg(t){var r=t.datas,e=t.distX,n=t.distY,i=O(Uf({datas:r,distX:e,distY:n}),2),a=i[0],o=i[1],s=jf(r,Bh([a,o],4));return Kt(s,De([0,0,0],4),4)}function jf(t,r,e){var n=t.beforeTransform,i=t.afterTransform,a=t.beforeTransform2,o=t.afterTransform2,s=t.targetAllTransform,l=e?Mt(s,r,4):Mt(r,s,4),u=Mt(Fr(e?a:n,4),l,4),f=Mt(u,Fr(e?o:i,4),4);return f}function Uf(t){var r=t.datas,e=t.distX,n=t.distY,i=r.inverseBeforeMatrix,a=r.is3d,o=r.startDragBeforeDist,s=r.absoluteOrigin,l=a?4:3;return dt(Kt(i,yt(s,[e,n]),l),o)}function kr(t,r){var e=t.datas,n=t.distX,i=t.distY,a=e.inverseBeforeMatrix,o=e.inverseMatrix,s=e.is3d,l=e.startDragBeforeDist,u=e.startDragDist,f=e.absoluteOrigin,c=s?4:3;return dt(Kt(r?a:o,yt(f,[n,i]),c),r?l:u)}function Ig(t,r){var e=t.datas,n=t.distX,i=t.distY;e.beforeMatrix;var a=e.matrix,o=e.is3d;e.startDragBeforeDist;var s=e.startDragDist,l=e.absoluteOrigin,u=o?4:3;return dt(Kt(a,yt(s,[n,i]),u),l)}function Ag(t,r,e,n,i,a){return n===void 0&&(n=r),i===void 0&&(i=e),a===void 0&&(a=[0,0]),t?t.map(function(o,s){var l=$n(o),u=l.value,f=l.unit,c=s?i:n,d=s?e:r;if(o==="%"||isNaN(u)){var v=c?a[s]/c:0;return d*v}else if(f!=="%")return u;return d*u/100}):a}function Kf(t){var r=[];return t[1]>=0&&(t[0]>=0&&r.push(3),t[0]<=0&&r.push(2)),t[1]<=0&&(t[0]>=0&&r.push(1),t[0]<=0&&r.push(0)),r}function zg(t,r){return Kf(r).map(function(e){return t[e]})}function Ia(t,r){var e=(r+1)/2;return[Ri(t[0][0],t[1][0],e,1-e),Ri(t[0][1],t[1][1],e,1-e)]}function Ht(t,r){var e=Ia([t[0],t[1]],r[0]),n=Ia([t[2],t[3]],r[0]);return Ia([e,n],r[1])}function Bg(t,r,e,n,i,a){var o=Pe(r,e,n,i),s=Ht(o,a),l=t[0]-s[0],u=t[1]-s[1];return[l,u]}function Jn(t,r,e,n){return Mt(t,Cn(r,n,e),n)}function Gg(t,r,e,n){var i=t.transformOrigin,a=t.offsetMatrix,o=t.is3d,s=o?4:3,l;if(sr(e)){var u=r.beforeTransform,f=r.afterTransform;n?l=Tr(Bn(e),4,s):l=Tr(Mt(Mt(u,Bn([e]),4),f,4),4,s)}else l=e;return Jn(a,l,i,s)}function Fg(t,r){var e=t.transformOrigin,n=t.offsetMatrix,i=t.is3d,a=t.targetMatrix,o=t.targetAllTransform,s=i?4:3;return Jn(n,Mt(o||a,ts(r,s),s),e,s)}function aa(t,r){var e=on(r);return{setTransform:function(n,i){i===void 0&&(i=-1),e.startTransforms=Ft(n)?n:ne(n),po(t,r,i)},setTransformIndex:function(n){po(t,r,n)}}}function oa(t,r,e){var n=on(r),i=n.startTransforms;po(t,r,Xr(i,function(a){return a.indexOf("".concat(e,"("))===0}))}function po(t,r,e){var n=on(r),i=r.datas;if(i.transformIndex=e,e!==-1){var a=n.startTransforms[e];if(a){var o=t.state,s=Ke([a],{"x%":function(l){return l/100*o.offsetWidth},"y%":function(l){return l/100*o.offsetHeight}});i.startValue=s[0].functionValue}}}function os(t,r){var e=on(t);e.nextTransforms=ne(r)}function on(t){return t.originalDatas.beforeRenderable}function Ai(t){var r=t.originalDatas.beforeRenderable;return r.nextTransforms}function ui(t){return(Ai(t)||[]).join(" ")}function fi(t){return on(t).nextStyle}function Zf(t,r,e,n,i){os(i,r);var a=tr.drag(t,Zn(i,t.state,e,n)),o=a?a.transform:r;return T(T({transform:r,drag:a},nr({transform:o},i)),{afterTransform:o})}function ss(t,r,e,n,i,a){var o=Gg(t.state,i,r,a),s=Hg(t,e,n,o);return s}function Jf(t,r,e,n,i,a,o){var s=ss(t,r,e,i,a,o),l=t.state,u=l.left,f=l.top,c=t.props.groupable,d=c?u:0,v=c?f:0,p=dt(n,s);return dt(p,[d,v])}function kg(t,r,e,n,i,a,o){var s=Jf(t,r,e,n,i,a,o);return s}function Ng(t,r,e){return[r?-1+t[0]/(r/2):0,e?-1+t[1]/(e/2):0]}function Hg(t,r,e,n){n===void 0&&(n=t.state.allMatrix);var i=t.state,a=i.width,o=i.height,s=i.is3d,l=s?4:3,u=[a/2*(1+r[0])+e[0],o/2*(1+r[1])+e[1]];return Pt(n,u,l)}function Lg(t,r,e){var n=e.fixedDirection,i=e.fixedPosition,a=e.fixedOffset;return Jf(t,"rotate(".concat(r,"deg)"),n,i,a,e)}function Wg(t,r,e,n,i,a){var o=t.props.groupable,s=t.state,l=s.transformOrigin,u=s.offsetMatrix,f=s.is3d,c=s.width,d=s.height,v=s.left,p=s.top,h=a.fixedDirection,g=a.nextTargetMatrix||s.targetMatrix,m=f?4:3,b=Ag(i,r,e,c,d,l),x=o?v:0,_=o?p:0,S=Jn(u,g,b,m),y=Bg(n,S,r,e,m,h);return dt(y,[x,_])}function $g(t,r){return Ht(xr(t.state),r)}function Vg(t,r){var e=t.targetGesto,n=t.controlGesto,i;return e!=null&&e.isFlag()&&(i=e.getEventData()[r]),!i&&(n!=null&&n.isFlag())&&(i=n.getEventData()[r]),i||{}}function Yg(t){if(t&&t.getRootNode){var r=t.getRootNode();if(r.nodeType===11)return r}}function Xg(t){var r=t("scale"),e=t("rotate"),n=t("translate"),i=[];return n&&n!=="0px"&&n!=="none"&&i.push("translate(".concat(n.split(/\s+/).join(","),")")),e&&e!=="1"&&e!=="none"&&i.push("rotate(".concat(e,")")),r&&r!=="1"&&r!=="none"&&i.push("scale(".concat(r.split(/\s+/).join(","),")")),i}function Qf(t,r,e){for(var n=t,i=[],a=qo(t)||ue(t),o=!e&&t===r||t===a,s=o,l=!1,u=3,f,c,d,v=!1,p=Fn(r,r,!0).offsetParent,h=1;n&&!s;){s=o;var g=ur(n),m=g("position"),b=Ec(n),x=m==="fixed",_=Xg(g),S=Gh($0(b)),y=void 0,C=!1,D=!1,M=0,R=0,z=0,I=0,P={hasTransform:!1,fixedContainer:null};x&&(v=!0,P=j0(n),p=P.fixedContainer);var B=S.length;!l&&(B===16||_.length)&&(l=!0,u=4,xo(i),d&&(d=Tr(d,3,4))),l&&B===9&&(S=Tr(S,3,4));var G=q0(n,t),V=G.tagName,$=G.hasOffset,N=G.isSVG,U=G.origin,Z=G.targetOrigin,H=G.offset,J=O(H,2),nt=J[0],rt=J[1];V==="svg"&&!n.ownerSVGElement&&d&&(i.push({type:"target",target:n,matrix:U0(n,u)}),i.push({type:"offset",target:n,matrix:Ot(u)}));var at=parseFloat(g("zoom"))||1;if(x)y=P.fixedContainer,C=!0;else{var tt=Fn(n,r,!1,!0,g),ot=tt.offsetZoom;if(y=tt.offsetParent,C=tt.isEnd,D=tt.isStatic,h*=ot,(tt.isCustomElement||ot!==1)&&D)nt-=y.offsetLeft,rt-=y.offsetTop;else if(Cg||Eg){var ft=tt.parentSlotElement;if(ft){for(var pt=y,_t=0,et=0;pt&&Yg(pt);)_t+=pt.offsetLeft,et+=pt.offsetTop,pt=pt.offsetParent;nt-=_t,rt-=et}}}if(Lf&&!Dg&&$&&!N&&D&&(m==="relative"||m==="static")&&(nt-=y.offsetLeft,rt-=y.offsetTop,o=o||C),x)$&&P.hasTransform&&(z=y.clientLeft,I=y.clientTop);else if($&&p!==y&&(M=y.clientLeft,R=y.clientTop),$&&y===a){var E=Cc(n,!1);nt+=E[0],rt+=E[1]}if(i.push({type:"target",target:n,matrix:Cn(S,u,U)}),_.length&&(i.push({type:"offset",target:n,matrix:Ot(u)}),i.push({type:"target",target:n,matrix:Cn(Bn(_),u,U)})),$){var w=n===t,A=w?0:n.scrollLeft,k=w?0:n.scrollTop;i.push({type:"offset",target:n,matrix:Me([nt-A+M-z,rt-k+R-I],u)})}else i.push({type:"offset",target:n,origin:U});if(at!==1&&i.push({type:"zoom",target:n,matrix:Cn(ts([at,at],u),u,[0,0])}),d||(d=S),f||(f=U),c||(c=Z),s||x)break;n=y,o=C,(!e||n===a)&&(s=o)}return d||(d=Ot(u)),f||(f=[0,0]),c||(c=[0,0]),{zoom:h,offsetContainer:p,matrixes:i,targetMatrix:d,transformOrigin:f,targetOrigin:c,is3d:l,hasFixed:v}}var ge=null,me=null,Fe=null;function Je(t){t?(window.Map&&(ge=new Map,me=new Map),Fe=[]):(ge=null,Fe=null,me=null)}function qg(t){var r=me==null?void 0:me.get(t);if(r)return r;var e=Dn(t,!0);return me&&me.set(t,e),e}function jg(t,r){if(Fe){var e=lr(Fe,function(i){return i[0][0]==t&&i[0][1]==r});if(e)return e[1]}var n=Qf(t,r,!0);return Fe&&Fe.push([[t,r],n]),n}function ur(t){var r=ge==null?void 0:ge.get(t);if(!r){var e=ee(t).getComputedStyle(t);if(!ge)return function(a){return e[a]};r={style:e,cached:{}},ge.set(t,r)}var n=r.cached,i=r.style;return function(a){return a in n||(n[a]=i[a]),n[a]}}function Mr(t,r,e){var n=e.originalDatas;n.groupable=n.groupable||{};var i=n.groupable;i.childDatas=i.childDatas||[];var a=i.childDatas;return t.moveables.map(function(o,s){return a[s]=a[s]||{},a[s][r]=a[s][r]||{},T(T({},e),{isRequestChild:!0,datas:a[s][r],originalDatas:a[s]})})}function Aa(t,r,e,n,i,a,o){var s=!!e.match(/Start$/g),l=!!e.match(/End$/g),u=i.isPinch,f=i.datas,c=Mr(t,r.name,i),d=t.moveables,v=[],p=c.map(function(h,g){var m=d[g],b=m.state,x=b.gestos,_=h;if(s)_=new Ze(o).dragStart(n,h),v.push(_);else{if(x[o]||(x[o]=f.childGestos[g]),!x[o])return;_=Zn(h,b,n,u,a,o),v.push(_)}var S=r[e](m,T(T({},_),{parentFlag:!0}));return l&&(x[o]=null),S});return s&&(f.childGestos=d.map(function(h){return h.state.gestos[o]})),{eventParams:p,childEvents:v}}function Yr(t,r,e,n,i,a){i===void 0&&(i=function(f,c){return c});var o=!!e.match(/End$/g),s=Mr(t,r.name,n),l=t.moveables,u=s.map(function(f,c){var d=l[c],v=f;v=i(d,f);var p=r[e](d,T(T({},v),{parentFlag:!0}));return o&&(d.state.gestos={}),p});return u}function zi(t,r,e,n){var i=e.fixedDirection,a=e.fixedPosition,o=n.datas.startPositions||xr(r.state),s=Ht(o,i),l=O(Kt(jn(-t.rotation/180*Math.PI,3),[s[0]-a[0],s[1]-a[1],1],3),2),u=l[0],f=l[1];return n.datas.originalX=u,n.datas.originalY=f,n}function tc(t,r,e,n){var i=t.getState(),a=i.renderPoses,o=i.rotation,s=i.direction,l=Te(t.props,r).zoom,u=En(o/Math.PI*180),f={},c=t.renderState;c.renderDirectionMap||(c.renderDirectionMap={});var d=c.renderDirectionMap;e.forEach(function(p){var h=p.dir;f[h]=!0});var v=rr(s);return e.map(function(p){var h=p.data,g=p.classNames,m=p.dir,b=as[m];if(!b||!f[m])return null;d[m]=!0;var x=(vt(u,15)+v*Yf[m]+720)%180,_={};return qr(h).forEach(function(S){_["data-".concat(S)]=h[S]}),n.createElement("div",T({className:ct.apply(void 0,K(["control","direction",m,r],O(g),!1)),"data-rotation":x,"data-direction":m},_,{key:"direction-".concat(m),style:ki.apply(void 0,K([o,l],O(b.map(function(S){return a[S]})),!1))}))})}function rc(t,r,e,n){var i=Te(t.props,e),a=i.renderDirections,o=a===void 0?r:a,s=i.displayAroundControls;if(!o)return[];var l=o===!0?ns:o;return K(K([],O(s?ac(t,n,e,l):[]),!1),O(tc(t,e,l.map(function(u){return{data:{},classNames:[],dir:u}}),n)),!1)}function Gn(t,r,e,n,i,a){for(var o=[],s=6;s<arguments.length;s++)o[s-6]=arguments[s];var l=At(e,n),u=r?vt(l/Math.PI*180,15)%180:-1;return t.createElement("div",{key:"line-".concat(a),className:ct.apply(void 0,K(["line","direction",r?"edge":"",r],O(o),!1)),"data-rotation":u,"data-line-key":a,"data-direction":r,style:pn(e,n,i,l)})}function ec(t,r,e,n,i){var a=e===!0?mg:e;return a.map(function(o,s){var l=O(as[o],2),u=l[0],f=l[1];if(f!=null)return Gn(t,o,n[u],n[f],i,"".concat(r,"Edge").concat(s),r)}).filter(Boolean)}function nc(t){return function(r,e){var n=Te(r.props,t).edge;return n&&(n===!0||n.length)?K(K([],O(ec(e,t,n,r.getState().renderPoses,r.props.zoom)),!1),O(Ug(r,t,e)),!1):ic(r,t,e)}}function ic(t,r,e){return rc(t,ns,r,e)}function Ug(t,r,e){return rc(t,["nw","ne","sw","se"],r,e)}function ac(t,r,e,n){var i=t.renderState;i.renderDirectionMap||(i.renderDirectionMap={});var a=t.getState(),o=a.renderPoses,s=a.rotation,l=a.direction,u=i.renderDirectionMap,f=t.props.zoom,c=rr(l),d=s/Math.PI*180;return(n||qr(u)).map(function(v){var p=as[v];if(!p)return null;var h=(vt(d,15)+c*Yf[v]+720)%180,g=["around-control"];return e&&g.push("direction",e),r.createElement("div",{className:ct.apply(void 0,K([],O(g),!1)),"data-rotation":h,"data-direction":v,key:"direction-around-".concat(v),style:ki.apply(void 0,K([s,f],O(p.map(function(m){return o[m]})),!1))})})}function ls(t,r,e){var n=t||{},i=n.position,a=i===void 0?"client":i,o=n.left,s=o===void 0?-1/0:o,l=n.top,u=l===void 0?-1/0:l,f=n.right,c=f===void 0?1/0:f,d=n.bottom,v=d===void 0?1/0:d,p={position:a,left:s,top:u,right:c,bottom:v};return{vertical:_l(p,r,!0),horizontal:_l(p,e,!1)}}function sa(t,r){var e=t.state,n=e.containerClientRect,i=n.clientHeight,a=n.clientWidth,o=n.clientLeft,s=n.clientTop,l=e.snapOffset,u=l.left,f=l.top,c=l.right,d=l.bottom,v=r||t.props.bounds||{},p=v.position||"client",h=p==="css",g=v.left,m=g===void 0?-1/0:g,b=v.top,x=b===void 0?-1/0:b,_=v.right,S=_===void 0?h?-1/0:1/0:_,y=v.bottom,C=y===void 0?h?-1/0:1/0:y;return h&&(S=a+c-u-S,C=i+d-f-C),{left:m+u-o,right:S+u-o,top:x+f-s,bottom:C+f-s}}function Kg(t,r,e){var n=sa(t),i=n.left,a=n.top,o=n.right,s=n.bottom,l=O(e,2),u=l[0],f=l[1],c=O(dt(e,r),2),d=c[0],v=c[1];q(d)<ir&&(d=0),q(v)<ir&&(v=0);var p=v>0,h=d>0,g={isBound:!1,offset:0,pos:0},m={isBound:!1,offset:0,pos:0};if(d===0&&v===0)return{vertical:g,horizontal:m};if(d===0)p?s<f&&(m.pos=s,m.offset=f-s):a>f&&(m.pos=a,m.offset=f-a);else if(v===0)h?o<u&&(g.pos=o,g.offset=u-o):i>u&&(g.pos=i,g.offset=u-i);else{var b=v/d,x=e[1]-b*u,_=0,S=0,y=!1;h&&o<=u?(_=b*o+x,S=o,y=!0):!h&&u<=i&&(_=b*i+x,S=i,y=!0),y&&(_<a||_>s)&&(y=!1),y||(p&&s<=f?(_=s,S=(_-x)/b,y=!0):!p&&f<=a&&(_=a,S=(_-x)/b,y=!0)),y&&(g.isBound=!0,g.pos=S,g.offset=u-S,m.isBound=!0,m.pos=_,m.offset=f-_)}return{vertical:g,horizontal:m}}function _l(t,r,e){var n=t[e?"left":"top"],i=t[e?"right":"bottom"],a=Math.min.apply(Math,K([],O(r),!1)),o=Math.max.apply(Math,K([],O(r),!1)),s=[];return n+1>a&&s.push({direction:"start",isBound:!0,offset:a-n,pos:n}),i-1<o&&s.push({direction:"end",isBound:!0,offset:o-i,pos:i}),s.length||s.push({isBound:!1,offset:0,pos:0}),s.sort(function(l,u){return q(u.offset)-q(l.offset)})}function xl(t,r,e){var n=e?t.map(function(i){return qn(i,e)}):t;return n.some(function(i){return i[0]<r.left&&q(i[0]-r.left)>.1||i[0]>r.right&&q(i[0]-r.right)>.1||i[1]<r.top&&q(i[1]-r.top)>.1||i[1]>r.bottom&&q(i[1]-r.bottom)>.1})}function Zg(t,r,e){var n=_r(t),i=Math.sqrt(n*n-r*r)||0;return[i,-i].sort(function(a,o){return q(a-t[e?0:1])-q(o-t[e?0:1])}).map(function(a){return At([0,0],e?[a,r]:[r,a])})}function Jg(t,r,e,n,i){if(!t.props.bounds)return[];var a=i*Math.PI/180,o=sa(t),s=o.left,l=o.top,u=o.right,f=o.bottom,c=s-n[0],d=u-n[0],v=l-n[1],p=f-n[1],h={left:c,top:v,right:d,bottom:p};if(!xl(e,h,0))return[];var g=[];return[[c,0],[d,0],[v,1],[p,1]].forEach(function(m){var b=O(m,2),x=b[0],_=b[1];e.forEach(function(S){var y=At([0,0],S);g.push.apply(g,K([],O(Zg(S,x,_).map(function(C){return a+C-y}).filter(function(C){return!xl(r,h,C)}).map(function(C){return vt(C*180/Math.PI,ir)})),!1))})}),g}var Qg=["left","right","center"],t0=["top","bottom","middle"],yl={left:"start",right:"end",center:"center",top:"start",bottom:"end",middle:"center"},ie={start:"left",end:"right",center:"center"},ae={start:"top",end:"bottom",center:"middle"};function ke(){return{left:!1,top:!1,right:!1,bottom:!1}}function sn(t,r){var e=t.props,n=e.snappable,i=e.bounds,a=e.innerBounds,o=e.verticalGuidelines,s=e.horizontalGuidelines,l=e.snapGridWidth,u=e.snapGridHeight,f=t.state,c=f.guidelines,d=f.enableSnap;return!n||!d||r&&n!==!0&&n.indexOf(r)<0?!1:!!(l||u||i||a||c&&c.length||o&&o.length||s&&s.length)}function us(t){return t===!1?{}:t===!0||!t?{left:!0,right:!0,top:!0,bottom:!0}:t}function r0(t,r){var e=us(t),n={};for(var i in e)i in r&&e[i]&&(n[i]=r[i]);return n}function fs(t,r){var e=r0(t,r),n=t0.filter(function(a){return a in e}),i=Qg.filter(function(a){return a in e});return{horizontalNames:n,verticalNames:i,horizontal:n.map(function(a){return e[a]}),vertical:i.map(function(a){return e[a]})}}function e0(t,r,e){var n=Pt(t,[r.clientLeft,r.clientTop],e);return[r.left+n[0],r.top+n[1]]}function n0(t){var r=O(t,2),e=r[0],n=r[1],i=n[0]-e[0],a=n[1]-e[1];Math.abs(i)<Bt&&(i=0),Math.abs(a)<Bt&&(a=0);var o=0,s=0,l=0;return i?a?(o=-a/i,s=1,l=o*e[0]-e[1]):(s=1,l=-e[1]):(o=-1,l=e[0]),[o,s,l].map(function(u){return vt(u,Bt)})}var oc="snapRotationThreshold",sc="snapRotationDegrees",lc="snapHorizontalThreshold",uc="snapVerticalThreshold";function la(t,r,e,n,i,a,o){var s;n===void 0&&(n=[]),i===void 0&&(i=[]);var l=t.props,u=((s=t.state.snapThresholdInfo)===null||s===void 0?void 0:s.multiples)||[1,1],f=Gl(o,l[lc],5),c=Gl(a,l[uc],5);return fc(t.state.guidelines,r,e,n,i,f,c,u)}function fc(t,r,e,n,i,a,o,s){return{vertical:El(t,"vertical",r,o*s[0],n),horizontal:El(t,"horizontal",e,a*s[1],i)}}function i0(t,r,e){var n=O(e,2),i=n[0],a=n[1],o=O(r,2),s=o[0],l=o[1],u=O(dt(e,r),2),f=u[0],c=u[1],d=c>0,v=f>0;f=Ni(f),c=Ni(c);var p={isSnap:!1,offset:0,pos:0},h={isSnap:!1,offset:0,pos:0};if(f===0&&c===0)return{vertical:p,horizontal:h};var g=la(t,f?[i]:[],c?[a]:[],[],[],void 0,void 0),m=g.vertical,b=g.horizontal;m.posInfos.filter(function(V){var $=V.pos;return v?$>=s:$<=s}),b.posInfos.filter(function(V){var $=V.pos;return d?$>=l:$<=l}),m.isSnap=m.posInfos.length>0,b.isSnap=b.posInfos.length>0;var x=ho(m),_=x.isSnap,S=x.guideline,y=ho(b),C=y.isSnap,D=y.guideline,M=C?D.pos[1]:0,R=_?S.pos[0]:0;if(f===0)C&&(h.isSnap=!0,h.pos=D.pos[1],h.offset=a-h.pos);else if(c===0)_&&(p.isSnap=!0,p.pos=R,p.offset=i-R);else{var z=c/f,I=e[1]-z*i,P=0,B=0,G=!1;_?(B=R,P=z*B+I,G=!0):C&&(P=M,B=(P-I)/z,G=!0),G&&(p.isSnap=!0,p.pos=B,p.offset=i-B,h.isSnap=!0,h.pos=P,h.offset=a-P)}return{vertical:p,horizontal:h}}function Qr(t){var r="";return t===-1||t==="top"||t==="left"?r="start":t===0||t==="center"||t==="middle"?r="center":(t===1||t==="right"||t==="bottom")&&(r="end"),r}function Sl(t,r,e,n){var i=fs(t.props.snapDirections,r),a=la(t,i.vertical,i.horizontal,i.verticalNames.map(function(l){return Qr(l)}),i.horizontalNames.map(function(l){return Qr(l)}),e,n),o=Qr(i.horizontalNames[a.horizontal.index]),s=Qr(i.verticalNames[a.vertical.index]);return{vertical:T(T({},a.vertical),{direction:s}),horizontal:T(T({},a.horizontal),{direction:o})}}function ho(t){var r=t.isSnap;if(!r)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var e=t.posInfos[0],n=e.guidelineInfos[0],i=n.offset,a=n.dist,o=n.guideline;return{isSnap:r,offset:i,dist:a,pos:e.pos,guideline:o}}function El(t,r,e,n,i){var a,o;if(i===void 0&&(i=[]),!t||!t.length)return{isSnap:!1,index:-1,direction:"",posInfos:[]};var s=r==="vertical",l=s?0:1,u=e.map(function(c,d){var v=i[d]||"",p=t.map(function(h){var g=h.pos,m=c-g[l];return{offset:m,dist:q(m),guideline:h,direction:v}}).filter(function(h){var g=h.guideline,m=h.dist,b=g.type;return!(b!==r||m>n)}).sort(function(h,g){return h.dist-g.dist});return{pos:c,index:d,guidelineInfos:p,direction:v}}).filter(function(c){return c.guidelineInfos.length>0}).sort(function(c,d){return c.guidelineInfos[0].dist-d.guidelineInfos[0].dist}),f=u.length>0;return{isSnap:f,index:f?u[0].index:-1,direction:(o=(a=u[0])===null||a===void 0?void 0:a.direction)!==null&&o!==void 0?o:"",posInfos:u}}function a0(t,r,e,n,i){var a=[];e[0]&&e[1]?a=[e,[-e[0],e[1]],[e[0],-e[1]]]:!e[0]&&!e[1]?[[-1,-1],[1,-1],[1,1],[-1,1]].forEach(function(d,v,p){var h=p[v+1]||p[0];a.push(d),a.push([(d[0]+h[0])/2,(d[1]+h[1])/2])}):t.props.keepRatio?a.push([-1,-1],[-1,1],[1,-1],[1,1],e):(a.push.apply(a,K([],O(zg([[-1,-1],[1,-1],[-1,-1],[1,1]],e)),!1)),a.length>1&&a.push([(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]));var o=a.map(function(d){return Ht(r,d)}),s=o.map(function(d){return d[0]}),l=o.map(function(d){return d[1]}),u=la(t,s,l,a.map(function(d){return Qr(d[0])}),a.map(function(d){return Qr(d[1])}),n,i),f=Qr(a.map(function(d){return d[0]})[u.vertical.index]),c=Qr(a.map(function(d){return d[1]})[u.horizontal.index]);return{vertical:T(T({},u.vertical),{direction:f}),horizontal:T(T({},u.horizontal),{direction:c})}}function cc(t,r){var e=q(t.offset),n=q(r.offset);return t.isBound&&r.isBound?n-e:t.isBound?-1:r.isBound?1:t.isSnap&&r.isSnap?n-e:t.isSnap?-1:r.isSnap||e<ir?1:n<ir?-1:e-n}function Bi(t,r){return t.slice().sort(function(e,n){var i=e.sign[r],a=n.sign[r],o=e.offset[r],s=n.offset[r];if(i){if(!a)return-1}else return 1;return cc({isBound:e.isBound,isSnap:e.isSnap,offset:o},{isBound:n.isBound,isSnap:n.isSnap,offset:s})})[0]}function o0(t,r,e){var n=[];if(e)q(r[0])!==1||q(r[1])!==1?n.push([r,[-1,-1]],[r,[-1,1]],[r,[1,-1]],[r,[1,1]]):n.push([r,[t[0],-t[1]]],[r,[-t[0],t[1]]]),n.push([r,t]);else if(t[0]&&t[1]||!t[0]&&!t[1]){var i=t[0]?t:[1,1];[1,-1].forEach(function(o){[1,-1].forEach(function(s){var l=[o*i[0],s*i[1]];r[0]===l[0]&&r[1]===l[1]||n.push([r,l])})})}else if(t[0]){var a=q(r[0])===1?[1]:[1,-1];a.forEach(function(o){n.push([[r[0],-1],[o*t[0],-1]],[[r[0],0],[o*t[0],0]],[[r[0],1],[o*t[0],1]])})}else if(t[1]){var a=q(r[1])===1?[1]:[1,-1];a.forEach(function(s){n.push([[-1,r[1]],[-1,s*t[1]]],[[0,r[1]],[0,s*t[1]]],[[1,r[1]],[1,s*t[1]]])})}return n}function dc(t,r){var e=Qa([r[0][0],r[1][0]]),n=Qa([r[0][1],r[1][1]]);return{vertical:e<=t[0],horizontal:n<=t[1]}}function cs(t,r){var e=O(r,2),n=e[0],i=e[1],a=i[0]-n[0],o=i[1]-n[1];q(a)<ir&&(a=0),q(o)<ir&&(o=0);var s,l;if(!a)s=n[0],l=t[0];else if(!o)s=n[1],l=t[1];else{var u=o/a;s=u*(t[0]-n[0])+n[1],l=t[1]}return s-l}function vc(t,r,e,n){return n===void 0&&(n=ir),t.every(function(i){var a=cs(i,r),o=a<=0;return o===e||q(a)<=n})}function Cl(t,r,e,n,i){return i===void 0&&(i=0),n&&r-i<=t||!n&&t<=e+i?{isBound:!0,offset:n?r-t:e-t}:{isBound:!1,offset:0}}function s0(t,r){var e=r.line,n=r.centerSign,i=r.verticalSign,a=r.horizontalSign,o=r.lineConstants,s=t.props.innerBounds;if(!s)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var l=s.left,u=s.top,f=s.width,c=s.height,d=[[l,u],[l,u+c]],v=[[l,u],[l+f,u]],p=[[l+f,u],[l+f,u+c]],h=[[l,u+c],[l+f,u+c]];if(vc([[l,u],[l+f,u],[l,u+c],[l+f,u+c]],e,n))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var g=te(e,o,v,i),m=te(e,o,h,i),b=te(e,o,d,a),x=te(e,o,p,a),_=g.isBound&&m.isBound,S=g.isBound||m.isBound,y=b.isBound&&x.isBound,C=b.isBound||x.isBound,D=Qe(g.offset,m.offset),M=Qe(b.offset,x.offset),R=[0,0],z=!1,I=!1;return q(M)<q(D)?(R=[D,0],z=S,I=_):(R=[0,M],z=C,I=y),{isAllBound:I,isVerticalBound:S,isHorizontalBound:C,isBound:z,offset:R}}function te(t,r,e,n,i,a){var o=O(r,2),s=o[0],l=o[1],u=t[0],f=e[0],c=e[1],d=Ni(c[1]-f[1]),v=Ni(c[0]-f[0]),p=l,h=s,g=-s/l;if(v){if(!d){if(a&&!p)return{isBound:!1,offset:0};if(h){var _=(f[1]-u[1])/g+u[0];return Cl(_,f[0],c[0],n,i)}else{var b=f[1]-u[1],x=q(b)<=(i||0);return{isBound:x,offset:x?b:0}}}}else{if(a&&!h)return{isBound:!1,offset:0};if(p){var m=g*(f[0]-u[0])+u[1];return Cl(m,f[1],c[1],n,i)}else{var b=f[0]-u[0],x=q(b)<=(i||0);return{isBound:x,offset:x?b:0}}}return{isBound:!1,offset:0}}function pc(t,r,e){return r.map(function(n){var i=s0(t,n),a=i.isBound,o=i.offset,s=i.isVerticalBound,l=i.isHorizontalBound,u=n.multiple,f=kr({datas:e,distX:o[0],distY:o[1]}).map(function(c,d){return c*(u[d]?2/u[d]:0)});return{sign:u,isBound:a,isVerticalBound:s,isHorizontalBound:l,isSnap:!1,offset:f}})}function l0(t,r,e){var n,i=ds(t,r,[0,0],!1).map(function(d){return T(T({},d),{multiple:d.multiple.map(function(v){return q(v)*2})})}),a=pc(t,i,e),o=Bi(a,0),s=Bi(a,1),l=0,u=0,f=o.isVerticalBound||s.isVerticalBound,c=o.isHorizontalBound||s.isHorizontalBound;return(f||c)&&(n=O(Ig({datas:e,distX:-o.offset[0],distY:-s.offset[1]}),2),l=n[0],u=n[1]),{vertical:{isBound:f,offset:l},horizontal:{isBound:c,offset:u}}}function u0(t,r){var e=[],n=t[0],i=t[1];return n&&i?e.push([[0,i*2],t,[-n,i]],[[n*2,0],t,[n,-i]]):n?(e.push([[n*2,0],[n,1],[n,-1]]),r&&e.push([[0,-1],[n,-1],[-n,-1]],[[0,1],[n,1],[-n,1]])):i?(e.push([[0,i*2],[1,i],[-1,i]]),r&&e.push([[-1,0],[-1,i],[-1,-i]],[[1,0],[1,i],[1,-i]])):e.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),e}function ds(t,r,e,n){var i=t.state,a=i.allMatrix,o=i.is3d,s=Pe(a,100,100,o?4:3),l=Ht(s,[0,0]);return u0(e,n).map(function(u){var f=O(u,3),c=f[0],d=f[1],v=f[2],p=[Ht(s,d),Ht(s,v)],h=n0(p),g=dc(l,p),m=g.vertical,b=g.horizontal,x=cs(l,p)<=0;return{multiple:c,centerSign:x,verticalSign:m,horizontalSign:b,lineConstants:h,line:[Ht(r,d),Ht(r,v)]}})}function Dl(t,r,e,n){var i=n?t.map(function(a){return qn(a,n)}):t;return[[i[0],i[1]],[i[1],i[3]],[i[3],i[2]],[i[2],i[0]]].some(function(a){var o=cs(e,a)<=0;return!vc(r,a,o)})}function f0(t){var r=O(t,2),e=r[0],n=r[1],i=n[0]-e[0],a=n[1]-e[1];if(!i)return q(e[0]);if(!a)return q(e[1]);var o=a/i;return q((-o*e[0]+e[1])/Math.sqrt(Math.pow(o,2)+1))}function c0(t){var r=O(t,2),e=r[0],n=r[1],i=n[0]-e[0],a=n[1]-e[1];if(!i)return[e[0],0];if(!a)return[0,e[1]];var o=a/i,s=-o*e[0]+e[1];return[-s/(o+1/o),s/(o*o+1)]}function d0(t,r,e,n,i){var a=t.props.innerBounds,o=i*Math.PI/180;if(!a)return[];var s=a.left,l=a.top,u=a.width,f=a.height,c=s-n[0],d=s+u-n[0],v=l-n[1],p=l+f-n[1],h=[[c,v],[d,v],[c,p],[d,p]],g=Ht(e,[0,0]);if(!Dl(e,h,g,0))return[];var m=[],b=h.map(function(x){return[_r(x),At([0,0],x)]});return[[e[0],e[1]],[e[1],e[3]],[e[3],e[2]],[e[2],e[0]]].forEach(function(x){var _=At([0,0],c0(x)),S=f0(x);m.push.apply(m,K([],O(b.filter(function(y){var C=O(y,1),D=C[0];return D&&S<=D}).map(function(y){var C=O(y,2),D=C[0],M=C[1],R=Math.acos(D?S/D:0),z=M+R,I=M-R;return[o+z-_,o+I-_]}).reduce(function(y,C){return y.push.apply(y,K([],O(C),!1)),y},[]).filter(function(y){return!Dl(r,h,g,y)}).map(function(y){return vt(y*180/Math.PI,ir)})),!1))}),m}function v0(t){var r=t.props.innerBounds,e=ke();if(!r)return{boundMap:e,vertical:[],horizontal:[]};var n=t.getRect(),i=n.pos1,a=n.pos2,o=n.pos3,s=n.pos4,l=[i,a,o,s],u=Ht(l,[0,0]),f=r.left,c=r.top,d=r.width,v=r.height,p=[[f,c],[f,c+v]],h=[[f,c],[f+d,c]],g=[[f+d,c],[f+d,c+v]],m=[[f,c+v],[f+d,c+v]],b=ds(t,l,[0,0],!1),x=[],_=[];return b.forEach(function(S){var y=S.line,C=S.lineConstants,D=dc(u,y),M=D.horizontal,R=D.vertical,z=te(y,C,h,R,1,!0),I=te(y,C,m,R,1,!0),P=te(y,C,p,M,1,!0),B=te(y,C,g,M,1,!0);z.isBound&&!e.top&&(x.push(c),e.top=!0),I.isBound&&!e.bottom&&(x.push(c+v),e.bottom=!0),P.isBound&&!e.left&&(_.push(f),e.left=!0),B.isBound&&!e.right&&(_.push(f+d),e.right=!0)}),{boundMap:e,horizontal:x,vertical:_}}function p0(t,r,e,n){var i=r[0]-t[0],a=r[1]-t[1];if(q(i)<Bt&&(i=0),q(a)<Bt&&(a=0),!i)return n?[0,0]:[0,e];if(!a)return n?[e,0]:[0,0];var o=a/i,s=t[1]-o*t[0];if(n){var l=o*(r[0]+e)+s;return[e,l-r[1]]}else{var u=(r[1]+e-s)/o;return[u-r[0],e]}}function go(t,r,e,n,i){var a=p0(t,r,e,n);if(!a)return{isOutside:!1,offset:[0,0]};var o=Vr(t,r),s=Vr(a,t),l=Vr(a,r),u=s>o||l>o,f=O(kr({datas:i,distX:a[0],distY:a[1]}),2),c=f[0],d=f[1];return{offset:[c,d],isOutside:u}}function Gi(t,r){return t.isBound?t.offset:r.isSnap?ho(r).offset:0}function h0(t,r,e,n,i){var a=O(r,2),o=a[0],s=a[1],l=O(e,2),u=l[0],f=l[1],c=O(n,2),d=c[0],v=c[1],p=O(i,2),h=p[0],g=p[1],m=-h,b=-g;if(t&&o&&s){m=0,b=0;var x=[];if(u&&f?x.push([0,g],[h,0]):u?x.push([h,0]):f?x.push([0,g]):d&&v?x.push([0,g],[h,0]):d?x.push([h,0]):v&&x.push([0,g]),x.length){x.sort(function(C,D){return _r(dt([o,s],C))-_r(dt([o,s],D))});var _=x[0];if(_[0]&&q(o)>Bt)m=-_[0],b=s*q(o+m)/q(o)-s;else if(_[1]&&q(s)>Bt){var S=s;b=-_[1],m=o*q(s+b)/q(S)-o}if(t&&f&&u)if(q(m)>Bt&&q(m)<q(h)){var y=q(h)/q(m);m*=y,b*=y}else if(q(b)>Bt&&q(b)<q(g)){var y=q(g)/q(b);m*=y,b*=y}else m=Qe(-h,m),b=Qe(-g,b)}}else m=o||u?-h:0,b=s||f?-g:0;return[m,b]}function g0(t,r,e,n,i,a){if(!sn(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var o=hs(a.absolutePoses,[r,e]),s=mr(o),l=s.left,u=s.right,f=s.top,c=s.bottom,d={horizontal:o.map(function(B){return B[1]}),vertical:o.map(function(B){return B[0]})},v=us(t.props.snapDirections),p=fs(v,{left:l,right:u,top:f,bottom:c,center:(l+u)/2,middle:(f+c)/2}),h=ua(t,i,p,d),g=h.vertical,m=h.horizontal,b=l0(t,o,a),x=b.vertical,_=b.horizontal,S=g.isSnap,y=m.isSnap,C=g.isBound||x.isBound,D=m.isBound||_.isBound,M=Qe(g.offset,x.offset),R=Qe(m.offset,_.offset),z=O(h0(n,[r,e],[C,D],[S,y],[M,R]),2),I=z[0],P=z[1];return[{isBound:C,isSnap:S,offset:I},{isBound:D,isSnap:y,offset:P}]}function ua(t,r,e,n){n===void 0&&(n=e);var i=ls(sa(t),n.vertical,n.horizontal),a=i.horizontal,o=i.vertical,s=r?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:la(t,e.vertical,e.horizontal,void 0,void 0,void 0,void 0),l=s.horizontal,u=s.vertical,f=Gi(a[0],l),c=Gi(o[0],u),d=q(f),v=q(c);return{horizontal:{isBound:a[0].isBound,isSnap:l.isSnap,snapIndex:l.index,offset:f,dist:d,bounds:a,snap:l},vertical:{isBound:o[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:c,dist:v,bounds:o,snap:u}}}function Ml(t,r,e,n,i,a,o){o===void 0&&(o=[1,1]);var s=ls(r,e,n),l=s.horizontal,u=s.vertical,f=fc(t,e,n,[],[],i,a,o),c=f.horizontal,d=f.vertical,v=Gi(l[0],c),p=Gi(u[0],d),h=q(v),g=q(p);return{horizontal:{isBound:l[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:v,dist:h,bounds:l,snap:c},vertical:{isBound:u[0].isBound,isSnap:d.isSnap,snapIndex:d.index,offset:p,dist:g,bounds:u,snap:d}}}function m0(t,r,e,n){var i=At(t,r)/Math.PI*180,a=e.vertical,o=a.isBound,s=a.isSnap,l=a.dist,u=e.horizontal,f=u.isBound,c=u.isSnap,d=u.dist,v=i%180,p=v<3||v>177,h=v>87&&v<93;return d<l&&(o||s&&!h&&(!n||!p))?"vertical":f||c&&!p&&(!n||!h)?"horizontal":""}function b0(t,r,e,n,i,a){return e.map(function(o){var s=O(o,2),l=s[0],u=s[1],f=Ht(r,l),c=Ht(r,u),d=n?_0(t,f,c,i):ua(t,i,{vertical:[c[0]],horizontal:[c[1]]}),v=d.horizontal,p=v.offset,h=v.isBound,g=v.isSnap,m=d.vertical,b=m.offset,x=m.isBound,_=m.isSnap,S=dt(u,l);if(!b&&!p)return{isBound:x||h,isSnap:_||g,sign:S,offset:[0,0]};var y=m0(f,c,d,n);if(!y)return{sign:S,isBound:!1,isSnap:!1,offset:[0,0]};var C=y==="vertical",D=[0,0];return!n&&q(u[0])===1&&q(u[1])===1&&l[0]!==u[0]&&l[1]!==u[1]?D=kr({datas:a,distX:-b,distY:-p}):D=go(f,c,-(C?b:p),C,a).offset,D=D.map(function(M,R){return M*(S[R]?2/S[R]:0)}),{sign:S,isBound:C?x:h,isSnap:C?_:g,offset:D}})}function wl(t,r){return t.isBound?t.offset:r.isSnap?r.offset:0}function _0(t,r,e,n){var i=Kg(t,r,e),a=i.horizontal,o=i.vertical,s=n?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:i0(t,r,e),l=s.horizontal,u=s.vertical,f=wl(a,l),c=wl(o,u),d=q(f),v=q(c);return{horizontal:{isBound:a.isBound,isSnap:l.isSnap,offset:f,dist:d},vertical:{isBound:o.isBound,isSnap:u.isSnap,offset:c,dist:v}}}function x0(t,r,e,n,i){var a=[-e[0],-e[1]],o=t.state,s=o.width,l=o.height,u=t.props.bounds,f=1/0,c=1/0;if(u){var d=[[e[0],-e[1]],[-e[0],e[1]]],v=u.left,p=v===void 0?-1/0:v,h=u.top,g=h===void 0?-1/0:h,m=u.right,b=m===void 0?1/0:m,x=u.bottom,_=x===void 0?1/0:x;d.forEach(function(S){var y=S[0]!==a[0],C=S[1]!==a[1],D=Ht(r,S),M=At(n,D)*360/Math.PI;if(C){var R=D.slice();(q(M-360)<2||q(M-180)<2)&&(R[1]=n[1]);var z=go(n,R,(n[1]<D[1]?_:g)-D[1],!1,i),I=O(z.offset,2),P=I[1],B=z.isOutside;isNaN(P)||(c=l+(B?1:-1)*q(P))}if(y){var R=D.slice();(q(M-90)<2||q(M-270)<2)&&(R[0]=n[0]);var G=go(n,R,(n[0]<D[0]?b:p)-D[0],!0,i),V=O(G.offset,1),$=V[0],N=G.isOutside;isNaN($)||(f=s+(N?1:-1)*q($))}})}return{maxWidth:f,maxHeight:c}}var tr={name:"draggable",props:["draggable","throttleDrag","throttleDragRotate","hideThrottleDragRotateLine","startDragRotate","edgeDraggable"],events:["dragStart","drag","dragEnd","dragGroupStart","dragGroup","dragGroupEnd"],requestStyle:function(){return["left","top","right","bottom"]},requestChildStyle:function(){return["left","top","right","bottom"]},render:function(t,r){var e=t.props,n=e.hideThrottleDragRotateLine,i=e.throttleDragRotate,a=e.zoom,o=t.getState(),s=o.dragInfo,l=o.beforeOrigin;if(n||!i||!s)return[];var u=s.dist;if(!u[0]&&!u[1])return[];var f=_r(u),c=At(u,[0,0]);return[r.createElement("div",{className:ct("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(f,"px"),transform:"translate(".concat(l[0],"px, ").concat(l[1],"px) rotate(").concat(c,"rad) scaleY(").concat(a,")")}})]},dragStart:function(t,r){var e=r.datas,n=r.parentEvent,i=r.parentGesto,a=t.state,o=a.gestos,s=a.style;if(o.draggable)return!1;o.draggable=i||t.targetGesto,e.datas={},e.left=parseFloat(s.left||"")||0,e.top=parseFloat(s.top||"")||0,e.bottom=parseFloat(s.bottom||"")||0,e.right=parseFloat(s.right||"")||0,e.startValue=[0,0],Oe(t,r),oa(t,r,"translate"),N0(t,e),e.prevDist=[0,0],e.prevBeforeDist=[0,0],e.isDrag=!1,e.deltaOffset=[0,0];var l=mt(t,r,T({set:function(f){e.startValue=f}},aa(t,r))),u=n||st(t,"onDragStart",l);return u!==!1?(e.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(o.draggable=null,e.isPinch=!1),e.isDrag?l:!1},drag:function(t,r){if(r){na(t,r,"translate");var e=r.datas,n=r.parentEvent,i=r.parentFlag,a=r.isPinch,o=r.deltaOffset,s=r.useSnap,l=r.isRequest,u=r.isGroup,f=r.parentThrottleDrag,c=r.distX,d=r.distY,v=e.isDrag,p=e.prevDist,h=e.prevBeforeDist,g=e.startValue;if(v){o&&(c+=o[0],d+=o[1]);var m=t.props,b=m.parentMoveable,x=u?0:m.throttleDrag||f||0,_=n?0:m.throttleDragRotate||0,S=0,y=!1,C=!1,D=!1,M=!1;if(!n&&_>0&&(c||d)){var R=m.startDragRotate||0,z=vt(R+At([0,0],[c,d])*180/Math.PI,_)-R,I=d*Math.abs(Math.cos((z-90)/180*Math.PI)),P=c*Math.abs(Math.cos(z/180*Math.PI)),B=_r([P,I]);S=z*Math.PI/180,c=B*Math.cos(S),d=B*Math.sin(S)}if(!a&&!n&&!i){var G=O(g0(t,c,d,_,!s&&l||o,e),2),V=G[0],$=G[1];y=V.isSnap,C=V.isBound,D=$.isSnap,M=$.isBound;var N=V.offset,U=$.offset;c+=N,d+=U}var Z=yt(Uf({datas:e,distX:c,distY:d}),g),H=yt(Pg({datas:e,distX:c,distY:d}),g);ol(H,ir),ol(Z,ir),_||(!y&&!C&&(H[0]=vt(H[0],x),Z[0]=vt(Z[0],x)),!D&&!M&&(H[1]=vt(H[1],x),Z[1]=vt(Z[1],x)));var J=dt(Z,g),nt=dt(H,g),rt=dt(nt,p),at=dt(J,h);e.prevDist=nt,e.prevBeforeDist=J,e.passDelta=rt,e.passDist=nt;var tt=e.left+J[0],ot=e.top+J[1],ft=e.right-J[0],pt=e.bottom-J[1],_t=ia(e,"translate(".concat(H[0],"px, ").concat(H[1],"px)"),"translate(".concat(nt[0],"px, ").concat(nt[1],"px)"));if(os(r,_t),t.state.dragInfo.dist=n?[0,0]:nt,!(!n&&!b&&rt.every(function(k){return!k})&&at.some(function(k){return!k}))){var et=t.state,E=et.width,w=et.height,A=mt(t,r,T({transform:_t,dist:nt,delta:rt,translate:H,beforeDist:J,beforeDelta:at,beforeTranslate:Z,left:tt,top:ot,right:ft,bottom:pt,width:E,height:w,isPinch:a},nr({transform:_t},r)));return!n&&st(t,"onDrag",A),A}}}},dragAfter:function(t,r){var e=r.datas,n=e.deltaOffset;return n[0]||n[1]?(e.deltaOffset=[0,0],this.drag(t,T(T({},r),{deltaOffset:n}))):!1},dragEnd:function(t,r){var e=r.parentEvent,n=r.datas;if(t.state.dragInfo=null,!!n.isDrag){n.isDrag=!1;var i=vr(t,r,{});return!e&&st(t,"onDragEnd",i),i}},dragGroupStart:function(t,r){var e,n,i=r.datas,a=r.clientX,o=r.clientY,s=this.dragStart(t,r);if(!s)return!1;var l=Aa(t,this,"dragStart",[a||0,o||0],r,!1,"draggable"),u=l.childEvents,f=l.eventParams,c=T(T({},s),{targets:t.props.targets,events:f}),d=st(t,"onDragGroupStart",c);i.isDrag=d!==!1;var v=(n=(e=u[0])===null||e===void 0?void 0:e.datas.startValue)!==null&&n!==void 0?n:[0,0];return i.throttleOffset=[v[0]%1,v[1]%1],i.isDrag?s:!1},dragGroup:function(t,r){var e=r.datas;if(e.isDrag){var n=this.drag(t,T(T({},r),{parentThrottleDrag:t.props.throttleDrag})),i=r.datas.passDelta,a=Aa(t,this,"drag",i,r,!1,"draggable").eventParams;if(n){var o=T({targets:t.props.targets,events:a},n);return st(t,"onDragGroup",o),o}}},dragGroupEnd:function(t,r){var e=r.isDrag,n=r.datas;if(n.isDrag){this.dragEnd(t,r);var i=Aa(t,this,"dragEnd",[0,0],r,!1,"draggable").eventParams;return st(t,"onDragGroupEnd",vr(t,r,{targets:t.props.targets,events:i})),e}},request:function(t){var r={},e=t.getRect(),n=0,i=0,a=!1;return{isControl:!1,requestStart:function(o){return a=o.useSnap,{datas:r,useSnap:a}},request:function(o){return"x"in o?n=o.x-e.left:"deltaX"in o&&(n+=o.deltaX),"y"in o?i=o.y-e.top:"deltaY"in o&&(i+=o.deltaY),{datas:r,distX:n,distY:i,useSnap:a}},requestEnd:function(){return{datas:r,isDrag:!0,useSnap:a}}}},unset:function(t){t.state.gestos.draggable=null,t.state.dragInfo=null}};function hc(t,r){var e=Ht(t,r),n=[0,0];return{fixedPosition:e,fixedDirection:r,fixedOffset:n}}function y0(t,r){var e=t.allMatrix,n=t.is3d,i=t.width,a=t.height,o=n?4:3,s=[i/2*(1+r[0]),a/2*(1+r[1])],l=Pt(e,s,o),u=[0,0];return{fixedPosition:l,fixedDirection:r,fixedOffset:u}}function gc(t,r){var e=t.allMatrix,n=t.is3d,i=t.width,a=t.height,o=n?4:3,s=Ng(r,i,a),l=Pt(e,r,o),u=[i?0:r[0],a?0:r[1]];return{fixedPosition:l,fixedDirection:s,fixedOffset:u}}var Tl=bs("resizable"),mo={name:"resizable",ableGroup:"size",canPinch:!0,props:["resizable","throttleResize","renderDirections","displayAroundControls","keepRatio","resizeFormat","keepRatioFinally","edge","checkResizableError"],events:["resizeStart","beforeResize","resize","resizeEnd","resizeGroupStart","beforeResizeGroup","resizeGroup","resizeGroupEnd"],render:nc("resizable"),dragControlCondition:Tl,viewClassName:ms("resizable"),dragControlStart:function(t,r){var e,n=r.inputEvent,i=r.isPinch,a=r.isGroup,o=r.parentDirection,s=r.parentGesto,l=r.datas,u=r.parentFixedDirection,f=r.parentEvent,c=Rc(o,i,n,l),d=t.state,v=d.target,p=d.width,h=d.height,g=d.gestos;if(!c||!v||g.resizable)return!1;g.resizable=s||t.controlGesto,!i&&Oe(t,r),l.datas={},l.direction=c,l.startOffsetWidth=p,l.startOffsetHeight=h,l.prevWidth=0,l.prevHeight=0,l.minSize=[0,0],l.startWidth=d.inlineCSSWidth||d.cssWidth,l.startHeight=d.inlineCSSHeight||d.cssHeight,l.maxSize=[1/0,1/0],a||(l.minSize=[d.minOffsetWidth,d.minOffsetHeight],l.maxSize=[d.maxOffsetWidth,d.maxOffsetHeight]);var m=t.props.transformOrigin||"% %";l.transformOrigin=sr(m)?m.split(" "):m,l.startOffsetMatrix=d.offsetMatrix,l.startTransformOrigin=d.transformOrigin,l.isWidth=(e=r==null?void 0:r.parentIsWidth)!==null&&e!==void 0?e:!c[0]&&!c[1]||c[0]||!c[1];function b(M){l.ratio=M&&isFinite(M)?M:0}l.startPositions=xr(t.state);function x(M){var R=hc(l.startPositions,M);l.fixedDirection=R.fixedDirection,l.fixedPosition=R.fixedPosition,l.fixedOffset=R.fixedOffset}function _(M){var R=gc(t.state,M);l.fixedDirection=R.fixedDirection,l.fixedPosition=R.fixedPosition,l.fixedOffset=R.fixedOffset}function S(M){l.minSize=[Dt("".concat(M[0]),0)||0,Dt("".concat(M[1]),0)||0]}function y(M){var R=[M[0]||1/0,M[1]||1/0];(!Ue(R[0])||isFinite(R[0]))&&(R[0]=Dt("".concat(R[0]),0)||1/0),(!Ue(R[1])||isFinite(R[1]))&&(R[1]=Dt("".concat(R[1]),0)||1/0),l.maxSize=R}b(p/h),x(u||[-c[0],-c[1]]),l.setFixedDirection=x,l.setFixedPosition=_,l.setMin=S,l.setMax=y;var C=mt(t,r,{direction:c,startRatio:l.ratio,set:function(M){var R=O(M,2),z=R[0],I=R[1];l.startWidth=z,l.startHeight=I},setMin:S,setMax:y,setRatio:b,setFixedDirection:x,setFixedPosition:_,setOrigin:function(M){l.transformOrigin=M},dragStart:tr.dragStart(t,new Ze().dragStart([0,0],r))}),D=f||st(t,"onResizeStart",C);return l.startFixedDirection=l.fixedDirection,l.startFixedPosition=l.fixedPosition,D!==!1&&(l.isResize=!0,t.state.snapRenderInfo={request:r.isRequest,direction:c}),l.isResize?C:!1},dragControl:function(t,r){var e,n=r.datas,i=r.parentFlag,a=r.isPinch,o=r.parentKeepRatio,s=r.dragClient,l=r.parentDist,u=r.useSnap,f=r.isRequest,c=r.isGroup,d=r.parentEvent,v=r.resolveMatrix,p=n.isResize,h=n.transformOrigin,g=n.startWidth,m=n.startHeight,b=n.prevWidth,x=n.prevHeight,_=n.minSize,S=n.maxSize,y=n.ratio,C=n.startOffsetWidth,D=n.startOffsetHeight,M=n.isWidth;if(!p)return;if(v){var R=t.state.is3d,z=n.startOffsetMatrix,I=n.startTransformOrigin,P=R?4:3,B=Bn(Ai(r)),G=Math.sqrt(B.length);P!==G&&(B=Tr(B,G,P));var V=Jn(z,B,I,P),$=Pe(V,C,D,P);n.startPositions=$,n.nextTargetMatrix=B,n.nextAllMatrix=V}var N=Te(t.props,"resizable"),U=N.resizeFormat,Z=N.throttleResize,H=Z===void 0?i?0:1:Z,J=N.parentMoveable,nt=N.keepRatioFinally,rt=n.direction,at=rt,tt=0,ot=0;!rt[0]&&!rt[1]&&(at=[1,1]);var ft=y&&(o??N.keepRatio)||!1;function pt(){var it=n.fixedDirection,ut=Bc(at,ft,n,r);tt=ut.distWidth,ot=ut.distHeight;var ht=at[0]-it[0]||ft?Math.max(C+tt,ir):C,xt=at[1]-it[1]||ft?Math.max(D+ot,ir):D;return ft&&C&&D&&(M?xt=ht/y:ht=xt*y),[ht,xt]}var _t=O(pt(),2),et=_t[0],E=_t[1];d||(n.setFixedDirection(n.fixedDirection),st(t,"onBeforeResize",mt(t,r,{startFixedDirection:n.startFixedDirection,startFixedPosition:n.startFixedPosition,setFixedDirection:function(it){var ut;return n.setFixedDirection(it),ut=O(pt(),2),et=ut[0],E=ut[1],[et,E]},setFixedPosition:function(it){var ut;return n.setFixedPosition(it),ut=O(pt(),2),et=ut[0],E=ut[1],[et,E]},boundingWidth:et,boundingHeight:E,setSize:function(it){var ut;ut=O(it,2),et=ut[0],E=ut[1]}},!0)));var w=s;s||(!i&&a?w=$g(t,[0,0]):w=n.fixedPosition);var A=[0,0];a||(A=F0(t,et,E,rt,w,!u&&f,n)),l&&(!l[0]&&(A[0]=0),!l[1]&&(A[1]=0));function k(){var it;U&&(it=O(U([et,E]),2),et=it[0],E=it[1]),et=vt(et,H),E=vt(E,H)}if(ft){at[0]&&at[1]&&A[0]&&A[1]&&(q(A[0])>q(A[1])?A[1]=0:A[0]=0);var F=!A[0]&&!A[1];F&&k(),at[0]&&!at[1]||A[0]&&!A[1]||F&&M?(et+=A[0],E=et/y):(!at[0]&&at[1]||!A[0]&&A[1]||F&&!M)&&(E+=A[1],et=E*y)}else et+=A[0],E+=A[1],et=Math.max(0,et),E=Math.max(0,E);e=O(sf([et,E],_,S,ft?y:!1),2),et=e[0],E=e[1],k(),ft&&(c||nt)&&(M?E=et/y:et=E*y),tt=et-C,ot=E-D;var L=[tt-b,ot-x];n.prevWidth=tt,n.prevHeight=ot;var j=Wg(t,et,E,w,h,n);if(!(!J&&L.every(function(it){return!it})&&j.every(function(it){return!it}))){var W=tr.drag(t,Zn(r,t.state,j,!!a,!1,"draggable")),Y=W.transform,X=g+tt,lt=m+ot,Q=mt(t,r,T({width:X,height:lt,offsetWidth:Math.round(et),offsetHeight:Math.round(E),startRatio:y,boundingWidth:et,boundingHeight:E,direction:rt,dist:[tt,ot],delta:L,isPinch:!!a,drag:W},Pc({style:{width:"".concat(X,"px"),height:"".concat(lt,"px")},transform:Y},W,r)));return!d&&st(t,"onResize",Q),Q}},dragControlAfter:function(t,r){var e=r.datas,n=e.isResize,i=e.startOffsetWidth,a=e.startOffsetHeight,o=e.prevWidth,s=e.prevHeight;if(!(!n||t.props.checkResizableError===!1)){var l=t.state,u=l.width,f=l.height,c=u-(i+o),d=f-(a+s),v=q(c)>3,p=q(d)>3;if(v&&(e.startWidth+=c,e.startOffsetWidth+=c,e.prevWidth+=c),p&&(e.startHeight+=d,e.startOffsetHeight+=d,e.prevHeight+=d),v||p)return this.dragControl(t,r)}},dragControlEnd:function(t,r){var e=r.datas,n=r.parentEvent;if(e.isResize){e.isResize=!1;var i=vr(t,r,{});return!n&&st(t,"onResizeEnd",i),i}},dragGroupControlCondition:Tl,dragGroupControlStart:function(t,r){var e=r.datas,n=this.dragControlStart(t,T(T({},r),{isGroup:!0}));if(!n)return!1;var i=Mr(t,"resizable",r),a=e.startOffsetWidth,o=e.startOffsetHeight;function s(){var v=e.minSize;i.forEach(function(p){var h=p.datas,g=h.minSize,m=h.startOffsetWidth,b=h.startOffsetHeight,x=a*(m?g[0]/m:0),_=o*(b?g[1]/b:0);v[0]=Math.max(v[0],x),v[1]=Math.max(v[1],_)})}function l(){var v=e.maxSize;i.forEach(function(p){var h=p.datas,g=h.maxSize,m=h.startOffsetWidth,b=h.startOffsetHeight,x=a*(m?g[0]/m:0),_=o*(b?g[1]/b:0);v[0]=Math.min(v[0],x),v[1]=Math.min(v[1],_)})}var u=Yr(t,this,"dragControlStart",r,function(v,p){return zi(t,v,e,p)});s(),l();var f=function(v){n.setFixedDirection(v),u.forEach(function(p,h){p.setFixedDirection(v),zi(t,p.moveable,e,i[h])})};e.setFixedDirection=f;var c=T(T({},n),{targets:t.props.targets,events:u.map(function(v){return T(T({},v),{setMin:function(p){v.setMin(p),s()},setMax:function(p){v.setMax(p),l()}})}),setFixedDirection:f,setMin:function(v){n.setMin(v),s()},setMax:function(v){n.setMax(v),l()}}),d=st(t,"onResizeGroupStart",c);return e.isResize=d!==!1,e.isResize?n:!1},dragGroupControl:function(t,r){var e=r.datas;if(e.isResize){var n=Te(t.props,"resizable");ca(t,"onBeforeResize",function(v){st(t,"onBeforeResizeGroup",mt(t,r,T(T({},v),{targets:n.targets}),!0))});var i=this.dragControl(t,T(T({},r),{isGroup:!0}));if(i){var a=i.boundingWidth,o=i.boundingHeight,s=i.dist,l=n.keepRatio,u=[a/(a-s[0]),o/(o-s[1])],f=e.fixedPosition,c=Yr(t,this,"dragControl",r,function(v,p){var h=O(Kt(jn(t.rotation/180*Math.PI,3),[p.datas.originalX*u[0],p.datas.originalY*u[1],1],3),2),g=h[0],m=h[1];return T(T({},p),{parentDist:null,parentScale:u,dragClient:yt(f,[g,m]),parentKeepRatio:l})}),d=T({targets:n.targets,events:c},i);return st(t,"onResizeGroup",d),d}}},dragGroupControlEnd:function(t,r){var e=r.isDrag,n=r.datas;if(n.isResize){this.dragControlEnd(t,r);var i=Yr(t,this,"dragControlEnd",r),a=vr(t,r,{targets:t.props.targets,events:i});return st(t,"onResizeGroupEnd",a),e}},request:function(t){var r={},e=0,n=0,i=!1,a=t.getRect();return{isControl:!0,requestStart:function(o){var s;return i=o.useSnap,{datas:r,parentDirection:o.direction||[1,1],parentIsWidth:(s=o==null?void 0:o.horizontal)!==null&&s!==void 0?s:!0,useSnap:i}},request:function(o){return"offsetWidth"in o?e=o.offsetWidth-a.offsetWidth:"deltaWidth"in o&&(e+=o.deltaWidth),"offsetHeight"in o?n=o.offsetHeight-a.offsetHeight:"deltaHeight"in o&&(n+=o.deltaHeight),{datas:r,parentDist:[e,n],parentKeepRatio:o.keepRatio,useSnap:i}},requestEnd:function(){return{datas:r,isDrag:!0,useSnap:i}}}},unset:function(t){t.state.gestos.resizable=null}};function za(t,r,e,n,i){var a=t.props.groupable,o=t.state,s=o.is3d?4:3,l=r.origin,u=Pt(t.state.rootMatrix,dt([l[0],l[1]],a?[0,0]:[o.left,o.top]),s),f=yt([i.left,i.top],u);r.startAbsoluteOrigin=f,r.prevDeg=At(f,[e,n])/Math.PI*180,r.defaultDeg=r.prevDeg,r.prevSnapDeg=0,r.loop=0,r.startDist=Vr(f,[e,n])}function yi(t,r,e){var n=e.defaultDeg,i=e.prevDeg,a=i%360,o=Math.floor(i/360);a<0&&(a+=360),a>t&&a>270&&t<90?++o:a<t&&a<90&&t>270&&--o;var s=r*(o*360+t-n);return e.prevDeg=n+s,s}function Ba(t,r,e,n){return yi(At(n.startAbsoluteOrigin,[t,r])/Math.PI*180,e,n)}function Ga(t,r,e,n,i,a){var o=t.props.throttleRotate,s=o===void 0?0:o,l=e.prevSnapDeg,u=0,f=!1;if(a){var c=G0(t,r,n,i+n);f=c.isSnap,u=i+c.dist}f||(u=vt(i+n,s));var d=u-i;return e.prevSnapDeg=d,[d-l,d,u]}function mc(t,r,e){var n=O(r,4),i=n[0],a=n[1],o=n[2],s=n[3];if(t==="none")return[];if(Ft(t))return t.map(function(g){return mc(g,[i,a,o,s],e)[0]});var l=O((t||"top").split("-"),2),u=l[0],f=l[1],c=[i,a];u==="left"?c=[o,i]:u==="right"?c=[a,s]:u==="bottom"&&(c=[s,o]);var d=[(c[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2],v=wc(c,e);if(f){var p=f==="top"||f==="left",h=u==="bottom"||u==="left";d=c[p&&!h||!p&&h?0:1]}return[[d,v]]}function bo(t,r){if(r.isRequest)return r.requestAble==="rotatable";var e=r.inputEvent.target;if(Nt(e,ct("rotation-control"))||t.props.rotateAroundControls&&Nt(e,ct("around-control"))||Nt(e,ct("control"))&&Nt(e,ct("rotatable")))return!0;var n=t.props.rotationTarget;return n?_s(n,!0).some(function(i){return i?e===i||e.contains(i):!1}):!1}var S0=`.rotation {
position: absolute;
height: 40px;
width: 1px;
transform-origin: 50% 100%;
height: calc(40px * var(--zoom));
top: auto;
left: 0;
bottom: 100%;
will-change: transform;
}
.rotation .rotation-line {
display: block;
width: 100%;
height: 100%;
transform-origin: 50% 50%;
}
.rotation .rotation-control {
border-color: #4af;
border-color: var(--moveable-color);
background:#fff;
cursor: alias;
}
:global .view-rotation-dragging, .rotatable.direction.control {
cursor: alias;
}
.rotatable.direction.control.move {
cursor: move;
}
`,E0={name:"rotatable",canPinch:!0,props:["rotatable","rotationPosition","throttleRotate","renderDirections","rotationTarget","rotateAroundControls","edge","resolveAblesWithRotatable","displayAroundControls"],events:["rotateStart","beforeRotate","rotate","rotateEnd","rotateGroupStart","beforeRotateGroup","rotateGroup","rotateGroupEnd"],css:[S0],viewClassName:function(t){return t.isDragging("rotatable")?ct("view-rotation-dragging"):""},render:function(t,r){var e=Te(t.props,"rotatable"),n=e.rotatable,i=e.rotationPosition,a=e.zoom,o=e.renderDirections,s=e.rotateAroundControls,l=e.resolveAblesWithRotatable,u=t.getState(),f=u.renderPoses,c=u.direction;if(!n)return null;var d=mc(i,f,c),v=[];if(d.forEach(function(m,b){var x=O(m,2),_=x[0],S=x[1];v.push(r.createElement("div",{key:"rotation".concat(b),className:ct("rotation"),style:{transform:"translate(-50%) translate(".concat(_[0],"px, ").concat(_[1],"px) rotate(").concat(S,"rad)")}},r.createElement("div",{className:ct("line rotation-line"),style:{transform:"scaleX(".concat(a,")")}}),r.createElement("div",{className:ct("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(a,")")}})))}),o){var p=qr(l||{}),h={};p.forEach(function(m){l[m].forEach(function(b){h[b]=m})});var g=[];Ft(o)&&(g=o.map(function(m){var b=h[m];return{data:b?{resolve:b}:{},classNames:b?["move"]:[],dir:m}})),v.push.apply(v,K([],O(tc(t,"rotatable",g,r)),!1))}return s&&v.push.apply(v,K([],O(ac(t,r)),!1)),v},dragControlCondition:bo,dragControlStart:function(t,r){var e,n,i=r.datas,a=r.clientX,o=r.clientY,s=r.parentRotate,l=r.parentFlag,u=r.isPinch,f=r.isRequest,c=t.state,d=c.target,v=c.left,p=c.top,h=c.direction,g=c.beforeDirection,m=c.targetTransform,b=c.moveableClientRect,x=c.offsetMatrix,_=c.targetMatrix,S=c.allMatrix,y=c.width,C=c.height;if(!f&&!d)return!1;var D=t.getRect();i.rect=D,i.transform=m,i.left=v,i.top=p;var M=function(at){var tt=gc(t.state,at);i.fixedDirection=tt.fixedDirection,i.fixedOffset=tt.fixedOffset,i.fixedPosition=tt.fixedPosition,H&&H.setFixedPosition(at)},R=function(at){var tt=y0(t.state,at);i.fixedDirection=tt.fixedDirection,i.fixedOffset=tt.fixedOffset,i.fixedPosition=tt.fixedPosition,H&&H.setFixedDirection(at)},z=a,I=o;if(f||u||l){var P=s||0;i.beforeInfo={origin:D.beforeOrigin,prevDeg:P,defaultDeg:P,prevSnapDeg:0,startDist:0},i.afterInfo=T(T({},i.beforeInfo),{origin:D.origin}),i.absoluteInfo=T(T({},i.beforeInfo),{origin:D.origin,startValue:P})}else{var B=(n=r.inputEvent)===null||n===void 0?void 0:n.target;if(B){var G=B.getAttribute("data-direction")||"",V=Rg[G];if(V){i.isControl=!0,i.isAroundControl=Nt(B,ct("around-control")),i.controlDirection=V;var $=B.getAttribute("data-resolve");$&&(i.resolveAble=$);var N=J0(c.rootMatrix,c.renderPoses,b);e=O(Ht(N,V),2),z=e[0],I=e[1]}}i.beforeInfo={origin:D.beforeOrigin},i.afterInfo={origin:D.origin},i.absoluteInfo={origin:D.origin,startValue:D.rotation};var U=M;M=function(at){var tt=c.is3d?4:3,ot=O(yt(Af(_,tt),at),2),ft=ot[0],pt=ot[1],_t=Kt(x,De([ft,pt],tt)),et=Kt(S,De([at[0],at[1]],tt));U(at);var E=c.posDelta;i.beforeInfo.origin=dt(_t,E),i.afterInfo.origin=dt(et,E),i.absoluteInfo.origin=dt(et,E),za(t,i.beforeInfo,z,I,b),za(t,i.afterInfo,z,I,b),za(t,i.absoluteInfo,z,I,b)},R=function(at){var tt=Ht([[0,0],[y,0],[0,C],[y,C]],at);M(tt)}}i.startClientX=z,i.startClientY=I,i.direction=h,i.beforeDirection=g,i.startValue=0,i.datas={},oa(t,r,"rotate");var Z=!1,H=!1;if(i.isControl&&i.resolveAble){var J=i.resolveAble;J==="resizable"&&(H=mo.dragControlStart(t,T(T({},new Ze("resizable").dragStart([0,0],r)),{parentPosition:i.controlPosition,parentFixedPosition:i.fixedPosition})))}H||(Z=tr.dragStart(t,new Ze().dragStart([0,0],r))),M(Q0(t));var nt=mt(t,r,T(T({set:function(at){i.startValue=at*Math.PI/180},setFixedDirection:R,setFixedPosition:M},aa(t,r)),{dragStart:Z,resizeStart:H})),rt=st(t,"onRotateStart",nt);return i.isRotate=rt!==!1,c.snapRenderInfo={request:r.isRequest},i.isRotate?nt:!1},dragControl:function(t,r){var e,n,i,a=r.datas,o=r.clientDistX,s=r.clientDistY,l=r.parentRotate,u=r.parentFlag,f=r.isPinch,c=r.groupDelta,d=r.resolveMatrix,v=a.beforeDirection,p=a.beforeInfo,h=a.afterInfo,g=a.absoluteInfo,m=a.isRotate,b=a.startValue,x=a.rect,_=a.startClientX,S=a.startClientY;if(m){na(t,r,"rotate");var y=Og(r),C=v*y,D=t.props.parentMoveable,M=0,R,z,I=0,P,B,G=0,V,$,N=180/Math.PI*b,U=g.startValue,Z=!1,H=_+o,J=S+s;if(!u&&"parentDist"in r){var nt=r.parentDist;R=nt,P=nt,V=nt}else f||u?(R=yi(l,v,p),P=yi(l,C,h),V=yi(l,C,g)):(R=Ba(H,J,v,p),P=Ba(H,J,C,h),V=Ba(H,J,C,g),Z=!0);if(z=N+R,B=N+P,$=U+V,st(t,"onBeforeRotate",mt(t,r,{beforeRotation:z,rotation:B,absoluteRotation:$,setRotation:function(w){P=w-N,R=P,V=P}},!0)),e=O(Ga(t,x,p,R,N,Z),3),M=e[0],R=e[1],z=e[2],n=O(Ga(t,x,h,P,N,Z),3),I=n[0],P=n[1],B=n[2],i=O(Ga(t,x,g,V,U,Z),3),G=i[0],V=i[1],$=i[2],!(!G&&!I&&!M&&!D&&!d)){var rt=ia(a,"rotate(".concat(B,"deg)"),"rotate(".concat(P,"deg)"));d&&(a.fixedPosition=ss(t,a.targetAllTransform,a.fixedDirection,a.fixedOffset,a));var at=Lg(t,P,a),tt=dt(yt(c||[0,0],at),a.prevInverseDist||[0,0]);a.prevInverseDist=at,a.requestValue=null;var ot=Zf(t,rt,tt,f,r),ft=ot,pt=Vr([H,J],g.startAbsoluteOrigin)-g.startDist,_t=void 0;if(a.resolveAble==="resizable"){var et=mo.dragControl(t,T(T({},Zn(r,t.state,[r.deltaX,r.deltaY],!!f,!1,"resizable")),{resolveMatrix:!0,parentDistance:pt}));et&&(_t=et,ft=Pc(ft,et,r))}var E=mt(t,r,T(T({delta:I,dist:P,rotate:B,rotation:B,beforeDist:R,beforeDelta:M,beforeRotate:z,beforeRotation:z,absoluteDist:V,absoluteDelta:G,absoluteRotate:$,absoluteRotation:$,isPinch:!!f,resize:_t},ot),ft));return st(t,"onRotate",E),E}}},dragControlEnd:function(t,r){var e=r.datas;if(e.isRotate){e.isRotate=!1;var n=vr(t,r,{});return st(t,"onRotateEnd",n),n}},dragGroupControlCondition:bo,dragGroupControlStart:function(t,r){var e=r.datas,n=t.state,i=n.left,a=n.top,o=n.beforeOrigin,s=this.dragControlStart(t,r);if(!s)return!1;s.set(e.beforeDirection*t.rotation);var l=Yr(t,this,"dragControlStart",r,function(c,d){var v=c.state,p=v.left,h=v.top,g=v.beforeOrigin,m=yt(dt([p,h],[i,a]),dt(g,o));return d.datas.startGroupClient=m,d.datas.groupClient=m,T(T({},d),{parentRotate:0})}),u=T(T({},s),{targets:t.props.targets,events:l}),f=st(t,"onRotateGroupStart",u);return e.isRotate=f!==!1,e.isRotate?s:!1},dragGroupControl:function(t,r){var e=r.datas;if(e.isRotate){ca(t,"onBeforeRotate",function(u){st(t,"onBeforeRotateGroup",mt(t,r,T(T({},u),{targets:t.props.targets}),!0))});var n=this.dragControl(t,r);if(n){var i=e.beforeDirection,a=n.beforeDist,o=a/180*Math.PI,s=Yr(t,this,"dragControl",r,function(u,f){var c=f.datas.startGroupClient,d=O(f.datas.groupClient,2),v=d[0],p=d[1],h=O(qn(c,o*i),2),g=h[0],m=h[1],b=[g-v,m-p];return f.datas.groupClient=[g,m],T(T({},f),{parentRotate:a,groupDelta:b})});t.rotation=i*n.beforeRotation;var l=T({targets:t.props.targets,events:s,set:function(u){t.rotation=u},setGroupRotation:function(u){t.rotation=u}},n);return st(t,"onRotateGroup",l),l}}},dragGroupControlEnd:function(t,r){var e=r.isDrag,n=r.datas;if(n.isRotate){this.dragControlEnd(t,r);var i=Yr(t,this,"dragControlEnd",r),a=vr(t,r,{targets:t.props.targets,events:i});return st(t,"onRotateGroupEnd",a),e}},request:function(t){var r={},e=0,n=t.getRotation();return{isControl:!0,requestStart:function(){return{datas:r}},request:function(i){return"deltaRotate"in i?e+=i.deltaRotate:"rotate"in i&&(e=i.rotate-n),{datas:r,parentDist:e}},requestEnd:function(){return{datas:r,isDrag:!0}}}}};function C0(t,r){var e,n=t.direction,i=t.classNames,a=t.size,o=t.pos,s=t.zoom,l=t.key,u=n==="horizontal",f=u?"Y":"X";return r.createElement("div",{key:l,className:i.join(" "),style:(e={},e[u?"width":"height"]="".concat(a),e.transform="translate(".concat(o[0],", ").concat(o[1],") translate").concat(f,"(-50%) scale").concat(f,"(").concat(s,")"),e)})}function vs(t,r){return C0(T(T({},t),{classNames:K([ct("line","guideline",t.direction)],O(t.classNames),!1).filter(function(e){return e}),size:t.size||"".concat(t.sizeValue,"px"),pos:t.pos||t.posValue.map(function(e){return"".concat(vt(e,.1),"px")})}),r)}function Rl(t,r,e,n,i,a,o,s){var l=t.props.zoom;return e.map(function(u,f){var c=u.type,d=u.pos,v=[0,0];return v[o]=n,v[o?0:1]=-i+d,vs({key:"".concat(r,"TargetGuideline").concat(f),classNames:[ct("target","bold",c)],posValue:v,sizeValue:a,zoom:l,direction:r},s)})}function Ol(t,r,e,n,i,a){var o=t.props,s=o.zoom,l=o.isDisplayInnerSnapDigit,u=r==="horizontal"?ie:ae,f=i[u.start],c=i[u.end];return e.filter(function(d){var v=d.hide,p=d.elementRect;if(v)return!1;if(l&&p){var h=p.rect;if(h[u.start]<=f&&c<=h[u.end])return!1}return!0}).map(function(d,v){var p=d.pos,h=d.size,g=d.element,m=d.className,b=[-n[0]+p[0],-n[1]+p[1]];return vs({key:"".concat(r,"-default-guideline-").concat(v),classNames:g?[ct("bold"),m]:[ct("normal"),m],direction:r,posValue:b,sizeValue:h,zoom:s},a)})}function vn(t,r,e,n,i,a,o,s){var l,u=t.props,f=u.snapDigit,c=f===void 0?0:f,d=u.isDisplaySnapDigit,v=d===void 0?!0:d,p=u.snapDistFormat,h=p===void 0?function(S,y){return S}:p,g=u.zoom,m=r==="horizontal"?"X":"Y",b=r==="vertical"?"height":"width",x=Math.abs(i),_=v?parseFloat(x.toFixed(c)):0;return s.createElement("div",{key:"".concat(r,"-").concat(e,"-guideline-").concat(n),className:ct("guideline-group",r),style:(l={left:"".concat(a[0],"px"),top:"".concat(a[1],"px")},l[b]="".concat(x,"px"),l)},vs({direction:r,classNames:[ct(e),o],size:"100%",posValue:[0,0],sizeValue:x,zoom:g},s),s.createElement("div",{className:ct("size-value","gap"),style:{transform:"translate".concat(m,"(-50%) scale(").concat(g,")")}},_>0?h(_,r):""))}function D0(t,r,e,n){var i=t==="vertical"?0:1,a=t==="vertical"?1:0,o=i?ie:ae,s=e[o.start],l=e[o.end];return Ic(r,function(u){return u.pos[i]}).map(function(u){var f=[],c=[],d=[];return u.forEach(function(v){var p,h,g=v.element,m=v.elementRect.rect;if(m[o.end]<s)f.push(v);else if(l<m[o.start])c.push(v);else if(m[o.start]<=s&&l<=m[o.end]&&n){var b=v.pos,x={element:g,rect:T(T({},m),(p={},p[o.end]=m[o.start],p))},_={element:g,rect:T(T({},m),(h={},h[o.start]=m[o.end],h))},S=[0,0],y=[0,0];S[i]=b[i],S[a]=b[a],y[i]=b[i],y[a]=b[a]+v.size,f.push({type:t,pos:S,size:0,elementRect:x,direction:"",elementDirection:"end"}),c.push({type:t,pos:y,size:0,elementRect:_,direction:"",elementDirection:"start"})}}),f.sort(function(v,p){return p.pos[a]-v.pos[a]}),c.sort(function(v,p){return v.pos[a]-p.pos[a]}),{total:u,start:f,end:c,inner:d}})}function M0(t,r,e,n,i){var a=t.props.isDisplayInnerSnapDigit,o=[];return["vertical","horizontal"].forEach(function(s){var l=r.filter(function(g){return g.type===s}),u=s==="vertical"?1:0,f=u?0:1,c=D0(s,l,n,a),d=u?ae:ie,v=u?ie:ae,p=n[d.start],h=n[d.end];c.forEach(function(g){var m=g.total,b=g.start,x=g.end,_=g.inner,S=e[f]+m[0].pos[f]-n[v.start],y=n;b.forEach(function(C){var D=C.elementRect.rect,M=y[d.start]-D[d.end];if(M>0){var R=[0,0];R[u]=e[u]+y[d.start]-p-M,R[f]=S,o.push(vn(t,s,"dashed",o.length,M,R,C.className,i))}y=D}),y=n,x.forEach(function(C){var D=C.elementRect.rect,M=D[d.start]-y[d.end];if(M>0){var R=[0,0];R[u]=e[u]+y[d.end]-p,R[f]=S,o.push(vn(t,s,"dashed",o.length,M,R,C.className,i))}y=D}),_.forEach(function(C){var D=C.elementRect.rect,M=p-D[d.start],R=D[d.end]-h,z=[0,0],I=[0,0];z[u]=e[u]-M,z[f]=S,I[u]=e[u]+h-p,I[f]=S,o.push(vn(t,s,"dashed",o.length,M,z,C.className,i)),o.push(vn(t,s,"dashed",o.length,R,I,C.className,i))})})}),o}function w0(t,r,e,n,i){var a=[];return["horizontal","vertical"].forEach(function(o){var s=r.filter(function(g){return g.type===o}).slice(0,1),l=o==="vertical"?0:1,u=l?0:1,f=l?ae:ie,c=l?ie:ae,d=n[f.start],v=n[f.end],p=n[c.start],h=n[c.end];s.forEach(function(g){var m=g.gap,b=g.gapRects,x=Math.max.apply(Math,K([p],O(b.map(function(y){var C=y.rect;return C[c.start]})),!1)),_=Math.min.apply(Math,K([h],O(b.map(function(y){var C=y.rect;return C[c.end]})),!1)),S=(x+_)/2;x===_||S===(p+h)/2||b.forEach(function(y){var C=y.rect,D=y.className,M=[e[0],e[1]];if(C[f.end]<d)M[l]+=C[f.end]-d;else if(v<C[f.start])M[l]+=C[f.start]-d-m;else return;M[u]+=S-p,a.push(vn(t,l?"vertical":"horizontal","gap",a.length,m,M,D,i))})})}),a}function _o(t){var r,e,n=t.state,i=n.containerClientRect,a=n.hasFixed,o=i.overflow,s=i.scrollHeight,l=i.scrollWidth,u=i.clientHeight,f=i.clientWidth,c=i.clientLeft,d=i.clientTop,v=t.props,p=v.snapGap,h=p===void 0?!0:p,g=v.verticalGuidelines,m=v.horizontalGuidelines,b=v.snapThreshold,x=b===void 0?5:b,_=v.maxSnapElementGuidelineDistance,S=_===void 0?1/0:_,y=v.isDisplayGridGuidelines,C=mr(xr(t.state)),D=C.top,M=C.left,R=C.bottom,z=C.right,I={top:D,left:M,bottom:R,right:z,center:(M+z)/2,middle:(D+R)/2},P=P0(t),B=K([],O(P),!1),G=((e=(r=n.snapThresholdInfo)===null||r===void 0?void 0:r.multiples)!==null&&e!==void 0?e:[1,1]).map(function(U){return U*x});h&&B.push.apply(B,K([],O(T0(t,I,G)),!1));var V=T({},n.snapOffset||{left:0,top:0,bottom:0,right:0});if(B.push.apply(B,K([],O(O0(t,o?l:f,o?s:u,c,d,V,y)),!1)),a){var $=i.left,N=i.top;V.left+=$,V.top+=N,V.right+=$,V.bottom+=N}return B.push.apply(B,K([],O(_c(m||!1,g||!1,o?l:f,o?s:u,c,d,V)),!1)),B=B.filter(function(U){var Z=U.element,H=U.elementRect,J=U.type;if(!Z||!H)return!0;var nt=H.rect;return bc(I,nt,J,S)}),B}function T0(t,r,e){var n=t.props,i=n.maxSnapElementGuidelineDistance,a=i===void 0?1/0:i,o=n.maxSnapElementGapDistance,s=o===void 0?1/0:o,l=t.state.elementRects,u=[];return[["vertical",ie,ae],["horizontal",ae,ie]].forEach(function(f){var c=O(f,3),d=c[0],v=c[1],p=c[2],h=r[v.start],g=r[v.end],m=r[v.center],b=r[p.start],x=r[p.end],_={left:e[0],top:e[1]};function S(D){var M=D.rect,R=_[v.start];return M[v.end]<h+R?h-M[v.end]:g-R<M[v.start]?M[v.start]-g:-1}var y=l.filter(function(D){var M=D.rect;return M[p.start]>x||M[p.end]<b?!1:S(D)>0}).sort(function(D,M){return S(D)-S(M)}),C=[];y.forEach(function(D){y.forEach(function(M){if(D!==M){var R=D.rect,z=M.rect,I=R[p.start],P=R[p.end],B=z[p.start],G=z[p.end];I>G||B>P||C.push([D,M])}})}),C.forEach(function(D){var M=O(D,2),R=M[0],z=M[1],I=R.rect,P=z.rect,B=I[v.start],G=I[v.end],V=P[v.start],$=P[v.end],N=_[v.start],U=0,Z=0,H=!1,J=!1,nt=!1;if(G<=h&&g<=V){if(J=!0,U=(V-G-(g-h))/2,Z=G+U+(g-h)/2,q(Z-m)>N)return}else if(G<V&&$<h+N){if(H=!0,U=V-G,Z=$+U,q(Z-h)>N)return}else if(G<V&&g-N<B){if(nt=!0,U=V-G,Z=B-U,q(Z-g)>N)return}else return;U&&bc(r,P,d,a)&&(U>s||u.push({type:d,pos:d==="vertical"?[Z,0]:[0,Z],element:z.element,size:0,className:z.className,isStart:H,isCenter:J,isEnd:nt,gap:U,hide:!0,gapRects:[R,z],direction:"",elementDirection:""}))})}),u}function R0(t,r,e,n){var i,a,o=t.props,s=t.state,l=o.snapGridAll,u=o.snapGridWidth,f=u===void 0?0:u,c=o.snapGridHeight,d=c===void 0?0:c,v=s.snapRenderInfo,p=v&&(((i=v.direction)===null||i===void 0?void 0:i[0])||((a=v.direction)===null||a===void 0?void 0:a[1])),h=t.moveables;if(l&&h&&p&&(f||d)){if(s.snapThresholdInfo)return;s.snapThresholdInfo={multiples:[1,1],offset:[0,0]};var g=t.getRect(),m=g.children,b=v.direction;if(m){var x=b.map(function(S,y){var C=y===0?{snapSize:f,posName:"left",sizeName:"width",clientOffset:n.left-r}:{snapSize:d,posName:"top",sizeName:"height",clientOffset:n.top-e},D=C.snapSize,M=C.posName,R=C.sizeName,z=C.clientOffset;if(!D)return{dir:S,multiple:1,snapSize:D,snapOffset:0};var I=g[R],P=g[M],B=lf(m.map(function(H){return[H[M]-P,H[R],I-H[R]-H[M]+P]})).filter(function(H){return H}).sort(function(H,J){return H-J}),G=B[0],V=B.map(function(H){return vt(H/G,.1)*D}),$=1,N=vt(I/G,.1);for($=1;$<=10&&!V.every(function(H){return H*$%1===0});++$);var U=(-S+1)/2,Z=Ri(P-z,P-z+I,U,1-U);return{multiple:N*$,dir:S,snapSize:D,snapOffset:Math.round(Z/D)}}),_=x.map(function(S){return S.multiple||1});s.snapThresholdInfo.multiples=_,s.snapThresholdInfo.offset=x.map(function(S){return S.snapOffset}),x.forEach(function(S,y){S.snapSize})}}else s.snapThresholdInfo=null}function O0(t,r,e,n,i,a,o){n===void 0&&(n=0),i===void 0&&(i=0);var s=t.props,l=t.state,u=s.snapGridWidth,f=u===void 0?0:u,c=s.snapGridHeight,d=c===void 0?0:c,v=[],p=a.left,h=a.top,g=[0,0];R0(t,n,i,a);var m=l.snapThresholdInfo,b=f,x=d;if(m&&(f*=m.multiples[0]||1,d*=m.multiples[1]||1,g=m.offset),d){for(var _=function(y){v.push({type:"horizontal",pos:[p,vt(g[1]*x+y-i+h,.1)],className:ct("grid-guideline"),size:r,hide:!o,direction:"",grid:!0})},S=0;S<=e*2;S+=d)_(S);for(var S=-d;S>=-e;S-=d)_(S)}if(f){for(var _=function(C){v.push({type:"vertical",pos:[vt(g[0]*b+C-n+p,.1),h],className:ct("grid-guideline"),size:e,hide:!o,direction:"",grid:!0})},S=0;S<=r*2;S+=f)_(S);for(var S=-f;S>=-r;S-=f)_(S)}return v}function bc(t,r,e,n){return e==="horizontal"?q(t.right-r.left)<=n||q(t.left-r.right)<=n||t.left<=r.right&&r.left<=t.right:e==="vertical"?q(t.bottom-r.top)<=n||q(t.top-r.bottom)<=n||t.top<=r.bottom&&r.top<=t.bottom:!0}function P0(t){var r=t.state,e=t.props.elementGuidelines,n=e===void 0?[]:e;if(!n.length)return r.elementRects=[],[];var i=(r.elementRects||[]).filter(function(d){return!d.refresh}),a=n.map(function(d){return wr(d)&&"element"in d?T(T({},d),{element:Br(d.element,!0)}):{element:Br(d,!0)}}).filter(function(d){return d.element}),o=$h(i.map(function(d){return d.element}),a.map(function(d){return d.element})),s=o.maintained,l=o.added,u=[];s.forEach(function(d){var v=O(d,2),p=v[0],h=v[1];u[h]=i[p]}),I0(t,l.map(function(d){return a[d]})).map(function(d,v){u[l[v]]=d}),r.elementRects=u;var f=us(t.props.elementSnapDirections),c=[];return u.forEach(function(d){var v=d.element,p=d.top,h=p===void 0?f.top:p,g=d.left,m=g===void 0?f.left:g,b=d.right,x=b===void 0?f.right:b,_=d.bottom,S=_===void 0?f.bottom:_,y=d.center,C=y===void 0?f.center:y,D=d.middle,M=D===void 0?f.middle:D,R=d.className,z=d.rect,I=fs({top:h,right:x,left:m,bottom:S,center:C,middle:M},z),P=I.horizontal,B=I.vertical,G=I.horizontalNames,V=I.verticalNames,$=z.top,N=z.left,U=z.right-N,Z=z.bottom-$,H=[U,Z];B.forEach(function(J,nt){c.push({type:"vertical",element:v,pos:[vt(J,.1),$],size:Z,sizes:H,className:R,elementRect:d,elementDirection:yl[V[nt]]||V[nt],direction:""})}),P.forEach(function(J,nt){c.push({type:"horizontal",element:v,pos:[N,vt(J,.1)],size:U,sizes:H,className:R,elementRect:d,elementDirection:yl[G[nt]]||G[nt],direction:""})})}),c}function Pl(t,r){return t?t.map(function(e){var n=wr(e)?e:{pos:e},i=n.pos;return Ue(i)?n:T(T({},n),{pos:Dt(i,r)})}):[]}function _c(t,r,e,n,i,a,o){i===void 0&&(i=0),a===void 0&&(a=0),o===void 0&&(o={left:0,top:0,right:0,bottom:0});var s=[],l=o.left,u=o.top,f=o.bottom,c=o.right,d=e+c-l,v=n+f-u;return Pl(t,v).forEach(function(p){s.push({type:"horizontal",pos:[l,vt(p.pos-a+u,.1)],size:d,className:p.className,direction:""})}),Pl(r,d).forEach(function(p){s.push({type:"vertical",pos:[vt(p.pos-i+l,.1),u],size:v,className:p.className,direction:""})}),s}function I0(t,r){if(!r.length)return[];var e=t.props.groupable,n=t.state,i=n.containerClientRect,a=n.rootMatrix,o=n.is3d,s=n.offsetDelta,l=o?4:3,u=O(e0(a,i,l),2),f=u[0],c=u[1],d=e?0:s[0],v=e?0:s[1];return r.map(function(p){var h=p.element.getBoundingClientRect(),g=h.left-f-d,m=h.top-c-v,b=m+h.height,x=g+h.width,_=O(tn(a,[g,m],l),2),S=_[0],y=_[1],C=O(tn(a,[x,b],l),2),D=C[0],M=C[1];return T(T({},p),{rect:{left:S,right:D,top:y,bottom:M,center:(S+D)/2,middle:(y+M)/2}})})}function ci(t){var r=t.state,e=r.container,n=t.props.snapContainer||e;if(r.snapContainer===n&&r.guidelines&&r.guidelines.length)return!1;var i=r.containerClientRect,a={left:0,top:0,bottom:0,right:0};if(e!==n){var o=Br(n,!0);if(o){var s=Dn(o),l=Fl(r,[s.left-i.left,s.top-i.top]),u=Fl(r,[s.right-i.right,s.bottom-i.bottom]);a.left=vt(l[0],1e-5),a.top=vt(l[1],1e-5),a.right=vt(u[0],1e-5),a.bottom=vt(u[1],1e-5)}}return r.snapContainer=n,r.snapOffset=a,r.guidelines=_o(t),r.enableSnap=!0,!0}function xc(t,r,e,n,i,a){var o=Pe(t,r,e,a?4:3),s=Ht(o,n);return hs(o,dt(i,s))}function Il(t){return t?t/q(t):0}function A0(t,r,e,n,i,a){var o=a.fixedDirection,s=o0(e,o,n),l=ds(t,r,e,n),u=K(K([],O(b0(t,r,s,n,i,a)),!1),O(pc(t,l,a)),!1),f=Bi(u,0),c=Bi(u,1);return{width:{isBound:f.isBound,offset:f.offset[0]},height:{isBound:c.isBound,offset:c.offset[1]}}}function z0(t,r,e,n,i,a,o,s,l){var u=Ht(r,o),f=ua(t,s,{vertical:[u[0]],horizontal:[u[1]]}),c=f.horizontal.offset,d=f.vertical.offset;if(vt(d,co)||vt(c,co)){var v=O(kr({datas:l,distX:-d,distY:-c}),2),p=v[0],h=v[1],g=Math.min(i||1/0,e+o[0]*p),m=Math.min(a||1/0,n+o[1]*h);return[g-e,m-n]}return[0,0]}function yc(t,r,e,n,i,a,o,s){for(var l=xr(t.state),u=t.props.keepRatio,f=0,c=0,d=0;d<2;++d){var v=r(f,c),p=A0(t,v,i,u,o,s),h=p.width,g=p.height,m=h.isBound,b=g.isBound,x=h.offset,_=g.offset;if(d===1&&(m||(x=0),b||(_=0)),d===0&&o&&!m&&!b)return[0,0];if(u){var S=q(x)*(e?1/e:1),y=q(_)*(n?1/n:1),C=m&&b?S<y:b||!m&&S<y;C?x=e*_/n:_=n*x/e}f+=x,c+=_}if(!u&&i[0]&&i[1]){var D=x0(t,l,i,a,s),M=D.maxWidth,R=D.maxHeight,z=O(z0(t,r(f,c).map(function(B){return B.map(function(G){return vt(G,co)})}),e+f,n+c,M,R,i,o,s),2),x=z[0],_=z[1];f+=x,c+=_}return[f,c]}function En(t){return t<0&&(t=t%360+360),t%=360,t}function B0(t,r){r=En(r);var e=Math.floor(t/360),n=e*360+360-r,i=e*360+r;return q(t-n)<q(t-i)?n:i}function Fa(t,r){t=En(t),r=En(r);var e=En(t-r);return Math.min(e,360-e)}function G0(t,r,e,n){var i,a=t.props,o=(i=a[oc])!==null&&i!==void 0?i:5,s=a[sc];if(sn(t,"rotatable")){var l=r.pos1,u=r.pos2,f=r.pos3,c=r.pos4,d=r.origin,v=e*Math.PI/180,p=[l,u,f,c].map(function(_){return dt(_,d)}),h=p.map(function(_){return qn(_,v)}),g=K(K([],O(Jg(t,p,h,d,e)),!1),O(d0(t,p,h,d,e)),!1);g.sort(function(_,S){return q(_-e)-q(S-e)});var m=g.length>0;if(m)return{isSnap:m,dist:m?g[0]:e}}if(s!=null&&s.length&&o){var b=s.slice().sort(function(_,S){return Fa(_,n)-Fa(S,n)}),x=b[0];if(Fa(x,n)<=o)return{isSnap:!0,dist:e+B0(n,x)-n}}return{isSnap:!1,dist:e}}function F0(t,r,e,n,i,a,o){if(!sn(t,"resizable"))return[0,0];var s=o.fixedDirection,l=o.nextAllMatrix,u=t.state,f=u.allMatrix,c=u.is3d;return yc(t,function(d,v){return xc(l||f,r+d,e+v,s,i,c)},r,e,n,i,a,o)}function k0(t,r,e,n,i){if(!sn(t,"scalable"))return[0,0];var a=i.startOffsetWidth,o=i.startOffsetHeight,s=i.fixedPosition,l=i.fixedDirection,u=i.is3d,f=yc(t,function(c,d){return xc(Fg(i,yt(r,[c/a,d/o])),a,o,l,s,u)},a,o,e,s,n,i);return[f[0]/a,f[1]/o]}function N0(t,r){r.absolutePoses=xr(t.state)}function Al(t){var r=[];return t.forEach(function(e){e.guidelineInfos.forEach(function(n){var i=n.guideline;lr(r,function(a){return a.guideline===i})||(i.direction="",r.push({guideline:i,posInfo:e}))})}),r.map(function(e){var n=e.guideline,i=e.posInfo;return T(T({},n),{direction:i.direction})})}function zl(t,r,e,n,i,a){var o=ls(sa(t,a),r,e),s=o.vertical,l=o.horizontal,u=ke();s.forEach(function(p){p.isBound&&(p.direction==="start"&&(u.left=!0),p.direction==="end"&&(u.right=!0),n.push({type:"bounds",pos:p.pos}))}),l.forEach(function(p){p.isBound&&(p.direction==="start"&&(u.top=!0),p.direction==="end"&&(u.bottom=!0),i.push({type:"bounds",pos:p.pos}))});var f=v0(t),c=f.boundMap,d=f.vertical,v=f.horizontal;return d.forEach(function(p){Xr(n,function(h){var g=h.type,m=h.pos;return g==="bounds"&&m===p})>=0||n.push({type:"bounds",pos:p})}),v.forEach(function(p){Xr(i,function(h){var g=h.type,m=h.pos;return g==="bounds"&&m===p})>=0||i.push({type:"bounds",pos:p})}),{boundMap:u,innerBoundMap:c}}var H0=bs("",["resizable","scalable"]),L0={name:"snappable",dragRelation:"strong",props:["snappable","snapContainer","snapDirections","elementSnapDirections","snapGap","snapGridWidth","snapGridHeight","isDisplaySnapDigit","isDisplayInnerSnapDigit","isDisplayGridGuidelines","snapDigit","snapThreshold","snapRenderThreshold","snapGridAll",oc,sc,lc,uc,"horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","innerBounds","snapDistFormat","maxSnapElementGuidelineDistance","maxSnapElementGapDistance"],events:["snap","bound"],css:[`:host {
--bounds-color: #d66;
}
.guideline {
pointer-events: none;
z-index: 2;
}
.guideline.bounds {
background: #d66;
background: var(--bounds-color);
}
.guideline-group {
position: absolute;
top: 0;
left: 0;
}
.guideline-group .size-value {
position: absolute;
color: #f55;
font-size: 12px;
font-size: calc(12px * var(--zoom));
font-weight: bold;
}
.guideline-group.horizontal .size-value {
transform-origin: 50% 100%;
transform: translateX(-50%);
left: 50%;
bottom: 5px;
bottom: calc(2px + 3px * var(--zoom));
}
.guideline-group.vertical .size-value {
transform-origin: 0% 50%;
top: 50%;
transform: translateY(-50%);
left: 5px;
left: calc(2px + 3px * var(--zoom));
}
.guideline.gap {
background: #f55;
}
.size-value.gap {
color: #f55;
}
`],render:function(t,r){var e=t.state,n=e.top,i=e.left,a=e.pos1,o=e.pos2,s=e.pos3,l=e.pos4,u=e.snapRenderInfo,f=t.props.snapRenderThreshold,c=f===void 0?1:f;if(!u||!u.render||!sn(t,""))return He(t,"boundMap",ke(),function(rt){return JSON.stringify(rt)}),He(t,"innerBoundMap",ke(),function(rt){return JSON.stringify(rt)}),[];e.guidelines=_o(t);var d=Math.min(a[0],o[0],s[0],l[0]),v=Math.min(a[1],o[1],s[1],l[1]),p=u.externalPoses||[],h=xr(t.state),g=[],m=[],b=[],x=[],_=[],S=mr(h),y=S.width,C=S.height,D=S.top,M=S.left,R=S.bottom,z=S.right,I={left:M,right:z,top:D,bottom:R,center:(M+z)/2,middle:(D+R)/2},P=p.length>0,B=P?mr(p):{};if(!u.request){if(u.direction&&_.push(a0(t,h,u.direction,c,c)),u.snap){var G=mr(h);u.center&&(G.middle=(G.top+G.bottom)/2,G.center=(G.left+G.right)/2),_.push(Sl(t,G,c,c))}P&&(u.center&&(B.middle=(B.top+B.bottom)/2,B.center=(B.left+B.right)/2),_.push(Sl(t,B,c,c))),_.forEach(function(rt){var at=rt.vertical.posInfos,tt=rt.horizontal.posInfos;g.push.apply(g,K([],O(at.filter(function(ot){var ft=ot.guidelineInfos;return ft.some(function(pt){var _t=pt.guideline;return!_t.hide})}).map(function(ot){return{type:"snap",pos:ot.pos}})),!1)),m.push.apply(m,K([],O(tt.filter(function(ot){var ft=ot.guidelineInfos;return ft.some(function(pt){var _t=pt.guideline;return!_t.hide})}).map(function(ot){return{type:"snap",pos:ot.pos}})),!1)),b.push.apply(b,K([],O(Al(at)),!1)),x.push.apply(x,K([],O(Al(tt)),!1))})}var V=zl(t,[M,z],[D,R],g,m),$=V.boundMap,N=V.innerBoundMap;P&&zl(t,[B.left,B.right],[B.top,B.bottom],g,m,u.externalBounds);var U=K(K([],O(b),!1),O(x),!1),Z=U.filter(function(rt){return rt.element&&!rt.gapRects}),H=U.filter(function(rt){return rt.gapRects}).sort(function(rt,at){return rt.gap-at.gap});st(t,"onSnap",{guidelines:U.filter(function(rt){var at=rt.element;return!at}),elements:Z,gaps:H},!0);var J=He(t,"boundMap",$,function(rt){return JSON.stringify(rt)},ke()),nt=He(t,"innerBoundMap",N,function(rt){return JSON.stringify(rt)},ke());return($===J||N===nt)&&st(t,"onBound",{bounds:$,innerBounds:N},!0),K(K(K(K(K(K([],O(M0(t,Z,[d,v],I,r)),!1),O(w0(t,H,[d,v],I,r)),!1),O(Ol(t,"horizontal",x,[i,n],I,r)),!1),O(Ol(t,"vertical",b,[i,n],I,r)),!1),O(Rl(t,"horizontal",m,d,n,y,0,r)),!1),O(Rl(t,"vertical",g,v,i,C,1,r)),!1)},dragStart:function(t,r){t.state.snapRenderInfo={request:r.isRequest,snap:!0,center:!0},ci(t)},drag:function(t){var r=t.state;ci(t)||(r.guidelines=_o(t)),r.snapRenderInfo&&(r.snapRenderInfo.render=!0)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t,r){if(H0(t,r)||bo(t,r))return!0;if(!r.isRequest&&r.inputEvent)return Nt(r.inputEvent.target,ct("snap-control"))},dragControlStart:function(t){t.state.snapRenderInfo=null,ci(t)},dragControl:function(t){this.drag(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,r){this.dragStart(t,r)},dragGroup:function(t){this.drag(t)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t){t.state.snapRenderInfo=null,ci(t)},dragGroupControl:function(t){this.drag(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var r=t.state;r.enableSnap=!1,r.guidelines=[],r.snapRenderInfo=null,r.elementRects=[]}};function W0(t,r){return[t[0]*r[0],t[1]*r[1]]}function ct(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Fp.apply(void 0,K([is],O(t),!1))}function Sc(t){t()}function $0(t){return!t||t==="none"?[1,0,0,1,0,0]:wr(t)?t:Bn(t)}function Cn(t,r,e){return Pi(r,Me(e,r),t,Me(e.map(function(n){return-n}),r))}function V0(t,r,e){if(r==="%"){var n=ps(t.ownerSVGElement);return n[e?"width":"height"]/100}return 1}function Y0(t){var r=X0(gs(t,":before"));return r.map(function(e,n){var i=$n(e),a=i.value,o=i.unit;return a*V0(t,o,n===0)})}function Fi(t){return t?t.split(" "):["0","0"]}function X0(t){return Fi(t.transformOrigin)}function Ec(t){var r=ur(t),e=r("transform");if(e&&e!=="none")return e;if("transform"in t){var n=t.transform,i=n.baseVal;if(!i)return"";var a=i.length;if(!a)return"";for(var o=[],s=function(u){var f=i[u].matrix;o.push("matrix(".concat(["a","b","c","d","e","f"].map(function(c){return f[c]}).join(", "),")"))},l=0;l<a;++l)s(l);return o.join(" ")}return""}function Fn(t,r,e,n,i){var a,o,s=qo(t)||ue(t),l=!1,u,f;if(!t||e)u=t;else{var c=(a=t==null?void 0:t.assignedSlot)===null||a===void 0?void 0:a.parentElement,d=t.parentElement;c?(l=!0,f=d,u=c):u=d}for(var v=!1,p=t===r||u===r,h="relative",g=1,m=parseFloat(i==null?void 0:i("zoom"))||1,b=i==null?void 0:i("position");u&&u!==s;){r===u&&(p=!0);var x=ur(u),_=u.tagName.toLowerCase(),S=Ec(u),y=x("willChange"),C=parseFloat(x("zoom"))||1;if(h=x("position"),n&&C!==1){g=C;break}if(!e&&n&&m!==1&&b&&b!=="absolute"||_==="svg"||_==="foreignobject"||h!=="static"||S&&S!=="none"||y==="transform")break;var D=(o=t==null?void 0:t.assignedSlot)===null||o===void 0?void 0:o.parentNode,M=u.parentNode;D&&(l=!0,f=M);var R=M;if(R&&R.nodeType===11){u=R.host,v=!0,h=ur(u)("position");break}u=R,h="relative"}return{offsetZoom:g,hasSlot:l,parentSlotElement:f,isCustomElement:v,isStatic:h==="static",isEnd:p||!u||u===s,offsetParent:u||s}}function q0(t,r){var e,n=t.tagName.toLowerCase(),i=t.offsetLeft,a=t.offsetTop,o=ur(t),s=Wn(i),l=!s,u,f;return!l&&(n!=="svg"||t.ownerSVGElement)?(u=Wf?Y0(t):Fi(o("transformOrigin")).map(function(c){return parseFloat(c)}),f=u.slice(),l=!0,n==="svg"?(i=0,a=0):(e=O(K0(t,u,t===r&&r.tagName.toLowerCase()==="g"),4),i=e[0],a=e[1],u[0]=e[2],u[1]=e[3])):(u=Fi(o("transformOrigin")).map(function(c){return parseFloat(c)}),f=u.slice()),{tagName:n,isSVG:s,hasOffset:l,offset:[i||0,a||0],origin:u,targetOrigin:f}}function Cc(t,r){var e=ur(t),n=ur(ue(t)),i=n("position");if(!r&&(!i||i==="static"))return[0,0];var a=parseInt(n("marginLeft"),10),o=parseInt(n("marginTop"),10);return e("position")==="absolute"&&((e("top")!=="auto"||e("bottom")!=="auto")&&(o=0),(e("left")!=="auto"||e("right")!=="auto")&&(a=0)),[a,o]}function xo(t){t.forEach(function(r){var e=r.matrix;e&&(r.matrix=Tr(e,3,4))})}function j0(t){for(var r=t.parentElement,e=!1,n=ue(t);r;){var i=gs(r).transform;if(i&&i!=="none"){e=!0;break}if(r===n)break;r=r.parentElement}return{fixedContainer:r||n,hasTransform:e}}function fa(t,r){return r===void 0&&(r=t.length>9),"".concat(r?"matrix3d":"matrix","(").concat(zf(t,!r).join(","),")")}function ps(t){var r=t.clientWidth,e=t.clientHeight;if(!t)return{x:0,y:0,width:0,height:0,clientWidth:r,clientHeight:e};var n=t.viewBox,i=n&&n.baseVal||{x:0,y:0,width:0,height:0};return{x:i.x,y:i.y,width:i.width||r,height:i.height||e,clientWidth:r,clientHeight:e}}function U0(t,r){var e,n=ps(t),i=n.width,a=n.height,o=n.clientWidth,s=n.clientHeight,l=o/i,u=s/a,f=t.preserveAspectRatio.baseVal,c=f.align,d=f.meetOrSlice,v=[0,0],p=[l,u],h=[0,0];if(c!==1){var g=(c-2)%3,m=Math.floor((c-2)/3);v[0]=i*g/2,v[1]=a*m/2;var b=d===2?Math.max(u,l):Math.min(l,u);p[0]=b,p[1]=b,h[0]=(o-i)/2*g,h[1]=(s-a)/2*m}var x=ts(p,r);return e=O(h,2),x[r*(r-1)]=e[0],x[r*(r-1)+1]=e[1],Cn(x,r,v)}function K0(t,r,e){var n=t.tagName.toLowerCase();if(!t.getBBox||!e&&n==="g")return[0,0,0,0];var i=ur(t),a=i("transform-box")==="fill-box",o=t.getBBox(),s=ps(t.ownerSVGElement),l=o.x,u=o.y;n==="foreignobject"&&!l&&!u&&(l=parseFloat(t.getAttribute("x"))||0,u=parseFloat(t.getAttribute("y"))||0);var f=l-s.x,c=u-s.y,d=a?r[0]:r[0]-f,v=a?r[1]:r[1]-c;return[f,c,d,v]}function Pt(t,r,e){return Kt(t,De(r,e),e)}function Pe(t,r,e,n){return[[0,0],[r,0],[0,e],[r,e]].map(function(i){return Pt(t,i,n)})}function mr(t){var r=t.map(function(u){return u[0]}),e=t.map(function(u){return u[1]}),n=Math.min.apply(Math,K([],O(r),!1)),i=Math.min.apply(Math,K([],O(e),!1)),a=Math.max.apply(Math,K([],O(r),!1)),o=Math.max.apply(Math,K([],O(e),!1)),s=a-n,l=o-i;return{left:n,top:i,right:a,bottom:o,width:s,height:l}}function Bl(t,r,e,n){var i=Pe(t,r,e,n);return mr(i)}function Z0(t,r,e,n,i){var a,o=t.target,s=t.origin,l=r.matrix,u=Mc(o),f=u.offsetWidth,c=u.offsetHeight,d=e.getBoundingClientRect(),v=[0,0];e===ue(e)&&(v=Cc(o,!0));for(var p=o.getBoundingClientRect(),h=p.left-d.left+e.scrollLeft-(e.clientLeft||0)+v[0],g=p.top-d.top+e.scrollTop-(e.clientTop||0)+v[1],m=p.width,b=p.height,x=Pi(n,i,l),_=Bl(x,f,c,n),S=_.left,y=_.top,C=_.width,D=_.height,M=Pt(x,s,n),R=dt(M,[S,y]),z=[h+R[0]*m/C,g+R[1]*b/D],I=[0,0],P=0;++P<10;){var B=Fr(i,n);a=O(dt(Pt(B,z,n),Pt(B,M,n)),2),I[0]=a[0],I[1]=a[1];var G=Pi(n,i,Me(I,n),l),V=Bl(G,f,c,n),$=V.left,N=V.top,U=$-h,Z=N-g;if(q(U)<2&&q(Z)<2)break;z[0]-=U,z[1]-=Z}return I.map(function(H){return Math.round(H)})}function J0(t,r,e){var n=t.length===16,i=n?4:3,a=r.map(function(l){return Pt(t,l,i)}),o=e.left,s=e.top;return a.map(function(l){return[l[0]+o,l[1]+s]})}function _r(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Dc(t,r){return _r([r[0]-t[0],r[1]-t[1]])}function pn(t,r,e,n){e===void 0&&(e=1),n===void 0&&(n=At(t,r));var i=Dc(t,r);return{transform:"translateY(-50%) translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(n,"rad) scaleY(").concat(e,")"),width:"".concat(i,"px")}}function ki(t,r){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var i=e.length,a=e.reduce(function(s,l){return s+l[0]},0)/i,o=e.reduce(function(s,l){return s+l[1]},0)/i;return{transform:"translateZ(0px) translate(".concat(a,"px, ").concat(o,"px) rotate(").concat(t,"rad) scale(").concat(r,")")}}function Te(t,r){var e=t[r];return wr(e)?T(T({},t),e):t}function Mc(t){var r=t&&!Wn(t.offsetWidth),e=0,n=0,i=0,a=0,o=0,s=0,l=0,u=0,f=0,c=0,d=0,v=0,p=1/0,h=1/0,g=1/0,m=1/0,b=0,x=0,_=!1;if(t)if(!r&&t.ownerSVGElement){var S=t.getBBox();_=!0,e=S.width,n=S.height,o=e,s=n,l=e,u=n,i=e,a=n}else{var y=ur(t),C=t.style,D=y("boxSizing")==="border-box",M=parseFloat(y("borderLeftWidth"))||0,R=parseFloat(y("borderRightWidth"))||0,z=parseFloat(y("borderTopWidth"))||0,I=parseFloat(y("borderBottomWidth"))||0,P=parseFloat(y("paddingLeft"))||0,B=parseFloat(y("paddingRight"))||0,G=parseFloat(y("paddingTop"))||0,V=parseFloat(y("paddingBottom"))||0,$=P+B,N=G+V,U=M+R,Z=z+I,H=$+U,J=N+Z,nt=y("position"),rt=0,at=0;if("clientLeft"in t){var tt=null;if(nt==="absolute"){var ot=Fn(t,ue(t));tt=ot.offsetParent}else tt=t.parentElement;if(tt){var ft=ur(tt);rt=parseFloat(ft("width")),at=parseFloat(ft("height"))}}f=Math.max($,Dt(y("minWidth"),rt)||0),c=Math.max(N,Dt(y("minHeight"),at)||0),p=Dt(y("maxWidth"),rt),h=Dt(y("maxHeight"),at),isNaN(p)&&(p=1/0),isNaN(h)&&(h=1/0),b=Dt(C.width,0)||0,x=Dt(C.height,0)||0,o=parseFloat(y("width"))||0,s=parseFloat(y("height"))||0,l=q(o-b)<1?Ja(f,b||o,p):o,u=q(s-x)<1?Ja(c,x||s,h):s,e=l,n=u,i=l,a=u,D?(g=p,m=h,d=f,v=c,l=e-H,u=n-J):(g=p+H,m=h+J,d=f+H,v=c+J,e=l+H,n=u+J),i=l+$,a=u+N}return{svg:_,offsetWidth:e,offsetHeight:n,clientWidth:i,clientHeight:a,contentWidth:l,contentHeight:u,inlineCSSWidth:b,inlineCSSHeight:x,cssWidth:o,cssHeight:s,minWidth:f,minHeight:c,maxWidth:p,maxHeight:h,minOffsetWidth:d,minOffsetHeight:v,maxOffsetWidth:g,maxOffsetHeight:m}}function wc(t,r){return At(r>0?t[0]:t[1],r>0?t[1]:t[0])}function di(){return{left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function Tc(t,r){var e=t===ue(t)||t===qo(t),n={clientLeft:t.clientLeft,clientTop:t.clientTop,clientWidth:t.clientWidth,clientHeight:t.clientHeight,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight,overflow:!1};return e&&(n.clientHeight=Math.max(r.height,n.clientHeight),n.scrollHeight=Math.max(r.height,n.scrollHeight)),n.overflow=ur(t)("overflow")!=="visible",T(T({},r),n)}function ka(t,r,e,n){var i=t.left,a=t.right,o=t.top,s=t.bottom,l=r.top,u=r.left,f={left:u+i,top:l+o,right:u+a,bottom:l+s,width:a-i,height:s-o};return e&&n?Tc(e,f):f}function Dn(t,r){var e=0,n=0,i=0,a=0;if(t){var o=t.getBoundingClientRect();e=o.left,n=o.top,i=o.width,a=o.height}var s={left:e,top:n,width:i,height:a,right:e+i,bottom:n+a};return t&&r?Tc(t,s):s}function Q0(t){var r=t.props,e=r.groupable,n=r.svgOrigin,i=t.getState(),a=i.offsetWidth,o=i.offsetHeight,s=i.svg,l=i.transformOrigin;return!e&&s&&n?xs(n,a,o):l}function Rc(t,r,e,n){var i;if(t)i=t;else if(r)i=[0,0];else{var a=e.target;i=Oc(a,n)}return i}function Oc(t,r){if(t){var e=t.getAttribute("data-rotation")||"",n=t.getAttribute("data-direction");if(r.deg=e,!!n){var i=[0,0];return n.indexOf("w")>-1&&(i[0]=-1),n.indexOf("e")>-1&&(i[0]=1),n.indexOf("n")>-1&&(i[1]=-1),n.indexOf("s")>-1&&(i[1]=1),i}}}function hs(t,r){return[yt(r,t[0]),yt(r,t[1]),yt(r,t[2]),yt(r,t[3])]}function xr(t){var r=t.left,e=t.top,n=t.pos1,i=t.pos2,a=t.pos3,o=t.pos4;return hs([n,i,a,o],[r,e])}function yo(t,r){t[r?"controlAbles":"targetAbles"].forEach(function(e){e.unset&&e.unset(t)})}function Ne(t,r){var e=r?"controlGesto":"targetGesto",n=t[e];(n==null?void 0:n.isIdle())===!1&&yo(t,r),n==null||n.unset(),t[e]=null}function nr(t,r){if(r){var e=on(r);e.nextStyle=T(T({},e.nextStyle),t)}return{style:t,cssText:qr(t).map(function(n){return"".concat(xi(n,"-"),": ").concat(t[n],";")}).join("")}}function Pc(t,r,e){var n=r.afterTransform||r.transform;return T(T({},nr(T(T(T({},t.style),r.style),{transform:n}),e)),{afterTransform:n,transform:t.transform})}function mt(t,r,e,n){var i=r.datas;i.datas||(i.datas={});var a=T(T({},e),{target:t.state.target,clientX:r.clientX,clientY:r.clientY,inputEvent:r.inputEvent,currentTarget:t,moveable:t,datas:i.datas,isRequest:r.isRequest,isRequestChild:r.isRequestChild,isFirstDrag:!!r.isFirstDrag,isTrusted:r.isTrusted!==!1,stopAble:function(){i.isEventStart=!1},stopDrag:function(){var o;(o=r.stop)===null||o===void 0||o.call(r)}});return i.isStartEvent?n||(i.lastEvent=a):i.isStartEvent=!0,a}function vr(t,r,e){var n=r.datas,i="isDrag"in e?e.isDrag:r.isDrag;return n.datas||(n.datas={}),T(T({isDrag:i},e),{moveable:t,target:t.state.target,clientX:r.clientX,clientY:r.clientY,inputEvent:r.inputEvent,currentTarget:t,lastEvent:n.lastEvent,isDouble:r.isDouble,datas:n.datas,isFirstDrag:!!r.isFirstDrag})}function ca(t,r,e){t._emitter.on(r,e)}function st(t,r,e,n,i){return t.triggerEvent(r,e,n,i)}function gs(t,r){return ee(t).getComputedStyle(t,r)}function vi(t,r,e){var n={},i={};return t.filter(function(a){var o=a.name;if(n[o]||!r.some(function(s){return a[s]}))return!1;if(!e&&a.ableGroup){if(i[a.ableGroup])return!1;i[a.ableGroup]=!0}return n[o]=!0,!0})}function So(t,r){return t===r||t==null&&r==null}function Gl(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var e=t.length-1,n=0;n<e;++n){var i=t[n];if(!Wn(i))return i}return t[e]}function Ic(t,r){var e=[],n=[];return t.forEach(function(i,a){var o=r(i,a,t),s=n.indexOf(o),l=e[s]||[];s===-1&&(n.push(o),e.push(l)),l.push(i)}),e}function tm(t,r){var e=[],n={};return t.forEach(function(i,a){var o=r(i,a,t),s=n[o];s||(s=[],n[o]=s,e.push(s)),s.push(i)}),e}function Ac(t){return t.reduce(function(r,e){return r.concat(e)},[])}function Qe(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.sort(function(e,n){return q(n)-q(e)}),t[0]}function tn(t,r,e){return Kt(Fr(t,e),De(r,e),e)}function rm(t,r){var e,n=t.is3d,i=t.rootMatrix,a=n?4:3;return e=O(tn(i,[r.distX,r.distY],a),2),r.distX=e[0],r.distY=e[1],r}function hr(t,r,e,n){if(!e[0]&&!e[1])return r;var i=Pt(t,[Il(e[0]||1),0],n),a=Pt(t,[0,Il(e[1]||1)],n),o=Pt(t,[e[0]/_r(i),e[1]/_r(a)],n);return yt(r,o)}function yr(t,r,e){return e?"".concat(t/r*100,"%"):"".concat(t,"px")}function Ni(t){return q(t)<=ir?0:t}function ms(t){return function(r){if(!r.isDragging(t))return"";var e=Vg(r,t),n=e.deg;return n?ct("view-control-rotation".concat(n)):""}}function bs(t,r){return r===void 0&&(r=[t]),function(e,n){if(n.isRequest)return r.some(function(a){return n.requestAble===a})?n.parentDirection:!1;var i=n.inputEvent.target;return Nt(i,ct("direction"))&&(!t||Nt(i,ct(t)))}}function em(t,r,e){var n,i=Ke(t,{"x%":function(S){return S/100*r.offsetWidth},"y%":function(S){return S/100*r.offsetHeight}}),a=t.slice(0,e<0?void 0:e),o=t.slice(0,e<0?void 0:e+1),s=t[e]||"",l=e<0?[]:t.slice(e),u=e<0?[]:t.slice(e+1),f=i.slice(0,e<0?void 0:e),c=i.slice(0,e<0?void 0:e+1),d=(n=i[e])!==null&&n!==void 0?n:Ke([""])[0],v=e<0?[]:i.slice(e),p=e<0?[]:i.slice(e+1),h=d?[d]:[],g=Be(f),m=Be(c),b=Be(v),x=Be(p),_=Mt(g,b,4);return{transforms:t,beforeFunctionMatrix:g,beforeFunctionMatrix2:m,targetFunctionMatrix:Be(h),afterFunctionMatrix:b,afterFunctionMatrix2:x,allFunctionMatrix:_,beforeFunctions:f,beforeFunctions2:c,targetFunction:h[0],afterFunctions:v,afterFunctions2:p,beforeFunctionTexts:a,beforeFunctionTexts2:o,targetFunctionText:s,afterFunctionTexts:l,afterFunctionTexts2:u}}function nm(t){return!t||!wr(t)||nn(t)?!1:Ft(t)||"length"in t}function Br(t,r){return t?nn(t)?t:sr(t)?r?document.querySelector(t):t:Vo(t)?t():df(t)?t:"current"in t?t.current:t:null}function _s(t,r){if(!t)return[];var e=nm(t)?[].slice.call(t):[t];return e.reduce(function(n,i){return sr(i)&&r?K(K([],O(n),!1),O([].slice.call(document.querySelectorAll(i))),!1):(Ft(i)?n.push(_s(i,r)):n.push(Br(i,r)),n)},[])}function im(t,r,e){var n=At(t,r)/Math.PI*180;return n=e>=0?n:180-n,n=n>=0?n:360+n,n}function Fl(t,r){var e=t.rootMatrix,n=t.is3d,i=n?4:3,a=Fr(e,i);return n||(a=Tr(a,3,4)),a[12]=0,a[13]=0,a[14]=0,Lh(a,r)}function zc(t,r,e,n,i){var a=O(t,2),o=a[0],s=a[1],l=0,u=0;if(i&&o&&s){var f=At([0,0],r),c=At([0,0],n),d=_r(r),v=Math.cos(f-c)*d;if(!n[0])u=v,l=u*e;else if(!n[1])l=v,u=l/e;else{var p=n[0]*o,h=n[1]*s,g=Math.atan2(p+r[0],h+r[1]),m=Math.atan2(p,h);g<0&&(g+=Math.PI*2),m<0&&(m+=Math.PI*2);var b=0;q(g-m)<Math.PI/2||q(g-m)>Math.PI/2*3||(m+=Math.PI),b=g-m,b>Math.PI*2?b-=Math.PI*2:b>Math.PI?b=2*Math.PI-b:b<-Math.PI&&(b=-2*Math.PI-b);var x=_r([p+r[0],h+r[1]])*Math.cos(b);l=x*Math.sin(m)-p,u=x*Math.cos(m)-h,n[0]<0&&(l*=-1),n[1]<0&&(u*=-1)}}else l=n[0]*r[0],u=n[1]*r[1];return[l,u]}function Bc(t,r,e,n){var i,a=e.ratio,o=e.startOffsetWidth,s=e.startOffsetHeight,l=0,u=0,f=n.distX,c=n.distY,d=n.pinchScale,v=n.parentDistance,p=n.parentDist,h=n.parentScale,g=e.fixedDirection,m=[0,1].map(function(C){return q(t[C]-g[C])}),b=[0,1].map(function(C){var D=m[C];return D!==0&&(D=2/D),D});if(p)l=p[0],u=p[1],r&&(l?u||(u=l/a):l=u*a);else if(Ue(d))l=(d-1)*o,u=(d-1)*s;else if(h)l=(h[0]-1)*o,u=(h[1]-1)*s;else if(v){var x=o*m[0],_=s*m[1],S=_r([x,_]);l=v/S*x*b[0],u=v/S*_*b[1]}else{var y=kr({datas:e,distX:f,distY:c});y=b.map(function(C,D){return y[D]*C}),i=O(zc([o,s],y,a,t,r),2),l=i[0],u=i[1]}return{distWidth:l,distHeight:u}}function Eo(t,r){if(r){if(t==="left")return{x:"0%",y:"50%"};if(t==="top")return{x:"50%",y:"50%"};if(t==="center")return{x:"50%",y:"50%"};if(t==="right")return{x:"100%",y:"50%"};if(t==="bottom")return{x:"50%",y:"100%"};var e=O(t.split(" "),2),n=e[0],i=e[1],a=Eo(n||""),o=Eo(i||""),s=T(T({},a),o),l={x:"50%",y:"50%"};return s.x&&(l.x=s.x),s.y&&(l.y=s.y),s.value&&(s.x&&!s.y&&(l.y=s.value),!s.x&&s.y&&(l.x=s.value)),l}return t==="left"?{x:"0%"}:t==="right"?{x:"100%"}:t==="top"?{y:"0%"}:t==="bottom"?{y:"100%"}:t?t==="center"?{value:"50%"}:{value:t}:{}}function xs(t,r,e){var n=Eo(t,!0),i=n.x,a=n.y;return[Dt(i,r)||0,Dt(a,e)||0]}function am(t,r,e){var n=t.map(function(a){return dt(a,r)}),i=n.map(function(a){return qn(a,e)});return{prev:n,next:i,result:i.map(function(a){return yt(a,r)})}}function Gc(t,r){return t.length===r.length&&t.every(function(e,n){var i=r[n],a=Ft(e),o=Ft(i);return a&&o?Gc(e,i):!a&&!o?e===i:!1})}function He(t,r,e,n,i){var a=t._store,o=a[r];if(!(r in a))if(i!=null)a[r]=i,o=i;else return a[r]=e,e;return o===e||n(o)===n(e)?o:(a[r]=e,e)}function rr(t){return t>=0?1:-1}function q(t){return Math.abs(t)}function Na(t,r){return th(t).map(function(e){return r(e)})}function Fc(t){return Ue(t)?{top:t,left:t,right:t,bottom:t}:{left:t.left||0,top:t.top||0,right:t.right||0,bottom:t.bottom||0}}var om=Kn("pinchable",{props:["pinchable"],events:["pinchStart","pinch","pinchEnd","pinchGroupStart","pinchGroup","pinchGroupEnd"],dragStart:function(){return!0},pinchStart:function(t,r){var e=r.datas,n=r.targets,i=r.angle,a=r.originalDatas,o=t.props,s=o.pinchable,l=o.ables;if(!s)return!1;var u="onPinch".concat(n?"Group":"","Start"),f="drag".concat(n?"Group":"","ControlStart"),c=(s===!0?t.controlAbles:l.filter(function(h){return s.indexOf(h.name)>-1})).filter(function(h){return h.canPinch&&h[f]}),d=mt(t,r,{});n&&(d.targets=n);var v=st(t,u,d);e.isPinch=v!==!1,e.ables=c;var p=e.isPinch;return p?(c.forEach(function(h){if(a[h.name]=a[h.name]||{},!!h[f]){var g=T(T({},r),{datas:a[h.name],parentRotate:i,isPinch:!0});h[f](t,g)}}),t.state.snapRenderInfo={request:r.isRequest,direction:[0,0]},p):!1},pinch:function(t,r){var e=r.datas,n=r.scale,i=r.distance,a=r.originalDatas,o=r.inputEvent,s=r.targets,l=r.angle;if(e.isPinch){var u=i*(1-1/n),f=mt(t,r,{});s&&(f.targets=s);var c="onPinch".concat(s?"Group":"");st(t,c,f);var d=e.ables,v="drag".concat(s?"Group":"","Control");return d.forEach(function(p){p[v]&&p[v](t,T(T({},r),{datas:a[p.name],inputEvent:o,resolveMatrix:!0,pinchScale:n,parentDistance:u,parentRotate:l,isPinch:!0}))}),f}},pinchEnd:function(t,r){var e=r.datas,n=r.isPinch,i=r.inputEvent,a=r.targets,o=r.originalDatas;if(e.isPinch){var s="onPinch".concat(a?"Group":"","End"),l=vr(t,r,{isDrag:n});a&&(l.targets=a),st(t,s,l);var u=e.ables,f="drag".concat(a?"Group":"","ControlEnd");return u.forEach(function(c){c[f]&&c[f](t,T(T({},r),{isDrag:n,datas:o[c.name],inputEvent:i,isPinch:!0}))}),n}},pinchGroupStart:function(t,r){return this.pinchStart(t,T(T({},r),{targets:t.props.targets}))},pinchGroup:function(t,r){return this.pinch(t,T(T({},r),{targets:t.props.targets}))},pinchGroupEnd:function(t,r){return this.pinchEnd(t,T(T({},r),{targets:t.props.targets}))}}),kl=bs("scalable"),sm={name:"scalable",ableGroup:"size",canPinch:!0,props:["scalable","throttleScale","renderDirections","keepRatio","edge","displayAroundControls"],events:["scaleStart","beforeScale","scale","scaleEnd","scaleGroupStart","beforeScaleGroup","scaleGroup","scaleGroupEnd"],render:nc("scalable"),dragControlCondition:kl,viewClassName:ms("scalable"),dragControlStart:function(t,r){var e=r.datas,n=r.isPinch,i=r.inputEvent,a=r.parentDirection,o=Rc(a,n,i,e),s=t.state,l=s.width,u=s.height,f=s.targetTransform,c=s.target,d=s.pos1,v=s.pos2,p=s.pos4;if(!o||!c)return!1;n||Oe(t,r),e.datas={},e.transform=f,e.prevDist=[1,1],e.direction=o,e.startOffsetWidth=l,e.startOffsetHeight=u,e.startValue=[1,1];var h=!o[0]&&!o[1]||o[0]||!o[1];oa(t,r,"scale"),e.isWidth=h;function g(y){e.ratio=y&&isFinite(y)?y:0}e.startPositions=xr(t.state);function m(y){var C=hc(e.startPositions,y);e.fixedDirection=C.fixedDirection,e.fixedPosition=C.fixedPosition,e.fixedOffset=C.fixedOffset}e.setFixedDirection=m,g(Vr(d,v)/Vr(v,p)),m([-o[0],-o[1]]);var b=function(y){e.minScaleSize=y},x=function(y){e.maxScaleSize=y};b([-1/0,-1/0]),x([1/0,1/0]);var _=mt(t,r,T(T({direction:o,set:function(y){e.startValue=y},setRatio:g,setFixedDirection:m,setMinScaleSize:b,setMaxScaleSize:x},aa(t,r)),{dragStart:tr.dragStart(t,new Ze().dragStart([0,0],r))})),S=st(t,"onScaleStart",_);return e.startFixedDirection=e.fixedDirection,S!==!1&&(e.isScale=!0,t.state.snapRenderInfo={request:r.isRequest,direction:o}),e.isScale?_:!1},dragControl:function(t,r){na(t,r,"scale");var e=r.datas,n=r.parentKeepRatio,i=r.parentFlag,a=r.isPinch,o=r.dragClient,s=r.isRequest,l=r.useSnap,u=r.resolveMatrix,f=e.prevDist,c=e.direction,d=e.startOffsetWidth,v=e.startOffsetHeight,p=e.isScale,h=e.startValue,g=e.isWidth,m=e.ratio;if(!p)return!1;var b=t.props,x=b.throttleScale,_=b.parentMoveable,S=c;!c[0]&&!c[1]&&(S=[1,1]);var y=m&&(n??b.keepRatio)||!1,C=t.state,D=[h[0],h[1]];function M(){var et=Bc(S,y,e,r),E=et.distWidth,w=et.distHeight,A=d?(d+E)/d:1,k=v?(v+w)/v:1;h[0]||(D[0]=E/d),h[1]||(D[1]=w/v);var F=(S[0]||y?A:1)*D[0],L=(S[1]||y?k:1)*D[1];return F===0&&(F=rr(f[0])*li),L===0&&(L=rr(f[1])*li),[F,L]}var R=M();if(!a&&t.props.groupable){var z=C.snapRenderInfo||{},I=z.direction;Ft(I)&&(I[0]||I[1])&&(C.snapRenderInfo={direction:c,request:r.isRequest})}st(t,"onBeforeScale",mt(t,r,{scale:R,setFixedDirection:function(et){return e.setFixedDirection(et),R=M(),R},startFixedDirection:e.startFixedDirection,setScale:function(et){R=et}},!0));var P=[R[0]/D[0],R[1]/D[1]],B=o,G=[0,0],V=rr(P[0]*P[1]),$=!o&&!i&&a;if($||u?B=ss(t,e.targetAllTransform,[0,0],[0,0],e):o||(B=e.fixedPosition),a||(G=k0(t,P,c,!l&&s,e)),y){S[0]&&S[1]&&G[0]&&G[1]&&(Math.abs(G[0]*d)>Math.abs(G[1]*v)?G[1]=0:G[0]=0);var N=!G[0]&&!G[1];if(N&&(g?P[0]=vt(P[0]*D[0],x)/D[0]:P[1]=vt(P[1]*D[1],x)/D[1]),S[0]&&!S[1]||G[0]&&!G[1]||N&&g){P[0]+=G[0];var U=d*P[0]*D[0]/m;P[1]=rr(V*P[0])*q(U/v/D[1])}else if(!S[0]&&S[1]||!G[0]&&G[1]||N&&!g){P[1]+=G[1];var Z=v*P[1]*D[1]*m;P[0]=rr(V*P[1])*q(Z/d/D[0])}}else P[0]+=G[0],P[1]+=G[1],G[0]||(P[0]=vt(P[0]*D[0],x)/D[0]),G[1]||(P[1]=vt(P[1]*D[1],x)/D[1]);P[0]===0&&(P[0]=rr(f[0])*li),P[1]===0&&(P[1]=rr(f[1])*li),R=W0(P,[D[0],D[1]]);var H=[d,v],J=[d*R[0],v*R[1]];J=sf(J,e.minScaleSize,e.maxScaleSize,y?m:!1),R=Na(2,function(et){return H[et]?J[et]/H[et]:J[et]}),P=Na(2,function(et){return R[et]/D[et]});var nt=Na(2,function(et){return f[et]?P[et]/f[et]:P[et]}),rt="scale(".concat(P.join(", "),")"),at="scale(".concat(R.join(", "),")"),tt=ia(e,at,rt),ot=!h[0]||!h[1],ft=kg(t,ot?at:rt,e.fixedDirection,B,e.fixedOffset,e,ot),pt=$?ft:dt(ft,e.prevInverseDist||[0,0]);if(e.prevDist=P,e.prevInverseDist=ft,R[0]===f[0]&&R[1]===f[1]&&pt.every(function(et){return!et})&&!_&&!$)return!1;var _t=mt(t,r,T({offsetWidth:d,offsetHeight:v,direction:c,scale:R,dist:P,delta:nt,isPinch:!!a},Zf(t,tt,pt,a,r)));return st(t,"onScale",_t),_t},dragControlEnd:function(t,r){var e=r.datas;if(!e.isScale)return!1;e.isScale=!1;var n=vr(t,r,{});return st(t,"onScaleEnd",n),n},dragGroupControlCondition:kl,dragGroupControlStart:function(t,r){var e=r.datas,n=this.dragControlStart(t,r);if(!n)return!1;var i=Mr(t,"resizable",r);e.moveableScale=t.scale;var a=Yr(t,this,"dragControlStart",r,function(u,f){return zi(t,u,e,f)}),o=function(u){n.setFixedDirection(u),a.forEach(function(f,c){f.setFixedDirection(u),zi(t,f.moveable,e,i[c])})};e.setFixedDirection=o;var s=T(T({},n),{targets:t.props.targets,events:a,setFixedDirection:o}),l=st(t,"onScaleGroupStart",s);return e.isScale=l!==!1,e.isScale?s:!1},dragGroupControl:function(t,r){var e=r.datas;if(e.isScale){ca(t,"onBeforeScale",function(f){st(t,"onBeforeScaleGroup",mt(t,r,T(T({},f),{targets:t.props.targets}),!0))});var n=this.dragControl(t,r);if(n){var i=n.dist,a=e.moveableScale;t.scale=[i[0]*a[0],i[1]*a[1]];var o=t.props.keepRatio,s=e.fixedPosition,l=Yr(t,this,"dragControl",r,function(f,c){var d=O(Kt(jn(t.rotation/180*Math.PI,3),[c.datas.originalX*i[0],c.datas.originalY*i[1],1],3),2),v=d[0],p=d[1];return T(T({},c),{parentDist:null,parentScale:i,parentKeepRatio:o,dragClient:yt(s,[v,p])})}),u=T({targets:t.props.targets,events:l},n);return st(t,"onScaleGroup",u),u}}},dragGroupControlEnd:function(t,r){var e=r.isDrag,n=r.datas;if(n.isScale){this.dragControlEnd(t,r);var i=Yr(t,this,"dragControlEnd",r),a=vr(t,r,{targets:t.props.targets,events:i});return st(t,"onScaleGroupEnd",a),e}},request:function(){var t={},r=0,e=0,n=!1;return{isControl:!0,requestStart:function(i){return n=i.useSnap,{datas:t,parentDirection:i.direction||[1,1],useSnap:n}},request:function(i){return r+=i.deltaWidth,e+=i.deltaHeight,{datas:t,parentDist:[r,e],parentKeepRatio:i.keepRatio,useSnap:n}},requestEnd:function(){return{datas:t,isDrag:!0,useSnap:n}}}}};function Ur(t,r){return t.map(function(e,n){return Ri(e,r[n],1,2)})}function Nl(t,r,e){var n=At(t,r),i=At(t,e),a=i-n;return a>=0?a:a+2*Math.PI}function lm(t,r){var e=Nl(t[0],t[1],t[2]),n=Nl(r[0],r[1],r[2]),i=Math.PI;return!(e>=i&&n<=i||e<=i&&n>=i)}var um={name:"warpable",ableGroup:"size",props:["warpable","renderDirections","edge","displayAroundControls"],events:["warpStart","warp","warpEnd"],viewClassName:ms("warpable"),render:function(t,r){var e=t.props,n=e.resizable,i=e.scalable,a=e.warpable,o=e.zoom;if(n||i||!a)return[];var s=t.state,l=s.pos1,u=s.pos2,f=s.pos3,c=s.pos4,d=Ur(l,u),v=Ur(u,l),p=Ur(l,f),h=Ur(f,l),g=Ur(f,c),m=Ur(c,f),b=Ur(u,c),x=Ur(c,u);return K([r.createElement("div",{className:ct("line"),key:"middeLine1",style:pn(d,g,o)}),r.createElement("div",{className:ct("line"),key:"middeLine2",style:pn(v,m,o)}),r.createElement("div",{className:ct("line"),key:"middeLine3",style:pn(p,b,o)}),r.createElement("div",{className:ct("line"),key:"middeLine4",style:pn(h,x,o)})],O(ic(t,"warpable",r)),!1)},dragControlCondition:function(t,r){if(r.isRequest)return!1;var e=r.inputEvent.target;return Nt(e,ct("direction"))&&Nt(e,ct("warpable"))},dragControlStart:function(t,r){var e=r.datas,n=r.inputEvent,i=t.props.target,a=n.target,o=Oc(a,e);if(!o||!i)return!1;var s=t.state,l=s.transformOrigin,u=s.is3d,f=s.targetTransform,c=s.targetMatrix,d=s.width,v=s.height,p=s.left,h=s.top;e.datas={},e.targetTransform=f,e.warpTargetMatrix=u?c:Tr(c,3,4),e.targetInverseMatrix=If(Fr(e.warpTargetMatrix,4),3,4),e.direction=o,e.left=p,e.top=h,e.poses=[[0,0],[d,0],[0,v],[d,v]].map(function(b){return dt(b,l)}),e.nextPoses=e.poses.map(function(b){var x=O(b,2),_=x[0],S=x[1];return Kt(e.warpTargetMatrix,[_,S,0,1],4)}),e.startValue=Ot(4),e.prevMatrix=Ot(4),e.absolutePoses=xr(s),e.posIndexes=Kf(o),Oe(t,r),oa(t,r,"matrix3d"),s.snapRenderInfo={request:r.isRequest,direction:o};var g=mt(t,r,T({set:function(b){e.startValue=b}},aa(t,r))),m=st(t,"onWarpStart",g);return m!==!1&&(e.isWarp=!0),e.isWarp},dragControl:function(t,r){var e=r.datas,n=r.isRequest,i=r.distX,a=r.distY,o=e.targetInverseMatrix,s=e.prevMatrix,l=e.isWarp,u=e.startValue,f=e.poses,c=e.posIndexes,d=e.absolutePoses;if(!l)return!1;if(na(t,r,"matrix3d"),sn(t,"warpable")){var v=c.map(function(M){return d[M]});v.length>1&&v.push([(v[0][0]+v[1][0])/2,(v[0][1]+v[1][1])/2]);var p=ua(t,n,{horizontal:v.map(function(M){return M[1]+a}),vertical:v.map(function(M){return M[0]+i})}),h=p.horizontal,g=p.vertical;a-=h.offset,i-=g.offset}var m=kr({datas:e,distX:i,distY:a},!0),b=e.nextPoses.slice();if(c.forEach(function(M){b[M]=yt(b[M],m)}),!Tg.every(function(M){return lm(M.map(function(R){return f[R]}),M.map(function(R){return b[R]}))}))return!1;var x=rs(f[0],f[2],f[1],f[3],b[0],b[2],b[1],b[3]);if(!x.length)return!1;var _=Mt(o,x,4),S=jf(e,_,!0),y=Mt(Fr(s,4),S,4);e.prevMatrix=S;var C=Mt(u,S,4),D=ia(e,"matrix3d(".concat(C.join(", "),")"),"matrix3d(".concat(S.join(", "),")"));return os(r,D),st(t,"onWarp",mt(t,r,T({delta:y,matrix:C,dist:S,multiply:Mt,transform:D},nr({transform:D},r)))),!0},dragControlEnd:function(t,r){var e=r.datas,n=r.isDrag;return e.isWarp?(e.isWarp=!1,st(t,"onWarpEnd",vr(t,r,{})),n):!1}},fm=ct("area-pieces"),pi=ct("area-piece"),kc=ct("avoid"),cm=ct("view-dragging");function Ha(t){var r=t.areaElement;if(r){var e=t.state,n=e.width,i=e.height;cf(r,kc),r.style.cssText+="left: 0px; top: 0px; width: ".concat(n,"px; height: ").concat(i,"px")}}function Hl(t){return t.createElement("div",{key:"area_pieces",className:fm},t.createElement("div",{className:pi}),t.createElement("div",{className:pi}),t.createElement("div",{className:pi}),t.createElement("div",{className:pi}))}var Nc={name:"dragArea",props:["dragArea","passDragArea"],events:["click","clickGroup"],render:function(t,r){var e=t.props,n=e.target,i=e.dragArea,a=e.groupable,o=e.passDragArea,s=t.getState(),l=s.width,u=s.height,f=s.renderPoses,c=o?ct("area","pass"):ct("area");if(a)return[r.createElement("div",{key:"area",ref:$r(t,"areaElement"),className:c}),Hl(r)];if(!n||!i)return[];var d=rs([0,0],[l,0],[0,u],[l,u],f[0],f[1],f[2],f[3]),v=d.length?fa(d,!0):"none";return[r.createElement("div",{key:"area",ref:$r(t,"areaElement"),className:c,style:{top:"0px",left:"0px",width:"".concat(l,"px"),height:"".concat(u,"px"),transformOrigin:"0 0",transform:v}}),Hl(r)]},dragStart:function(t,r){var e=r.datas,n=r.clientX,i=r.clientY,a=r.inputEvent;if(!a)return!1;e.isDragArea=!1;var o=t.areaElement,s=t.state,l=s.moveableClientRect,u=s.renderPoses,f=s.rootMatrix,c=s.is3d,d=l.left,v=l.top,p=mr(u),h=p.left,g=p.top,m=p.width,b=p.height,x=c?4:3,_=O(tn(f,[n-d,i-v],x),2),S=_[0],y=_[1];S-=h,y-=g;var C=[{left:h,top:g,width:m,height:y-10},{left:h,top:g,width:S-10,height:b},{left:h,top:g+y+10,width:m,height:b-y-10},{left:h+S+10,top:g,width:m-S-10,height:b}],D=[].slice.call(o.nextElementSibling.children);C.forEach(function(M,R){D[R].style.cssText="left: ".concat(M.left,"px;top: ").concat(M.top,"px; width: ").concat(M.width,"px; height: ").concat(M.height,"px;")}),ff(o,kc),s.disableNativeEvent=!0},drag:function(t,r){var e=r.datas,n=r.inputEvent;if(this.enableNativeEvent(t),!n)return!1;e.isDragArea||(e.isDragArea=!0,Ha(t))},dragEnd:function(t,r){this.enableNativeEvent(t);var e=r.inputEvent,n=r.datas;if(!e)return!1;n.isDragArea||Ha(t)},dragGroupStart:function(t,r){return this.dragStart(t,r)},dragGroup:function(t,r){return this.drag(t,r)},dragGroupEnd:function(t,r){return this.dragEnd(t,r)},unset:function(t){Ha(t),t.state.disableNativeEvent=!1},enableNativeEvent:function(t){var r=t.state;r.disableNativeEvent&&of(function(){r.disableNativeEvent=!1})}},dm=Kn("origin",{props:["origin","svgOrigin"],render:function(t,r){var e=t.props,n=e.zoom,i=e.svgOrigin,a=e.groupable,o=t.getState(),s=o.beforeOrigin,l=o.rotation,u=o.svg,f=o.allMatrix,c=o.is3d,d=o.left,v=o.top,p=o.offsetWidth,h=o.offsetHeight,g;if(!a&&u&&i){var m=O(xs(i,p,h),2),b=m[0],x=m[1],_=c?4:3,S=Pt(f,[b,x],_);g=ki(l,n,dt(S,[d,v]))}else g=ki(l,n,s);return[r.createElement("div",{className:ct("control","origin"),style:g,key:"beforeOrigin"})]}});function vm(t){var r=t.scrollContainer;return[r.scrollLeft,r.scrollTop]}var pm={name:"scrollable",canPinch:!0,props:["scrollable","scrollContainer","scrollThreshold","scrollThrottleTime","getScrollPosition","scrollOptions"],events:["scroll","scrollGroup"],dragRelation:"strong",dragStart:function(t,r){var e=t.props,n=e.scrollContainer,i=n===void 0?t.getContainer():n,a=e.scrollOptions,o=new qh,s=Br(i,!0);r.datas.dragScroll=o,t.state.dragScroll=o;var l=r.isControl?"controlGesto":"targetGesto",u=r.targets;o.on("scroll",function(f){var c=f.container,d=f.direction,v=mt(t,r,{scrollContainer:c,direction:d}),p=u?"onScrollGroup":"onScroll";u&&(v.targets=u),st(t,p,v)}).on("move",function(f){var c=f.offsetX,d=f.offsetY,v=f.inputEvent;t[l].scrollBy(c,d,v.inputEvent,!1)}).on("scrollDrag",function(f){var c=f.next;c(t[l].getCurrentEvent())}),o.dragStart(r,T({container:s},a))},checkScroll:function(t,r){var e=r.datas.dragScroll;if(e){var n=t.props,i=n.scrollContainer,a=i===void 0?t.getContainer():i,o=n.scrollThreshold,s=o===void 0?0:o,l=n.scrollThrottleTime,u=l===void 0?0:l,f=n.getScrollPosition,c=f===void 0?vm:f,d=n.scrollOptions;return e.drag(r,T({container:a,threshold:s,throttleTime:u,getScrollPosition:function(v){return c({scrollContainer:v.container,direction:v.direction})}},d)),!0}},drag:function(t,r){return this.checkScroll(t,r)},dragEnd:function(t,r){r.datas.dragScroll.dragEnd(),r.datas.dragScroll=null},dragControlStart:function(t,r){return this.dragStart(t,T(T({},r),{isControl:!0}))},dragControl:function(t,r){return this.drag(t,r)},dragControlEnd:function(t,r){return this.dragEnd(t,r)},dragGroupStart:function(t,r){return this.dragStart(t,T(T({},r),{targets:t.props.targets}))},dragGroup:function(t,r){return this.drag(t,T(T({},r),{targets:t.props.targets}))},dragGroupEnd:function(t,r){return this.dragEnd(t,T(T({},r),{targets:t.props.targets}))},dragGroupControlStart:function(t,r){return this.dragStart(t,T(T({},r),{targets:t.props.targets,isControl:!0}))},dragGroupControl:function(t,r){return this.drag(t,T(T({},r),{targets:t.props.targets}))},dragGroupControEnd:function(t,r){return this.dragEnd(t,T(T({},r),{targets:t.props.targets}))},unset:function(t){var r,e=t.state;(r=e.dragScroll)===null||r===void 0||r.dragEnd(),e.dragScroll=null}},Hc={name:"",props:["target","dragTargetSelf","dragTarget","dragContainer","container","warpSelf","rootContainer","useResizeObserver","useMutationObserver","zoom","dragFocusedInput","transformOrigin","ables","className","pinchThreshold","pinchOutside","triggerAblesSimultaneously","checkInput","cspNonce","translateZ","hideDefaultLines","props","flushSync","stopPropagation","preventClickEventOnDrag","preventClickDefault","viewContainer","persistData","useAccuratePosition","firstRenderState","linePadding","controlPadding","preventDefault","preventRightClick","preventWheelClick","requestStyles"],events:["changeTargets"]},hm=Kn("padding",{props:["padding"],render:function(t,r){var e=t.props;if(e.dragArea)return[];var n=Fc(e.padding||{}),i=n.left,a=n.top,o=n.right,s=n.bottom,l=t.getState(),u=l.renderPoses,f=l.pos1,c=l.pos2,d=l.pos3,v=l.pos4,p=[f,c,d,v],h=[];return i>0&&h.push([0,2]),a>0&&h.push([0,1]),o>0&&h.push([1,3]),s>0&&h.push([2,3]),h.map(function(g,m){var b=O(g,2),x=b[0],_=b[1],S=p[x],y=p[_],C=u[x],D=u[_],M=rs([0,0],[100,0],[0,100],[100,100],S,y,C,D);if(M.length)return r.createElement("div",{key:"padding".concat(m),className:ct("padding"),style:{transform:fa(M,!0)}})})}}),Ll=["nw","ne","se","sw"];function hi(t,r){var e=t[0]+t[1],n=e>r?r/e:1;return t[0]*=n,t[1]=r-t[1]*n,t}var gm=[1,2,5,6],mm=[0,3,4,7],be=[1,-1,-1,1],_e=[1,1,-1,-1];function ys(t,r,e,n,i,a,o,s){i===void 0&&(i=0),a===void 0&&(a=0),o===void 0&&(o=e),s===void 0&&(s=n);var l=[],u=!1,f=t.filter(function(d){return!d.virtual}),c=f.map(function(d){var v=d.horizontal,p=d.vertical,h=d.pos;if(p&&!u&&(u=!0,l.push("/")),u){var g=Math.max(0,p===1?h[1]-a:s-h[1]);return l.push(yr(g,n,r)),g}else{var g=Math.max(0,v===1?h[0]-i:o-h[0]);return l.push(yr(g,e,r)),g}});return{radiusPoses:f,styles:l,raws:c}}function Lc(t){for(var r=[0,0],e=[0,0],n=t.length,i=0;i<n;++i){var a=t[i];a.sub&&(a.horizontal&&(r[1]===0&&(r[0]=i),r[1]=i-r[0]+1,e[0]=i+1),a.vertical&&(e[1]===0&&(e[0]=i),e[1]=i-e[0]+1))}return{horizontalRange:r,verticalRange:e}}function Wc(t,r,e,n,i,a,o){var s,l,u,f;a===void 0&&(a=[0,0]),o===void 0&&(o=!1);var c=t.indexOf("/"),d=(c>-1?t.slice(0,c):t).length,v=t.slice(0,d),p=t.slice(d+1),h=v.length,g=p.length,m=g>0,b=O(v,4),x=b[0],_=x===void 0?"0px":x,S=b[1],y=S===void 0?_:S,C=b[2],D=C===void 0?_:C,M=b[3],R=M===void 0?y:M,z=O(p,4),I=z[0],P=I===void 0?_:I,B=z[1],G=B===void 0?m?P:y:B,V=z[2],$=V===void 0?m?P:D:V,N=z[3],U=N===void 0?m?G:R:N,Z=[_,y,D,R].map(function(tt){return Dt(tt,r)}),H=[P,G,$,U].map(function(tt){return Dt(tt,e)}),J=Z.slice(),nt=H.slice();s=O(hi([J[0],J[1]],r),2),J[0]=s[0],J[1]=s[1],l=O(hi([J[3],J[2]],r),2),J[3]=l[0],J[2]=l[1],u=O(hi([nt[0],nt[3]],e),2),nt[0]=u[0],nt[3]=u[1],f=O(hi([nt[1],nt[2]],e),2),nt[1]=f[0],nt[2]=f[1];var rt=o?J:J.slice(0,Math.max(a[0],h)),at=o?nt:nt.slice(0,Math.max(a[1],g));return K(K([],O(rt.map(function(tt,ot){var ft=Ll[ot];return{virtual:ot>=h,horizontal:be[ot],vertical:0,pos:[n+tt,i+(_e[ot]===-1?e:0)],sub:!0,raw:Z[ot],direction:ft}})),!1),O(at.map(function(tt,ot){var ft=Ll[ot];return{virtual:ot>=g,horizontal:0,vertical:_e[ot],pos:[n+(be[ot]===-1?r:0),i+tt],sub:!0,raw:H[ot],direction:ft}})),!1)}function bm(t,r,e,n,i){i===void 0&&(i=r.length);var a=Lc(t.slice(n)),o=a.horizontalRange,s=a.verticalRange,l=e-n,u=0;if(l===0)u=i;else if(l>0&&l<o[1])u=o[1]-l;else if(l>=s[0])u=s[0]+s[1]-l;else return;t.splice(e,u),r.splice(e,u)}function _m(t,r,e,n,i,a,o,s,l,u,f){u===void 0&&(u=0),f===void 0&&(f=0);var c=Lc(t.slice(e)),d=c.horizontalRange,v=c.verticalRange;if(n>-1)for(var p=be[n]===1?a-u:s-a,h=d[1];h<=n;++h){var g=_e[h]===1?f:l,m=0;if(n===h?m=a:h===0?m=u+p:be[h]===-1&&(m=s-(r[e][0]-u)),t.splice(e+h,0,{horizontal:be[h],vertical:0,pos:[m,g]}),r.splice(e+h,0,[m,g]),h===0)break}else if(i>-1){var b=_e[i]===1?o-f:l-o;if(d[1]===0&&v[1]===0){var x=[u+b,f];t.push({horizontal:be[0],vertical:0,pos:x}),r.push(x)}for(var _=v[0],h=v[1];h<=i;++h){var m=be[h]===1?u:s,g=0;if(i===h?g=o:h===0?g=f+b:_e[h]===1?g=r[e+_][1]:_e[h]===-1&&(g=l-(r[e+_][1]-f)),t.push({horizontal:0,vertical:_e[h],pos:[m,g]}),r.push([m,g]),h===0)break}}}function xm(t,r){r===void 0&&(r=t.map(function(i){return i.raw}));var e=t.map(function(i,a){return i.horizontal?r[a]:null}).filter(function(i){return i!=null}),n=t.map(function(i,a){return i.vertical?r[a]:null}).filter(function(i){return i!=null});return{horizontals:e,verticals:n}}var ym=[[0,-1,"n"],[1,0,"e"]],Sm=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function Ss(t,r,e){var n=t.props.clipRelative,i=t.state,a=i.width,o=i.height,s=r,l=s.type,u=s.poses,f=l==="rect",c=l==="circle";if(l==="polygon")return e.map(function(y){return"".concat(yr(y[0],a,n)," ").concat(yr(y[1],o,n))});if(f||l==="inset"){var d=e[1][1],v=e[3][0],p=e[7][0],h=e[5][1];if(f)return[d,v,h,p].map(function(y){return"".concat(y,"px")});var g=[d,a-v,o-h,p].map(function(y,C){return yr(y,C%2?a:o,n)});if(e.length>8){var m=O(dt(e[4],e[0]),2),b=m[0],x=m[1];g.push.apply(g,K(["round"],O(ys(u.slice(8).map(function(y,C){return T(T({},y),{pos:e[C]})}),n,b,x,p,d,v,h).styles),!1))}return g}else if(c||l==="ellipse"){var _=e[0],S=yr(q(e[1][1]-_[1]),c?Math.sqrt((a*a+o*o)/2):o,n),g=c?[S]:[yr(q(e[2][0]-_[0]),a,n),S];return g.push("at",yr(_[0],a,n),yr(_[1],o,n)),g}}function Hi(t,r,e,n){var i=[n,(n+r)/2,r],a=[t,(t+e)/2,e];return Sm.map(function(o){var s=O(o,3),l=s[0],u=s[1],f=s[2],c=i[l+1],d=a[u+1];return{vertical:q(u),horizontal:q(l),direction:f,pos:[c,d]}})}function $c(t){var r=[1/0,-1/0],e=[1/0,-1/0];return t.forEach(function(n){var i=n.pos;r[0]=Math.min(r[0],i[0]),r[1]=Math.max(r[1],i[0]),e[0]=Math.min(e[0],i[1]),e[1]=Math.max(e[1],i[1])}),[q(r[1]-r[0]),q(e[1]-e[0])]}function Wl(t,r,e,n,i){var a,o,s,l,u,f,c,d,v;if(t){var p=i;if(!p){var h=ur(t),g=h("clipPath");p=g!=="none"?g:h("clip")}if(!((!p||p==="none"||p==="auto")&&(p=n,!p))){var m=af(p),b=m.prefix,x=b===void 0?p:b,_=m.value,S=_===void 0?"":_,y=x==="circle",C=" ";if(x==="polygon"){var D=xe(S||"0% 0%, 100% 0%, 100% 100%, 0% 100%");C=",";var M=D.map(function(X){var lt=O(X.split(" "),2),Q=lt[0],it=lt[1];return{vertical:1,horizontal:1,pos:[Dt(Q,r),Dt(it,e)]}}),R=we(M.map(function(X){return X.pos}));return{type:x,clipText:p,poses:M,splitter:C,left:R.minX,right:R.maxX,top:R.minY,bottom:R.maxY}}else if(y||x==="ellipse"){var z="",I="",P=0,B=0,D=ne(S);if(y){var G="";a=O(D,4),o=a[0],G=o===void 0?"50%":o,s=a[2],z=s===void 0?"50%":s,l=a[3],I=l===void 0?"50%":l,P=Dt(G,Math.sqrt((r*r+e*e)/2)),B=P}else{var V="",$="";u=O(D,5),f=u[0],V=f===void 0?"50%":f,c=u[1],$=c===void 0?"50%":c,d=u[3],z=d===void 0?"50%":d,v=u[4],I=v===void 0?"50%":v,P=Dt(V,r),B=Dt($,e)}var N=[Dt(z,r),Dt(I,e)],M=K([{vertical:1,horizontal:1,pos:N,direction:"nesw"}],O(ym.slice(0,y?1:2).map(function(Q){return{vertical:q(Q[1]),horizontal:Q[0],direction:Q[2],sub:!0,pos:[N[0]+Q[0]*P,N[1]+Q[1]*B]}})),!1);return{type:x,clipText:p,radiusX:P,radiusY:B,left:N[0]-P,top:N[1]-B,right:N[0]+P,bottom:N[1]+B,poses:M,splitter:C}}else if(x==="inset"){var D=ne(S||"0 0 0 0"),U=D.indexOf("round"),Z=(U>-1?D.slice(0,U):D).length,H=D.slice(Z+1),J=O(D.slice(0,Z),4),nt=J[0],rt=J[1],at=rt===void 0?nt:rt,tt=J[2],ot=tt===void 0?nt:tt,ft=J[3],pt=ft===void 0?at:ft,_t=O([nt,ot].map(function(Q){return Dt(Q,e)}),2),et=_t[0],E=_t[1],w=O([pt,at].map(function(Q){return Dt(Q,r)}),2),A=w[0],k=w[1],F=r-k,L=e-E,j=Wc(H,F-A,L-et,A,et),M=K(K([],O(Hi(et,F,L,A)),!1),O(j),!1);return{type:"inset",clipText:p,poses:M,top:et,left:A,right:F,bottom:L,radius:H,splitter:C}}else if(x==="rect"){var D=xe(S||"0px, ".concat(r,"px, ").concat(e,"px, 0px"));C=",";var W=O(D.map(function(ht){var xt=$n(ht).value;return xt}),4),Y=W[0],k=W[1],E=W[2],A=W[3],M=Hi(Y,k,E,A);return{type:"rect",clipText:p,poses:M,top:Y,right:k,bottom:E,left:A,values:D,splitter:C}}}}}function Em(t,r,e,n,i){var a=t[r],o=a.direction,s=a.sub,l=t.map(function(){return[0,0]}),u=o?o.split(""):[];if(n&&r<8){var f=u.filter(function(P){return P==="w"||P==="e"}),c=u.filter(function(P){return P==="n"||P==="s"}),d=f[0],v=c[0];l[r]=e;var p=O($c(t),2),h=p[0],g=p[1],m=h&&g?h/g:0;if(m&&i){var b=(r+4)%8,x=t[b].pos,_=[0,0];o.indexOf("w")>-1?_[0]=-1:o.indexOf("e")>-1&&(_[0]=1),o.indexOf("n")>-1?_[1]=-1:o.indexOf("s")>-1&&(_[1]=1);var S=zc([h,g],e,m,_,!0),y=h+S[0],C=g+S[1],D=x[1],M=x[1],R=x[0],z=x[0];_[0]===-1?R=z-y:_[0]===1?z=R+y:(R=R-y/2,z=z+y/2),_[1]===-1?D=M-C:(_[1]===1||(D=M-C/2),M=D+C);var I=Hi(D,z,M,R);t.forEach(function(P,B){l[B][0]=I[B].pos[0]-P.pos[0],l[B][1]=I[B].pos[1]-P.pos[1]})}else t.forEach(function(P,B){var G=P.direction;G&&(G.indexOf(d)>-1&&(l[B][0]=e[0]),G.indexOf(v)>-1&&(l[B][1]=e[1]))}),d&&(l[1][0]=e[0]/2,l[5][0]=e[0]/2),v&&(l[3][1]=e[1]/2,l[7][1]=e[1]/2)}else o&&!s?u.forEach(function(P){var B=P==="n"||P==="s";t.forEach(function(G,V){var $=G.direction,N=G.horizontal,U=G.vertical;!$||$.indexOf(P)===-1||(l[V]=[B||!N?0:e[0],!B||!U?0:e[1]])})}):l[r]=e;return l}function Cm(t,r){var e=O(qf(t,r),2),n=e[0],i=e[1],a=r.datas,o=a.clipPath,s=a.clipIndex,l=o,u=l.type,f=l.poses,c=l.splitter,d=f.map(function(b){return b.pos});if(u==="polygon")d.splice(s,0,[n,i]);else if(u==="inset"){var v=gm.indexOf(s),p=mm.indexOf(s),h=f.length;if(_m(f,d,8,v,p,n,i,d[4][0],d[4][1],d[0][0],d[0][1]),h===f.length)return}else return;var g=Ss(t,o,d),m="".concat(u,"(").concat(g.join(c),")");st(t,"onClip",mt(t,r,T({clipEventType:"added",clipType:u,poses:d,clipStyles:g,clipStyle:m,distX:0,distY:0},nr({clipPath:m},r))))}function Dm(t,r){var e=r.datas,n=e.clipPath,i=e.clipIndex,a=n,o=a.type,s=a.poses,l=a.splitter,u=s.map(function(v){return v.pos}),f=u.length;if(o==="polygon")s.splice(i,1),u.splice(i,1);else if(o==="inset"){if(i<8||(bm(s,u,i,8,f),f===s.length))return}else return;var c=Ss(t,n,u),d="".concat(o,"(").concat(c.join(l),")");st(t,"onClip",mt(t,r,T({clipEventType:"removed",clipType:o,poses:u,clipStyles:c,clipStyle:d,distX:0,distY:0},nr({clipPath:d},r))))}var Mm={name:"clippable",props:["clippable","defaultClipPath","customClipPath","keepRatio","clipRelative","clipArea","dragWithClip","clipTargetBounds","clipVerticalGuidelines","clipHorizontalGuidelines","clipSnapThreshold"],events:["clipStart","clip","clipEnd"],css:[`.control.clip-control {
background: #6d6;
cursor: pointer;
}
.control.clip-control.clip-radius {
background: #d66;
}
.line.clip-line {
background: #6e6;
cursor: move;
z-index: 1;
}
.clip-area {
position: absolute;
top: 0;
left: 0;
}
.clip-ellipse {
position: absolute;
cursor: move;
border: 1px solid #6d6;
border: var(--zoompx) solid #6d6;
border-radius: 50%;
transform-origin: 0px 0px;
}`,`:host {
--bounds-color: #d66;
}`,`.guideline {
pointer-events: none;
z-index: 2;
}`,`.line.guideline.bounds {
background: #d66;
background: var(--bounds-color);
}`],render:function(t,r){var e=t.props,n=e.customClipPath,i=e.defaultClipPath,a=e.clipArea,o=e.zoom,s=e.groupable,l=t.getState(),u=l.target,f=l.width,c=l.height,d=l.allMatrix,v=l.is3d,p=l.left,h=l.top,g=l.pos1,m=l.pos2,b=l.pos3,x=l.pos4,_=l.clipPathState,S=l.snapBoundInfos,y=l.rotation;if(!u||s)return[];var C=Wl(u,f,c,i||"inset",_||n);if(!C)return[];var D=v?4:3,M=C.type,R=C.poses,z=R.map(function(k){var F=Pt(d,k.pos,D);return[F[0]-p,F[1]-h]}),I=[],P=[],B=M==="rect",G=M==="inset",V=M==="polygon";if(B||G||V){var $=G?z.slice(0,8):z;P=$.map(function(k,F){var L=F===0?$[$.length-1]:$[F-1],j=At(L,k),W=Dc(L,k);return r.createElement("div",{key:"clipLine".concat(F),className:ct("line","clip-line","snap-control"),"data-clip-index":F,style:{width:"".concat(W,"px"),transform:"translate(".concat(L[0],"px, ").concat(L[1],"px) rotate(").concat(j,"rad) scaleY(").concat(o,")")}})})}if(I=z.map(function(k,F){return r.createElement("div",{key:"clipControl".concat(F),className:ct("control","clip-control","snap-control"),"data-clip-index":F,style:{transform:"translate(".concat(k[0],"px, ").concat(k[1],"px) rotate(").concat(y,"rad) scale(").concat(o,")")}})}),G&&I.push.apply(I,K([],O(z.slice(8).map(function(k,F){return r.createElement("div",{key:"clipRadiusControl".concat(F),className:ct("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+F,style:{transform:"translate(".concat(k[0],"px, ").concat(k[1],"px) rotate(").concat(y,"rad) scale(").concat(o,")")}})})),!1)),M==="circle"||M==="ellipse"){var N=C.left,U=C.top,Z=C.radiusX,H=C.radiusY,J=O(dt(Pt(d,[N,U],D),Pt(d,[0,0],D)),2),nt=J[0],rt=J[1],at="none";if(!a){for(var tt=Math.max(10,Z/5,H/5),ot=[],ft=0;ft<=tt;++ft){var pt=Math.PI*2/tt*ft;ot.push([Z+(Z-o)*Math.cos(pt),H+(H-o)*Math.sin(pt)])}ot.push([Z,-2]),ot.push([-2,-2]),ot.push([-2,H*2+2]),ot.push([Z*2+2,H*2+2]),ot.push([Z*2+2,-2]),ot.push([Z,-2]),at="polygon(".concat(ot.map(function(k){return"".concat(k[0],"px ").concat(k[1],"px")}).join(", "),")")}I.push(r.createElement("div",{key:"clipEllipse",className:ct("clip-ellipse","snap-control"),style:{width:"".concat(Z*2,"px"),height:"".concat(H*2,"px"),clipPath:at,transform:"translate(".concat(-p+nt,"px, ").concat(-h+rt,"px) ").concat(fa(d))}}))}if(a){var _t=mr(K([g,m,b,x],O(z),!1)),et=_t.width,E=_t.height,w=_t.left,A=_t.top;if(V||B||G){var ot=G?z.slice(0,8):z;I.push(r.createElement("div",{key:"clipArea",className:ct("clip-area","snap-control"),style:{width:"".concat(et,"px"),height:"".concat(E,"px"),transform:"translate(".concat(w,"px, ").concat(A,"px)"),clipPath:"polygon(".concat(ot.map(function(F){return"".concat(F[0]-w,"px ").concat(F[1]-A,"px")}).join(", "),")")}}))}}return S&&["vertical","horizontal"].forEach(function(k){var F=S[k],L=k==="horizontal";F.isSnap&&P.push.apply(P,K([],O(F.snap.posInfos.map(function(j,W){var Y=j.pos,X=dt(Pt(d,L?[0,Y]:[Y,0],D),[p,h]),lt=dt(Pt(d,L?[f,Y]:[Y,c],D),[p,h]);return Gn(r,"",X,lt,o,"clip".concat(k,"snap").concat(W),"guideline")})),!1)),F.isBound&&P.push.apply(P,K([],O(F.bounds.map(function(j,W){var Y=j.pos,X=dt(Pt(d,L?[0,Y]:[Y,0],D),[p,h]),lt=dt(Pt(d,L?[f,Y]:[Y,c],D),[p,h]);return Gn(r,"",X,lt,o,"clip".concat(k,"bounds").concat(W),"guideline","bounds","bold")})),!1))}),K(K([],O(I),!1),O(P),!1)},dragControlCondition:function(t,r){return r.inputEvent&&(r.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(t,r){var e=t.props,n=e.dragWithClip,i=n===void 0?!0:n;return i?!1:this.dragControlStart(t,r)},drag:function(t,r){return this.dragControl(t,T(T({},r),{isDragTarget:!0}))},dragEnd:function(t,r){return this.dragControlEnd(t,r)},dragControlStart:function(t,r){var e=t.state,n=t.props,i=n.defaultClipPath,a=n.customClipPath,o=e.target,s=e.width,l=e.height,u=r.inputEvent?r.inputEvent.target:null,f=u&&u.getAttribute("class")||"",c=r.datas,d=Wl(o,s,l,i||"inset",a);if(!d)return!1;var v=d.clipText,p=d.type,h=d.poses,g=st(t,"onClipStart",mt(t,r,{clipType:p,clipStyle:v,poses:h.map(function(m){return m.pos})}));return g===!1?(c.isClipStart=!1,!1):(c.isControl=f&&f.indexOf("clip-control")>-1,c.isLine=f.indexOf("clip-line")>-1,c.isArea=f.indexOf("clip-area")>-1||f.indexOf("clip-ellipse")>-1,c.clipIndex=u?parseInt(u.getAttribute("data-clip-index"),10):-1,c.clipPath=d,c.isClipStart=!0,e.clipPathState=v,Oe(t,r),!0)},dragControl:function(t,r){var e,n,i,a=r.datas,o=r.originalDatas,s=r.isDragTarget;if(!a.isClipStart)return!1;var l=a,u=l.isControl,f=l.isLine,c=l.isArea,d=l.clipIndex,v=l.clipPath;if(!v)return!1;var p=Te(t.props,"clippable"),h=p.keepRatio,g=0,m=0,b=o.draggable,x=kr(r);s&&b?(e=O(b.prevBeforeDist,2),g=e[0],m=e[1]):(n=O(x,2),g=n[0],m=n[1]);var _=[g,m],S=t.state,y=S.width,C=S.height,D=!c&&!u&&!f,M=v.type,R=v.poses,z=v.splitter,I=R.map(function(wt){return wt.pos});D&&(g=-g,m=-m);var P=!u||R[d].direction==="nesw",B=M==="inset"||M==="rect",G=R.map(function(){return[0,0]});if(u&&!P){var V=R[d],$=V.horizontal,N=V.vertical,U=[g*q($),m*q(N)];G=Em(R,d,U,B,h)}else P&&(G=I.map(function(){return[g,m]}));var Z=I.map(function(wt,Jt){return yt(wt,G[Jt])}),H=K([],O(Z),!1);S.snapBoundInfos=null;var J=v.type==="circle",nt=v.type==="ellipse";if(J||nt){var rt=mr(Z),at=q(rt.bottom-rt.top),tt=q(nt?rt.right-rt.left:at),ot=Z[0][1]+at,ft=Z[0][0]-tt,pt=Z[0][0]+tt;J&&(H.push([pt,rt.bottom]),G.push([1,0])),H.push([rt.left,ot]),G.push([0,1]),H.push([ft,rt.bottom]),G.push([1,0])}var _t=_c((p.clipHorizontalGuidelines||[]).map(function(wt){return Dt("".concat(wt),C)}),(p.clipVerticalGuidelines||[]).map(function(wt){return Dt("".concat(wt),y)}),y,C),et=[],E=[];if(J||nt)et=[H[4][0],H[2][0]],E=[H[1][1],H[3][1]];else if(B){var w=[H[0],H[2],H[4],H[6]],A=[G[0],G[2],G[4],G[6]];et=w.filter(function(wt,Jt){return A[Jt][0]}).map(function(wt){return wt[0]}),E=w.filter(function(wt,Jt){return A[Jt][1]}).map(function(wt){return wt[1]})}else et=H.filter(function(wt,Jt){return G[Jt][0]}).map(function(wt){return wt[0]}),E=H.filter(function(wt,Jt){return G[Jt][1]}).map(function(wt){return wt[1]});var k=[0,0],F=Ml(_t,p.clipTargetBounds&&{left:0,top:0,right:y,bottom:C},et,E,5,5),L=F.horizontal,j=F.vertical,W=L.offset,Y=j.offset;if(L.isBound&&(k[1]+=W),j.isBound&&(k[0]+=Y),(nt||J)&&G[0][0]===0&&G[0][1]===0){var rt=mr(Z),X=rt.bottom-rt.top,lt=nt?rt.right-rt.left:X,Q=j.isBound?q(Y):j.snapIndex===0?-Y:Y,it=L.isBound?q(W):L.snapIndex===0?-W:W;lt-=Q,X-=it,J&&(X=cc(j,L)>0?X:lt,lt=X);var ut=H[0];H[1][1]=ut[1]-X,H[2][0]=ut[0]+lt,H[3][1]=ut[1]+X,H[4][0]=ut[0]-lt}else if(B&&h&&u){var ht=O($c(R),2),xt=ht[0],St=ht[1],$t=xt&&St?xt/St:0,Vt=R[d],Zt=Vt.direction||"",ar=H[1][1],ot=H[5][1],ft=H[7][0],pt=H[3][0];q(W)<=q(Y)?W=rr(W)*q(Y)/$t:Y=rr(Y)*q(W)*$t,Zt.indexOf("w")>-1?ft-=Y:Zt.indexOf("e")>-1?pt-=Y:(ft+=Y/2,pt-=Y/2),Zt.indexOf("n")>-1?ar-=W:Zt.indexOf("s")>-1?ot-=W:(ar+=W/2,ot-=W/2);var fe=Hi(ar,pt,ot,ft);H.forEach(function(Ts,ad){var pa;pa=O(fe[ad].pos,2),Ts[0]=pa[0],Ts[1]=pa[1]})}else H.forEach(function(wt,Jt){var ws=G[Jt];ws[0]&&(wt[0]-=Y),ws[1]&&(wt[1]-=W)});var ln=Ss(t,v,Z),Lt="".concat(M,"(").concat(ln.join(z),")");if(S.clipPathState=Lt,J||nt)et=[H[4][0],H[2][0]],E=[H[1][1],H[3][1]];else if(B){var w=[H[0],H[2],H[4],H[6]];et=w.map(function(Jt){return Jt[0]}),E=w.map(function(Jt){return Jt[1]})}else et=H.map(function(wt){return wt[0]}),E=H.map(function(wt){return wt[1]});if(S.snapBoundInfos=Ml(_t,p.clipTargetBounds&&{left:0,top:0,right:y,bottom:C},et,E,1,1),b){var pr=S.is3d,Qn=S.allMatrix,id=pr?4:3,va=k;s&&(va=[_[0]+k[0]-x[0],_[1]+k[1]-x[1]]),b.deltaOffset=Mt(Qn,[va[0],va[1],0,0],id)}return st(t,"onClip",mt(t,r,T({clipEventType:"changed",clipType:M,poses:Z,clipStyle:Lt,clipStyles:ln,distX:g,distY:m},nr((i={},i[M==="rect"?"clip":"clipPath"]=Lt,i),r)))),!0},dragControlEnd:function(t,r){this.unset(t);var e=r.isDrag,n=r.datas,i=r.isDouble,a=n.isLine,o=n.isClipStart,s=n.isControl;return o?(st(t,"onClipEnd",vr(t,r,{})),i&&(s?Dm(t,r):a&&Cm(t,r)),i||e):!1},unset:function(t){t.state.clipPathState="",t.state.snapBoundInfos=null}},wm={name:"originDraggable",props:["originDraggable","originRelative"],events:["dragOriginStart","dragOrigin","dragOriginEnd"],css:[`:host[data-able-origindraggable] .control.origin {
pointer-events: auto;
}`],dragControlCondition:function(t,r){return r.isRequest?r.requestAble==="originDraggable":Nt(r.inputEvent.target,ct("origin"))},dragControlStart:function(t,r){var e=r.datas;Oe(t,r);var n=mt(t,r,{dragStart:tr.dragStart(t,new Ze().dragStart([0,0],r))}),i=st(t,"onDragOriginStart",n);return e.startOrigin=t.state.transformOrigin,e.startTargetOrigin=t.state.targetOrigin,e.prevOrigin=[0,0],e.isDragOrigin=!0,i===!1?(e.isDragOrigin=!1,!1):n},dragControl:function(t,r){var e=r.datas,n=r.isPinch,i=r.isRequest;if(!e.isDragOrigin)return!1;var a=O(kr(r),2),o=a[0],s=a[1],l=t.state,u=l.width,f=l.height,c=l.offsetMatrix,d=l.targetMatrix,v=l.is3d,p=t.props.originRelative,h=p===void 0?!0:p,g=v?4:3,m=[o,s];if(i){var b=r.distOrigin;(b[0]||b[1])&&(m=b)}var x=yt(e.startOrigin,m),_=yt(e.startTargetOrigin,m),S=dt(m,e.prevOrigin),y=Jn(c,d,x,g),C=t.getRect(),D=mr(Pe(y,u,f,g)),M=[C.left-D.left,C.top-D.top];e.prevOrigin=m;var R=[yr(_[0],u,h),yr(_[1],f,h)].join(" "),z=tr.drag(t,Zn(r,t.state,M,!!n)),I=mt(t,r,T(T({width:u,height:f,origin:x,dist:m,delta:S,transformOrigin:R,drag:z},nr({transformOrigin:R,transform:z.transform},r)),{afterTransform:z.transform}));return st(t,"onDragOrigin",I),I},dragControlEnd:function(t,r){var e=r.datas;return e.isDragOrigin?(st(t,"onDragOriginEnd",vr(t,r,{})),!0):!1},dragGroupControlCondition:function(t,r){return this.dragControlCondition(t,r)},dragGroupControlStart:function(t,r){var e=this.dragControlStart(t,r);return!!e},dragGroupControl:function(t,r){var e=this.dragControl(t,r);return e?(t.transformOrigin=e.transformOrigin,!0):!1},request:function(t){var r={},e=t.getRect(),n=0,i=0,a=e.transformOrigin,o=[0,0];return{isControl:!0,requestStart:function(){return{datas:r}},request:function(s){return"deltaOrigin"in s?(o[0]+=s.deltaOrigin[0],o[1]+=s.deltaOrigin[1]):"origin"in s?(o[0]=s.origin[0]-a[0],o[1]=s.origin[1]-a[1]):("x"in s?n=s.x-e.left:"deltaX"in s&&(n+=s.deltaX),"y"in s?i=s.y-e.top:"deltaY"in s&&(i+=s.deltaY)),{datas:r,distX:n,distY:i,distOrigin:o}},requestEnd:function(){return{datas:r,isDrag:!0}}}}};function Tm(t,r,e,n){var i=t.filter(function(l){var u=l.virtual,f=l.horizontal;return f&&!u}).length,a=t.filter(function(l){var u=l.virtual,f=l.vertical;return f&&!u}).length,o=-1;if(r===0&&(i===0?o=0:i===1&&(o=1)),r===2&&(i<=2?o=2:i<=3&&(o=3)),r===3&&(a===0?o=4:a<4&&(o=7)),r===1&&(a<=1?o=5:a<=2&&(o=6)),!(o===-1||!t[o].virtual)){var s=t[o];Rm(t,o),o<4?s.pos[0]=e:s.pos[1]=n}}function Rm(t,r){r<4?t.slice(0,r+1).forEach(function(e){e.virtual=!1}):(t[0].virtual&&(t[0].virtual=!1),t.slice(4,r+1).forEach(function(e){e.virtual=!1}))}function Om(t,r){r<4?t.slice(r,4).forEach(function(e){e.virtual=!0}):t.slice(r).forEach(function(e){e.virtual=!0})}function $l(t,r,e,n,i){n===void 0&&(n=[0,0]);var a=[];return!t||t==="0px"?a=[]:a=ne(t),Wc(a,r,e,0,0,n,i)}function Vl(t,r,e,n,i){var a=t.state,o=a.width,s=a.height,l=ys(i,t.props.roundRelative,o,s),u=l.raws,f=l.styles,c=l.radiusPoses,d=xm(c,u),v=d.horizontals,p=d.verticals,h=f.join(" ");a.borderRadiusState=h;var g=mt(t,r,T({horizontals:v,verticals:p,borderRadius:h,width:o,height:s,delta:n,dist:e},nr({borderRadius:h},r)));return st(t,"onRound",g),g}function Yl(t){var r,e,n=t.getState().style,i=n.borderRadius||"";if(!i&&t.props.groupable){var a=t.moveables[0],o=t.getTargets()[0];o&&((a==null?void 0:a.props.target)===o?(i=(e=(r=t.moveables[0])===null||r===void 0?void 0:r.state.style.borderRadius)!==null&&e!==void 0?e:"",n.borderRadius=i):(i=gs(o).borderRadius,n.borderRadius=i))}return i}var Pm={name:"roundable",props:["roundable","roundRelative","minRoundControls","maxRoundControls","roundClickable","roundPadding","isDisplayShadowRoundControls"],events:["roundStart","round","roundEnd","roundGroupStart","roundGroup","roundGroupEnd"],css:[`.control.border-radius {
background: #d66;
cursor: pointer;
z-index: 3;
}`,`.control.border-radius.vertical {
background: #d6d;
z-index: 2;
}`,`.control.border-radius.virtual {
opacity: 0.5;
z-index: 1;
}`,`:host.round-line-clickable .line.direction {
cursor: pointer;
}`],className:function(t){var r=t.props.roundClickable;return r===!0||r==="line"?ct("round-line-clickable"):""},requestStyle:function(){return["borderRadius"]},requestChildStyle:function(){return["borderRadius"]},render:function(t,r){var e=t.getState(),n=e.target,i=e.width,a=e.height,o=e.allMatrix,s=e.is3d,l=e.left,u=e.top,f=e.borderRadiusState,c=t.props,d=c.minRoundControls,v=d===void 0?[0,0]:d,p=c.maxRoundControls,h=p===void 0?[4,4]:p,g=c.zoom,m=c.roundPadding,b=m===void 0?0:m,x=c.isDisplayShadowRoundControls,_=c.groupable;if(!n)return null;var S=f||Yl(t),y=s?4:3,C=$l(S,i,a,v,!0);if(!C)return null;var D=0,M=0,R=_?[0,0]:[l,u];return C.map(function(z,I){var P=z.horizontal,B=z.vertical,G=z.direction||"",V=K([],O(z.pos),!1);M+=Math.abs(P),D+=Math.abs(B),P&&G.indexOf("n")>-1&&(V[1]-=b),B&&G.indexOf("w")>-1&&(V[0]-=b),P&&G.indexOf("s")>-1&&(V[1]+=b),B&&G.indexOf("e")>-1&&(V[0]+=b);var $=dt(Pt(o,V,y),R),N=x&&x!=="horizontal",U=z.vertical?D<=h[1]&&(N||!z.virtual):M<=h[0]&&(x||!z.virtual);return r.createElement("div",{key:"borderRadiusControl".concat(I),className:ct("control","border-radius",z.vertical?"vertical":"",z.virtual?"virtual":""),"data-radius-index":I,style:{display:U?"block":"none",transform:"translate(".concat($[0],"px, ").concat($[1],"px) scale(").concat(g,")")}})})},dragControlCondition:function(t,r){if(!r.inputEvent||r.isRequest)return!1;var e=r.inputEvent.target.getAttribute("class")||"";return e.indexOf("border-radius")>-1||e.indexOf("moveable-line")>-1&&e.indexOf("moveable-direction")>-1},dragGroupControlCondition:function(t,r){return this.dragControlCondition(t,r)},dragControlStart:function(t,r){var e=r.inputEvent,n=r.datas,i=e.target,a=i.getAttribute("class")||"",o=a.indexOf("border-radius")>-1,s=a.indexOf("moveable-line")>-1&&a.indexOf("moveable-direction")>-1,l=o?parseInt(i.getAttribute("data-radius-index"),10):-1,u=-1;if(s){var f=i.getAttribute("data-line-key")||"";f&&(u=parseInt(f.replace(/render-line-/g,""),10),isNaN(u)&&(u=-1))}if(!o&&!s)return!1;var c=mt(t,r,{}),d=st(t,"onRoundStart",c);if(d===!1)return!1;n.lineIndex=u,n.controlIndex=l,n.isControl=o,n.isLine=s,Oe(t,r);var v=t.props,p=v.roundRelative,h=v.minRoundControls,g=h===void 0?[0,0]:h,m=t.state,b=m.width,x=m.height;n.isRound=!0,n.prevDist=[0,0];var _=Yl(t),S=$l(_||"",b,x,g,!0)||[];return n.controlPoses=S,m.borderRadiusState=ys(S,p,b,x).styles.join(" "),c},dragControl:function(t,r){var e=r.datas,n=e.controlPoses;if(!e.isRound||!e.isControl||!n.length)return!1;var i=e.controlIndex,a=O(kr(r),2),o=a[0],s=a[1],l=[o,s],u=dt(l,e.prevDist),f=t.props.maxRoundControls,c=f===void 0?[4,4]:f,d=t.state,v=d.width,p=d.height,h=n[i],g=h.vertical,m=h.horizontal,b=n.map(function(_){var S=_.horizontal,y=_.vertical,C=[S*m*l[0],y*g*l[1]];if(S){if(c[0]===1)return C;if(c[0]<4&&S!==m)return C}else{if(c[1]===0)return C[1]=y*m*l[0]/v*p,C;if(g){if(c[1]===1)return C;if(c[1]<4&&y!==g)return C}}return[0,0]});b[i]=l;var x=n.map(function(_,S){return T(T({},_),{pos:yt(_.pos,b[S])})});return i<4?x.slice(0,i+1).forEach(function(_){_.virtual=!1}):x.slice(4,i+1).forEach(function(_){_.virtual=!1}),e.prevDist=[o,s],Vl(t,r,l,u,x)},dragControlEnd:function(t,r){var e=t.state;e.borderRadiusState="";var n=r.datas,i=r.isDouble;if(!n.isRound)return!1;var a=n.isControl,o=n.controlIndex,s=n.isLine,l=n.lineIndex,u=n.controlPoses,f=u.filter(function(m){var b=m.virtual;return b}).length,c=t.props.roundClickable,d=c===void 0?!0:c;if(i&&d){if(a&&(d===!0||d==="control"))Om(u,o);else if(s&&(d===!0||d==="line")){var v=O(qf(t,r),2),p=v[0],h=v[1];Tm(u,l,p,h)}f!==u.filter(function(m){var b=m.virtual;return b}).length&&Vl(t,r,[0,0],[0,0],u)}var g=vr(t,r,{});return st(t,"onRoundEnd",g),e.borderRadiusState="",g},dragGroupControlStart:function(t,r){var e=this.dragControlStart(t,r);if(!e)return!1;var n=t.moveables,i=t.props.targets,a=Mr(t,"roundable",r),o=T({targets:t.props.targets,events:a.map(function(s,l){return T(T({},s),{target:i[l],moveable:n[l],currentTarget:n[l]})})},e);return st(t,"onRoundGroupStart",o),e},dragGroupControl:function(t,r){var e=this.dragControl(t,r);if(!e)return!1;var n=t.moveables,i=t.props.targets,a=Mr(t,"roundable",r),o=T({targets:t.props.targets,events:a.map(function(s,l){return T(T(T({},s),{target:i[l],moveable:n[l],currentTarget:n[l]}),nr({borderRadius:e.borderRadius},s))})},e);return st(t,"onRoundGroup",o),o},dragGroupControlEnd:function(t,r){var e=t.moveables,n=t.props.targets,i=Mr(t,"roundable",r);ca(t,"onRound",function(s){var l=T({targets:t.props.targets,events:i.map(function(u,f){return T(T(T({},u),{target:n[f],moveable:e[f],currentTarget:e[f]}),nr({borderRadius:s.borderRadius},u))})},s);st(t,"onRoundGroup",l)});var a=this.dragControlEnd(t,r);if(!a)return!1;var o=T({targets:t.props.targets,events:i.map(function(s,l){var u;return T(T({},s),{target:n[l],moveable:e[l],currentTarget:e[l],lastEvent:(u=s.datas)===null||u===void 0?void 0:u.lastEvent})})},a);return st(t,"onRoundGroupEnd",o),o},unset:function(t){t.state.borderRadiusState=""}};function Im(t,r){var e=r?4:3,n=Ot(e),i="matrix".concat(r?"3d":"","(").concat(n.join(","),")");return t===i||t==="matrix(1,0,0,1,0,0)"}var Vc={isPinch:!0,name:"beforeRenderable",props:[],events:["beforeRenderStart","beforeRender","beforeRenderEnd","beforeRenderGroupStart","beforeRenderGroup","beforeRenderGroupEnd"],dragRelation:"weak",setTransform:function(t,r){var e=t.state,n=e.is3d,i=e.targetMatrix,a=e.inlineTransform,o=n?"matrix3d(".concat(i.join(","),")"):"matrix(".concat(zf(i,!0),")"),s=!a||a==="none"?o:a;r.datas.startTransforms=Im(s,n)?[]:ne(s)},resetStyle:function(t){var r=t.datas;r.nextStyle={},r.nextTransforms=t.datas.startTransforms,r.nextTransformAppendedIndexes=[]},fillDragStartParams:function(t,r){return mt(t,r,{setTransform:function(e){r.datas.startTransforms=Ft(e)?e:ne(e)},isPinch:!!r.isPinch})},fillDragParams:function(t,r){return mt(t,r,{isPinch:!!r.isPinch})},dragStart:function(t,r){this.setTransform(t,r),this.resetStyle(r),st(t,"onBeforeRenderStart",this.fillDragStartParams(t,r))},drag:function(t,r){r.datas.startTransforms||this.setTransform(t,r),this.resetStyle(r),st(t,"onBeforeRender",mt(t,r,{isPinch:!!r.isPinch}))},dragEnd:function(t,r){r.datas.startTransforms||(this.setTransform(t,r),this.resetStyle(r)),st(t,"onBeforeRenderEnd",mt(t,r,{isPinch:!!r.isPinch,isDrag:r.isDrag}))},dragGroupStart:function(t,r){var e=this;this.dragStart(t,r);var n=Mr(t,"beforeRenderable",r),i=t.moveables,a=n.map(function(o,s){var l=i[s];return e.setTransform(l,o),e.resetStyle(o),e.fillDragStartParams(l,o)});st(t,"onBeforeRenderGroupStart",mt(t,r,{isPinch:!!r.isPinch,targets:t.props.targets,setTransform:function(){},events:a}))},dragGroup:function(t,r){var e=this;this.drag(t,r);var n=Mr(t,"beforeRenderable",r),i=t.moveables,a=n.map(function(o,s){var l=i[s];return e.resetStyle(o),e.fillDragParams(l,o)});st(t,"onBeforeRenderGroup",mt(t,r,{isPinch:!!r.isPinch,targets:t.props.targets,events:a}))},dragGroupEnd:function(t,r){this.dragEnd(t,r),st(t,"onBeforeRenderGroupEnd",mt(t,r,{isPinch:!!r.isPinch,isDrag:r.isDrag,targets:t.props.targets}))},dragControlStart:function(t,r){return this.dragStart(t,r)},dragControl:function(t,r){return this.drag(t,r)},dragControlEnd:function(t,r){return this.dragEnd(t,r)},dragGroupControlStart:function(t,r){return this.dragGroupStart(t,r)},dragGroupControl:function(t,r){return this.dragGroup(t,r)},dragGroupControlEnd:function(t,r){return this.dragGroupEnd(t,r)}},Yc={name:"renderable",props:[],events:["renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd"],dragRelation:"weak",dragStart:function(t,r){st(t,"onRenderStart",mt(t,r,{isPinch:!!r.isPinch}))},drag:function(t,r){st(t,"onRender",this.fillDragParams(t,r))},dragAfter:function(t,r){return this.drag(t,r)},dragEnd:function(t,r){st(t,"onRenderEnd",this.fillDragEndParams(t,r))},dragGroupStart:function(t,r){st(t,"onRenderGroupStart",mt(t,r,{isPinch:!!r.isPinch,targets:t.props.targets}))},dragGroup:function(t,r){var e=this,n=Mr(t,"beforeRenderable",r),i=t.moveables,a=n.map(function(o,s){var l=i[s];return e.fillDragParams(l,o)});st(t,"onRenderGroup",mt(t,r,T(T({isPinch:!!r.isPinch,targets:t.props.targets,transform:ui(r),transformObject:{}},nr(fi(r))),{events:a})))},dragGroupEnd:function(t,r){var e=this,n=Mr(t,"beforeRenderable",r),i=t.moveables,a=n.map(function(o,s){var l=i[s];return e.fillDragEndParams(l,o)});st(t,"onRenderGroupEnd",mt(t,r,T({isPinch:!!r.isPinch,isDrag:r.isDrag,targets:t.props.targets,events:a,transformObject:{},transform:ui(r)},nr(fi(r)))))},dragControlStart:function(t,r){return this.dragStart(t,r)},dragControl:function(t,r){return this.drag(t,r)},dragControlAfter:function(t,r){return this.dragAfter(t,r)},dragControlEnd:function(t,r){return this.dragEnd(t,r)},dragGroupControlStart:function(t,r){return this.dragGroupStart(t,r)},dragGroupControl:function(t,r){return this.dragGroup(t,r)},dragGroupControlEnd:function(t,r){return this.dragGroupEnd(t,r)},fillDragParams:function(t,r){var e={};return Ke(Ai(r)||[]).forEach(function(n){e[n.name]=n.functionValue}),mt(t,r,T({isPinch:!!r.isPinch,transformObject:e,transform:ui(r)},nr(fi(r))))},fillDragEndParams:function(t,r){var e={};return Ke(Ai(r)||[]).forEach(function(n){e[n.name]=n.functionValue}),mt(t,r,T({isPinch:!!r.isPinch,isDrag:r.isDrag,transformObject:e,transform:ui(r)},nr(fi(r))))}};function Mn(t,r,e,n,i,a,o){a.clientDistX=a.distX,a.clientDistY=a.distY;var s=i==="Start",l=i==="End",u=i==="After",f=t.state.target,c=a.isRequest,d=n.indexOf("Control")>-1;if(!f||s&&d&&!c&&t.areaElement===a.inputEvent.target)return!1;var v=K([],O(r),!1);if(c){var p=a.requestAble;v.some(function(I){return I.name===p})||v.push.apply(v,K([],O(t.props.ables.filter(function(I){return I.name===p})),!1))}if(!v.length||v.every(function(I){return I.dragRelation}))return!1;var h=a.inputEvent,g;l&&h&&(g=document.elementFromPoint(a.clientX,a.clientY)||h.target);var m=!1,b=function(){var I;m=!0,(I=a.stop)===null||I===void 0||I.call(a)},x=s&&(!t.targetGesto||!t.controlGesto||!t.targetGesto.isFlag()||!t.controlGesto.isFlag());x&&t.updateRect(i,!0,!1);var _=a.datas,S=d?"controlGesto":"targetGesto",y=t[S],C=function(I,P,B){if(!(P in I)||y!==t[S])return!1;var G=I.name,V=_[G]||(_[G]={});if(s&&(V.isEventStart=!B||!I[B]||I[B](t,a)),!V.isEventStart)return!1;var $=I[P](t,T(T({},a),{stop:b,datas:V,originalDatas:_,inputTarget:g}));return t._emitter.off(),s&&$===!1&&(V.isEventStart=!1),$};x&&v.forEach(function(I){I.unset&&I.unset(t)}),C(Vc,"drag".concat(n).concat(i));var D=0,M=0;e.forEach(function(I){if(m)return!1;var P="".concat(I).concat(n).concat(i),B="".concat(I).concat(n,"Condition");i===""&&!c&&rm(t.state,a);var G=v.filter(function(N){return N[P]});G=G.filter(function(N,U){return N.name&&G.indexOf(N)===U});var V=G.filter(function(N){return C(N,P,B)}),$=V.length;m&&++D,$&&++M,!m&&s&&G.length&&!$&&(D+=G.filter(function(N){var U=N.name,Z=_[U];return Z.isEventStart?N.dragRelation!=="strong":!1}).length?1:0)}),(!u||M)&&C(Yc,"drag".concat(n).concat(i));var R=y!==t[S]||D===e.length;if((l||m||R)&&(t.state.gestos={},t.moveables&&t.moveables.forEach(function(I){I.state.gestos={}}),v.forEach(function(I){I.unset&&I.unset(t)})),s&&!R&&!c&&M&&t.props.preventDefault&&(a==null||a.preventDefault()),t.isUnmounted||R)return!1;if(!s&&M&&!o||l){var z=t.props.flushSync||Sc;z(function(){t.updateRect(l?i:"",!0,!1),t.forceUpdate()})}return!s&&!l&&!u&&M&&!o&&Mn(t,r,e,n,i+"After",a),!0}function Es(t,r){return function(e,n){var i;n===void 0&&(n=e.inputEvent.target);var a=n,o=t.areaElement,s=t._dragTarget;return!s||!r&&(!((i=t.controlGesto)===null||i===void 0)&&i.isFlag())?!1:a===s||s.contains(a)||a===o||!t.isMoveableElement(a)&&!t.controlBox.contains(a)||Nt(a,"moveable-area")||Nt(a,"moveable-padding")||Nt(a,"moveable-edgeDraggable")}}function Xc(t,r,e){var n=t.controlBox,i=[],a=t.props,o=a.dragArea,s=t.state.target,l=a.dragTarget;i.push(n),(!o||l)&&i.push(r),!o&&l&&s&&r!==s&&a.dragTargetSelf&&i.push(s);var u=Es(t);return jc(t,i,"targetAbles",e,{dragStart:u,pinchStart:u})}function qc(t,r){var e=t.controlBox,n=[];n.push(e);var i=Es(t,!0),a=function(o,s){if(s===void 0&&(s=o.inputEvent.target),s===e)return!0;var l=i(o,s);return!l};return jc(t,n,"controlAbles",r,{dragStart:a,pinchStart:a})}function jc(t,r,e,n,i){i===void 0&&(i={});var a=e==="targetAbles",o=t.props,s=o.pinchOutside,l=o.pinchThreshold,u=o.preventClickEventOnDrag,f=o.preventClickDefault,c=o.checkInput,d=o.dragFocusedInput,v=o.preventDefault,p=v===void 0?!0:v,h=o.preventRightClick,g=h===void 0?!0:h,m=o.preventWheelClick,b=m===void 0?!0:m,x=o.dragContainer,_=Br(x,!0),S={preventDefault:p,preventRightClick:g,preventWheelClick:b,container:_||ee(t.getControlBoxElement()),pinchThreshold:l,pinchOutside:s,preventClickEventOnDrag:a?u:!1,preventClickEventOnDragStart:a?f:!1,preventClickEventByCondition:a?null:function(D){return t.controlBox.contains(D.target)},checkInput:a?c:!1,dragFocusedInput:d},y=new ag(r,S),C=n==="Control";return["drag","pinch"].forEach(function(D){["Start","","End"].forEach(function(M){y.on("".concat(D).concat(M),function(R){var z,I=R.eventType,P=D==="drag"&&R.isPinch;if(i[I]&&!i[I](R)){R.stop();return}if(!P){var B=D==="drag"?[D]:["drag",D],G=K([],O(t[e]),!1),V=Mn(t,G,B,n,M,R);V?(t.props.stopPropagation||M==="Start"&&C)&&((z=R==null?void 0:R.inputEvent)===null||z===void 0||z.stopPropagation()):R.stop()}})})}),y}var Am=function(){function t(r,e,n){var i=this;this.target=r,this.moveable=e,this.eventName=n,this.ables=[],this._onEvent=function(a){var o=i.eventName,s=i.moveable;s.state.disableNativeEvent||i.ables.forEach(function(l){l[o](s,{inputEvent:a})})},r.addEventListener(n.toLowerCase(),this._onEvent)}return t.prototype.setAbles=function(r){this.ables=r},t.prototype.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},t}();function zm(t,r,e,n){var i;e===void 0&&(e=r);var a=Qf(t,r),o=a.matrixes,s=a.is3d,l=a.targetMatrix,u=a.transformOrigin,f=a.targetOrigin,c=a.offsetContainer,d=a.hasFixed,v=a.zoom,p=jg(c,e),h=p.matrixes,g=p.is3d,m=p.offsetContainer,b=p.zoom,x=n,_=4,S=t.tagName.toLowerCase()!=="svg"&&"ownerSVGElement"in t,y=l,C=Ot(_),D=Ot(_),M=Ot(_),R=Ot(_),z=o.length,I=h.map(function(U){return T(T({},U),{matrix:U.matrix?K([],O(U.matrix),!1):void 0})}).reverse();o.reverse(),!s&&x&&(y=Tr(y,3,4),xo(o)),!g&&x&&xo(I),I.forEach(function(U){D=Mt(D,U.matrix,_)});var P=e||ue(t),B=((i=I[0])===null||i===void 0?void 0:i.target)||Fn(P,P,!0).offsetParent,G=I.slice(1).reduce(function(U,Z){return Mt(U,Z.matrix,_)},Ot(_));o.forEach(function(U,Z){if(z-2===Z&&(M=C.slice()),z-1===Z&&(R=C.slice()),!U.matrix){var H=o[Z+1],J=Z0(U,H,B,_,Mt(G,C,_));U.matrix=Me(J,_)}C=Mt(C,U.matrix,_)});var V=!S&&s;y||(y=Ot(V?4:3));var $=fa(S&&y.length===16?Tr(y,4,3):y,V),N=D;return D=If(D,_,_),{hasZoom:v!==1||b!==1,hasFixed:d,matrixes:o,rootMatrix:D,originalRootMatrix:N,beforeMatrix:M,offsetMatrix:R,allMatrix:C,targetMatrix:y,targetTransform:$,inlineTransform:t.style.transform,transformOrigin:u,targetOrigin:f,is3d:x,offsetContainer:c,offsetRootContainer:m}}function Bm(t,r,e,n){e===void 0&&(e=r);var i=0,a=0,o=0,s={},l=Mc(t);if(t&&(i=l.offsetWidth,a=l.offsetHeight),t){var u=zm(t,r,e,n),f=Xe(u.allMatrix,u.transformOrigin,i,a);s=T(T({},u),f);var c=Xe(u.allMatrix,[50,50],100,100);o=wc([c.pos1,c.pos2],c.direction)}var d=4;return T(T(T({hasZoom:!1,width:i,height:a,rotation:o},l),{originalRootMatrix:Ot(d),rootMatrix:Ot(d),beforeMatrix:Ot(d),offsetMatrix:Ot(d),allMatrix:Ot(d),targetMatrix:Ot(d),targetTransform:"",inlineTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!0,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1,offsetContainer:null,offsetRootContainer:null,matrixes:[]}),s)}function Co(t,r,e,n,i,a){a===void 0&&(a=[]);var o=1,s=[0,0],l=di(),u=di(),f=di(),c=di(),d=[0,0],v={},p=Bm(r,e,i,!0);if(r){var h=ur(r);a.forEach(function(I){v[I]=h(I)});var g=p.is3d?4:3,m=Xe(p.offsetMatrix,yt(p.transformOrigin,Af(p.targetMatrix,g)),p.width,p.height);o=m.direction,s=yt(m.origin,[m.left-p.left,m.top-p.top]),c=Dn(p.offsetRootContainer);var b=Fn(n,n,!0).offsetParent||p.offsetRootContainer;if(p.hasZoom){var x=Xe(Mt(p.originalRootMatrix,p.allMatrix),p.transformOrigin,p.width,p.height),_=Xe(p.originalRootMatrix,Fi(ur(b)("transformOrigin")).map(function(I){return parseFloat(I)}),b.offsetWidth,b.offsetHeight);if(l=ka(x,c),f=ka(_,c,b,!0),t){var S=x.left,y=x.top;u=ka({left:S,top:y,bottom:y,right:y},c)}}else{l=Dn(r),f=qg(b),t&&(u=Dn(t));var C=f.left,D=f.top,M=f.clientLeft,R=f.clientTop,z=[l.left-C,l.top-D];d=dt(tn(p.rootMatrix,z,4),[M+p.left,R+p.top])}}return T({targetClientRect:l,containerClientRect:f,moveableClientRect:u,rootContainerClientRect:c,beforeDirection:o,beforeOrigin:s,originalBeforeOrigin:s,target:r,style:v,offsetDelta:d},p)}function Xl(t){var r=t.pos1,e=t.pos2,n=t.pos3,i=t.pos4;if(!r||!e||!n||!i)return null;var a=we([r,e,n,i]),o=[a.minX,a.minY],s=dt(t.origin,o);return r=dt(r,o),e=dt(e,o),n=dt(n,o),i=dt(i,o),T(T({},t),{left:t.left,top:t.top,posDelta:o,pos1:r,pos2:e,pos3:n,pos4:i,origin:s,beforeOrigin:s,isPersisted:!0})}var rn=function(t){Un(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.state=T({container:null,gestos:{},renderLines:[[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]]],renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1,posDelta:[0,0]},Co(null)),e.renderState={},e.enabledAbles=[],e.targetAbles=[],e.controlAbles=[],e.rotation=0,e.scale=[1,1],e.isMoveableMounted=!1,e.isUnmounted=!1,e.events={mouseEnter:null,mouseLeave:null},e._emitter=new ea,e._prevOriginalDragTarget=null,e._originalDragTarget=null,e._prevDragTarget=null,e._dragTarget=null,e._prevPropTarget=null,e._propTarget=null,e._prevDragArea=!1,e._isPropTargetChanged=!1,e._hasFirstTarget=!1,e._reiszeObserver=null,e._observerId=0,e._mutationObserver=null,e._rootContainer=null,e._viewContainer=null,e._viewClassNames=[],e._store={},e.checkUpdateRect=function(){if(!e.isDragging()){var n=e.props.parentMoveable;if(n){n.checkUpdateRect();return}Kp(e._observerId),e._observerId=of(function(){e.isDragging()||e.updateRect()})}},e._onPreventClick=function(n){n.stopPropagation(),n.preventDefault()},e}return r.prototype.render=function(){var e=this.props,n=this.getState(),i=e.parentPosition,a=e.className,o=e.target,s=e.zoom,l=e.cspNonce,u=e.translateZ,f=e.cssStyled,c=e.groupable,d=e.linePadding,v=e.controlPadding;this._checkUpdateRootContainer(),this.checkUpdate(),this.updateRenderPoses();var p=O(i||[0,0],2),h=p[0],g=p[1],m=n.left,b=n.top,x=n.target,_=n.direction,S=n.hasFixed,y=n.offsetDelta,C=e.targets,D=this.isDragging(),M={};this.getEnabledAbles().forEach(function(G){M["data-able-".concat(G.name.toLowerCase())]=!0});var R=this._getAbleClassName(),z=C&&C.length&&(x||c)||o||!this._hasFirstTarget&&this.state.isPersisted,I=this.controlBox||this.props.firstRenderState||this.props.persistData,P=[m-h,b-g];!c&&e.useAccuratePosition&&(P[0]+=y[0],P[1]+=y[1]);var B={position:S?"fixed":"absolute",display:z?"block":"none",visibility:I?"visible":"hidden",transform:"translate3d(".concat(P[0],"px, ").concat(P[1],"px, ").concat(u,")"),"--zoom":s,"--zoompx":"".concat(s,"px")};return d&&(B["--moveable-line-padding"]=d),v&&(B["--moveable-control-padding"]=v),Dr(f,T({cspNonce:l,ref:$r(this,"controlBox"),className:"".concat(ct("control-box",_===-1?"reverse":"",D?"dragging":"")," ").concat(R," ").concat(a)},M,{onClick:this._onPreventClick,style:B}),this.renderAbles(),this._renderLines())},r.prototype.componentDidMount=function(){this.isMoveableMounted=!0,this.isUnmounted=!1;var e=this.props,n=e.parentMoveable,i=e.container;this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(this.props),!i&&!n&&!this.state.isPersisted&&(this.updateRect("",!1,!1),this.forceUpdate())},r.prototype.componentDidUpdate=function(e){this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateNativeEvents(),this._updateTargets(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(e)},r.prototype.componentWillUnmount=function(){var e,n;this.isMoveableMounted=!1,this.isUnmounted=!0,this._emitter.off(),(e=this._reiszeObserver)===null||e===void 0||e.disconnect(),(n=this._mutationObserver)===null||n===void 0||n.disconnect();var i=this._viewContainer;i&&this._changeAbleViewClassNames([]),Ne(this,!1),Ne(this,!0);var a=this.events;for(var o in a){var s=a[o];s&&s.destroy()}},r.prototype.getTargets=function(){var e=this.props.target;return e?[e]:[]},r.prototype.getAble=function(e){var n=this.props.ables||[];return lr(n,function(i){return i.name===e})},r.prototype.getContainer=function(){var e=this.props,n=e.parentMoveable,i=e.wrapperMoveable,a=e.container;return a||i&&i.getContainer()||n&&n.getContainer()||this.controlBox.parentElement},r.prototype.getControlBoxElement=function(){return this.controlBox},r.prototype.getDragElement=function(){return this._dragTarget},r.prototype.isMoveableElement=function(e){var n;return e&&(((n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"class"))||"").indexOf(is)>-1},r.prototype.dragStart=function(e,n){n===void 0&&(n=e.target);var i=this.targetGesto,a=this.controlGesto;return i&&Es(this)({inputEvent:e},n)?i.isFlag()||i.triggerDragStart(e):a&&this.isMoveableElement(n)&&(a.isFlag()||a.triggerDragStart(e)),this},r.prototype.hitTest=function(e){var n=this.state,i=n.target,a=n.pos1,o=n.pos2,s=n.pos3,l=n.pos4,u=n.targetClientRect;if(!i)return 0;var f;if(nn(e)){var c=e.getBoundingClientRect();f={left:c.left,top:c.top,width:c.width,height:c.height}}else f=T({width:0,height:0},e);var d=f.left,v=f.top,p=f.width,h=f.height,g=hl([a,o,l,s],u),m=Qh(g,[[d,v],[d+p,v],[d+p,v+h],[d,v+h]]),b=Ff(g);return!m||!b?0:Math.min(100,m/b*100)},r.prototype.isInside=function(e,n){var i=this.state,a=i.target,o=i.pos1,s=i.pos2,l=i.pos3,u=i.pos4,f=i.targetClientRect;return a?oo([e,n],hl([o,s,u,l],f)):!1},r.prototype.updateRect=function(e,n,i){i===void 0&&(i=!0);var a=this.props,o=!a.parentPosition&&!a.wrapperMoveable;o&&Je(!0);var s=a.parentMoveable,l=this.state,u=l.target||a.target,f=this.getContainer(),c=s?s._rootContainer:this._rootContainer,d=Co(this.controlBox,u,f,f,c||f,this._getRequestStyles());if(!u&&this._hasFirstTarget&&a.persistData){var v=Xl(a.persistData);for(var p in v)d[p]=v[p]}o&&Je(),this.updateState(d,s?!1:i)},r.prototype.isDragging=function(e){var n,i,a=this.targetGesto,o=this.controlGesto;if(a!=null&&a.isFlag()){if(!e)return!0;var s=a.getEventData();return!!(!((n=s[e])===null||n===void 0)&&n.isEventStart)}if(o!=null&&o.isFlag()){if(!e)return!0;var s=o.getEventData();return!!(!((i=s[e])===null||i===void 0)&&i.isEventStart)}return!1},r.prototype.updateTarget=function(e){this.updateRect(e,!0)},r.prototype.getRect=function(){var e=this.state,n=xr(this.state),i=O(n,4),a=i[0],o=i[1],s=i[2],l=i[3],u=mr(n),f=e.width,c=e.height,d=u.width,v=u.height,p=u.left,h=u.top,g=[e.left,e.top],m=yt(g,e.origin),b=yt(g,e.beforeOrigin),x=e.transformOrigin;return{width:d,height:v,left:p,top:h,pos1:a,pos2:o,pos3:s,pos4:l,offsetWidth:f,offsetHeight:c,beforeOrigin:b,origin:m,transformOrigin:x,rotation:this.getRotation()}},r.prototype.getManager=function(){return this},r.prototype.stopDrag=function(e){if(!e||e==="target"){var n=this.targetGesto;(n==null?void 0:n.isIdle())===!1&&yo(this,!1),n==null||n.stop()}if(!e||e==="control"){var n=this.controlGesto;(n==null?void 0:n.isIdle())===!1&&yo(this,!0),n==null||n.stop()}},r.prototype.getRotation=function(){var e=this.state,n=e.pos1,i=e.pos2,a=e.direction;return im(n,i,a)},r.prototype.request=function(e,n,i){n===void 0&&(n={});var a=this,o=a.props,s=o.parentMoveable||o.wrapperMoveable||a,l=s.props.ables,u=o.groupable,f=lr(l,function(m){return m.name===e});if(this.isDragging()||!f||!f.request)return{request:function(){return this},requestEnd:function(){return this}};var c=f.request(a),d=i||n.isInstant,v=c.isControl?"controlAbles":"targetAbles",p="".concat(u?"Group":"").concat(c.isControl?"Control":""),h=K([],O(s[v]),!1),g={request:function(m){return Mn(a,h,["drag"],p,"",T(T({},c.request(m)),{requestAble:e,isRequest:!0}),d),g},requestEnd:function(){return Mn(a,h,["drag"],p,"End",T(T({},c.requestEnd()),{requestAble:e,isRequest:!0}),d),g}};return Mn(a,h,["drag"],p,"Start",T(T({},c.requestStart(n)),{requestAble:e,isRequest:!0}),d),d?g.request(n).requestEnd():g},r.prototype.getMoveables=function(){return[this]},r.prototype.destroy=function(){this.componentWillUnmount()},r.prototype.updateRenderPoses=function(){var e=this.getState(),n=this.props,i=n.padding,a=e.originalBeforeOrigin,o=e.transformOrigin,s=e.allMatrix,l=e.is3d,u=e.pos1,f=e.pos2,c=e.pos3,d=e.pos4,v=e.left,p=e.top,h=e.isPersisted,g=n.zoom||1;if(!i&&g<=1){e.renderPoses=[u,f,c,d],e.renderLines=[[u,f],[f,d],[d,c],[c,u]];return}var m=Fc(i||{}),b=m.left,x=m.top,_=m.bottom,S=m.right,y=l?4:3,C=[];h?C=o:this.controlBox&&n.groupable?C=a:C=yt(a,[v,p]);var D=Pi(y,Me(C.map(function(B){return-B}),y),s,Me(o,y)),M=hr(D,u,[-b,-x],y),R=hr(D,f,[S,-x],y),z=hr(D,c,[-b,_],y),I=hr(D,d,[S,_],y);e.renderPoses=[M,R,z,I],e.renderLines=[[M,R],[R,I],[I,z],[z,M]];{var P=g/2;e.renderLines=[[hr(D,u,[-b-P,-x],y),hr(D,f,[S+P,-x],y)],[hr(D,f,[S,-x-P],y),hr(D,d,[S,_+P],y)],[hr(D,d,[S+P,_],y),hr(D,c,[-b-P,_],y)],[hr(D,c,[-b,_+P],y),hr(D,u,[-b,-x-P],y)]]}},r.prototype.checkUpdate=function(){this._isPropTargetChanged=!1;var e=this.props,n=e.target,i=e.container,a=e.parentMoveable,o=this.state,s=o.target,l=o.container;if(!(!s&&!n)){this.updateAbles();var u=!So(s,n),f=u||!So(l,i);if(f){var c=i||this.controlBox;c&&this.unsetAbles(),this.updateState({target:n,container:i}),!a&&c&&this.updateRect("End",!1,!1),this._isPropTargetChanged=u}}},r.prototype.waitToChangeTarget=function(){return new Promise(function(){})},r.prototype.triggerEvent=function(e,n){var i=this.props;if(this._emitter.trigger(e,n),i.parentMoveable&&n.isRequest&&!n.isRequestChild)return i.parentMoveable.triggerEvent(e,n,!0);var a=i[e];return a&&a(n)},r.prototype.useCSS=function(e,n){var i=this.props.customStyledMap,a=e+n;return i[a]||(i[a]=Hf(e,n)),i[a]},r.prototype.getState=function(){var e,n=this.props;(n.target||!((e=n.targets)===null||e===void 0)&&e.length)&&(this._hasFirstTarget=!0);var i=this.controlBox,a=n.persistData,o=n.firstRenderState;if(o&&!i)return o;if(!this._hasFirstTarget&&a){var s=Xl(a);if(s)return this.updateState(s,!1),this.state}return this.state.isPersisted=!1,this.state},r.prototype.updateSelectors=function(){},r.prototype.unsetAbles=function(){var e=this;this.targetAbles.forEach(function(n){n.unset&&n.unset(e)})},r.prototype.updateAbles=function(e,n){e===void 0&&(e=this.props.ables),n===void 0&&(n="");var i=this.props,a=i.triggerAblesSimultaneously,o=this.getEnabledAbles(e),s="drag".concat(n,"Start"),l="pinch".concat(n,"Start"),u="drag".concat(n,"ControlStart"),f=vi(o,[s,l],a),c=vi(o,[u],a);this.enabledAbles=o,this.targetAbles=f,this.controlAbles=c},r.prototype.updateState=function(e,n){if(n){if(this.isUnmounted)return;this.setState(e)}else{var i=this.state;for(var a in e)i[a]=e[a]}},r.prototype.getEnabledAbles=function(e){e===void 0&&(e=this.props.ables);var n=this.props;return e.filter(function(i){return i&&(i.always&&n[i.name]!==!1||n[i.name])})},r.prototype.renderAbles=function(){var e=this,n=this.props,i=n.triggerAblesSimultaneously,a={createElement:Dr};return this.renderState={},tm(Ac(vi(this.getEnabledAbles(),["render"],i).map(function(o){var s=o.render;return s(e,a)||[]})).filter(function(o){return o}),function(o){var s=o.key;return s}).map(function(o){return o[0]})},r.prototype.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},r.prototype._getRequestStyles=function(){var e=this.getEnabledAbles().reduce(function(n,i){var a,o,s=(o=(a=i.requestStyle)===null||a===void 0?void 0:a.call(i))!==null&&o!==void 0?o:[];return K(K([],O(n),!1),O(s),!1)},K([],O(this.props.requestStyles||[]),!1));return e},r.prototype._updateObserver=function(e){this._updateResizeObserver(e),this._updateMutationObserver(e)},r.prototype._updateEvents=function(){var e=this.targetAbles.length,n=this.controlAbles.length,i=this._dragTarget,a=!e&&this.targetGesto||this._isTargetChanged(!0);a&&(Ne(this,!1),this.updateState({gestos:{}})),n||Ne(this,!0),i&&e&&!this.targetGesto&&(this.targetGesto=Xc(this,i,"")),!this.controlGesto&&n&&(this.controlGesto=qc(this,"Control"))},r.prototype._updateTargets=function(){var e=this.props;this._prevPropTarget=this._propTarget,this._prevDragTarget=this._dragTarget,this._prevOriginalDragTarget=this._originalDragTarget,this._prevDragArea=e.dragArea,this._propTarget=e.target,this._originalDragTarget=e.dragTarget||e.target,this._dragTarget=Br(this._originalDragTarget,!0)},r.prototype._renderLines=function(){var e=this.props,n=e,i=n.zoom,a=n.hideDefaultLines,o=n.hideChildMoveableDefaultLines,s=n.parentMoveable;if(a||s&&o)return[];var l=this.getState(),u={createElement:Dr};return l.renderLines.map(function(f,c){return Gn(u,"",f[0],f[1],i,"render-line-".concat(c))})},r.prototype._isTargetChanged=function(e){var n=this.props,i=n.dragTarget||n.target,a=this._prevOriginalDragTarget,o=this._prevDragArea,s=n.dragArea,l=!s&&a!==i,u=(e||s)&&o!==s;return l||u||this._prevPropTarget!=this._propTarget},r.prototype._updateNativeEvents=function(){var e=this,n=this.props,i=n.dragArea?this.areaElement:this.state.target,a=this.events,o=qr(a);if(this._isTargetChanged())for(var s in a){var l=a[s];l&&l.destroy(),a[s]=null}if(i){var u=this.enabledAbles;o.forEach(function(f){var c=vi(u,[f]),d=c.length>0,v=a[f];if(!d){v&&(v.destroy(),a[f]=null);return}v||(v=new Am(i,e,f),a[f]=v),v.setAbles(c)})}},r.prototype._checkUpdateRootContainer=function(){var e=this.props.rootContainer;!this._rootContainer&&e&&(this._rootContainer=Br(e,!0))},r.prototype._checkUpdateViewContainer=function(){var e=this.props.viewContainer;!this._viewContainer&&e&&(this._viewContainer=Br(e,!0));var n=this._viewContainer;n&&this._changeAbleViewClassNames(K(K([],O(this._getAbleViewClassNames()),!1),[this.isDragging()?cm:""],!1))},r.prototype._changeAbleViewClassNames=function(e){var n=this._viewContainer,i=Ic(e.filter(Boolean),function(u){return u}).map(function(u){var f=O(u,1),c=f[0];return c}),a=this._viewClassNames,o=Vn(a,i),s=o.removed,l=o.added;s.forEach(function(u){cf(n,a[u])}),l.forEach(function(u){ff(n,i[u])}),this._viewClassNames=i},r.prototype._getAbleViewClassNames=function(){var e=this;return(this.getEnabledAbles().map(function(n){var i;return((i=n.viewClassName)===null||i===void 0?void 0:i.call(n,e))||""}).join(" ")+" ".concat(this._getAbleClassName("-view"))).split(/\s+/g)},r.prototype._getAbleClassName=function(e){var n=this;e===void 0&&(e="");var i=this.getEnabledAbles(),a=this.targetGesto,o=this.controlGesto,s=a!=null&&a.isFlag()?a.getEventData():{},l=o!=null&&o.isFlag()?o.getEventData():{};return i.map(function(u){var f,c,d,v=u.name,p=((f=u.className)===null||f===void 0?void 0:f.call(u,n))||"";return(!((c=s[v])===null||c===void 0)&&c.isEventStart||!((d=l[v])===null||d===void 0)&&d.isEventStart)&&(p+=" ".concat(ct("".concat(v).concat(e,"-dragging")))),p.trim()}).filter(Boolean).join(" ")},r.prototype._updateResizeObserver=function(e){var n,i=this.props,a=i.target,o=ee(this.getControlBoxElement());if(!o.ResizeObserver||!a||!i.useResizeObserver){(n=this._reiszeObserver)===null||n===void 0||n.disconnect();return}if(!(e.target===a&&this._reiszeObserver)){var s=new o.ResizeObserver(this.checkUpdateRect);s.observe(a,{box:"border-box"}),this._reiszeObserver=s}},r.prototype._updateMutationObserver=function(e){var n=this,i,a=this.props,o=a.target,s=ee(this.getControlBoxElement());if(!s.MutationObserver||!o||!a.useMutationObserver){(i=this._mutationObserver)===null||i===void 0||i.disconnect();return}if(!(e.target===o&&this._mutationObserver)){var l=new s.MutationObserver(function(u){var f,c;try{for(var d=gg(u),v=d.next();!v.done;v=d.next()){var p=v.value;p.type==="attributes"&&p.attributeName==="style"&&n.checkUpdateRect()}}catch(h){f={error:h}}finally{try{v&&!v.done&&(c=d.return)&&c.call(d)}finally{if(f)throw f.error}}});l.observe(o,{attributes:!0}),this._mutationObserver=l}},r.defaultProps={dragTargetSelf:!1,target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,parentMoveable:null,wrapperMoveable:null,isWrapperMounted:!1,parentPosition:null,warpSelf:!1,svgOrigin:"",dragContainer:null,useResizeObserver:!1,useMutationObserver:!1,preventDefault:!0,preventRightClick:!0,preventWheelClick:!0,linePadding:0,controlPadding:0,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,dragFocusedInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{},stopPropagation:!1,preventClickDefault:!1,preventClickEventOnDrag:!0,flushSync:Sc,firstRenderState:null,persistData:null,viewContainer:null,requestStyles:[],useAccuratePosition:!1},r}(bf),Cs={name:"groupable",props:["defaultGroupRotate","useDefaultGroupRotate","defaultGroupOrigin","groupable","groupableProps","targetGroups","hideChildMoveableDefaultLines"],events:[],render:function(t,r){var e,n=t.props,i=n.targets||[],a=t.getState(),o=a.left,s=a.top,l=a.isPersisted,u=n.zoom||1,f=t.renderGroupRects,c=((e=n.persistData)===null||e===void 0?void 0:e.children)||[];l?i=c.map(function(){return null}):c=[];var d=He(t,"parentPosition",[o,s],function(p){return p.join(",")}),v=He(t,"requestStyles",t.getRequestChildStyles(),function(p){return p.join(",")});return t.moveables=t.moveables.slice(0,i.length),K(K([],O(i.map(function(p,h){return r.createElement(rn,{key:"moveable"+h,ref:rf(t,"moveables",h),target:p,origin:!1,requestStyles:v,cssStyled:n.cssStyled,customStyledMap:n.customStyledMap,useResizeObserver:n.useResizeObserver,useMutationObserver:n.useMutationObserver,hideChildMoveableDefaultLines:n.hideChildMoveableDefaultLines,parentMoveable:t,parentPosition:[o,s],persistData:c[h],zoom:u})})),!1),O(Ac(f.map(function(p,h){var g=p.pos1,m=p.pos2,b=p.pos3,x=p.pos4,_=[g,m,b,x];return[[0,1],[1,3],[3,2],[2,0]].map(function(S,y){var C=O(S,2),D=C[0],M=C[1];return Gn(r,"",dt(_[D],d),dt(_[M],d),u,"group-rect-".concat(h,"-").concat(y))})}))),!1)}},Gm=Kn("clickable",{props:["clickable"],events:["click","clickGroup"],always:!0,dragRelation:"weak",dragStart:function(){},dragControlStart:function(){},dragGroupStart:function(t,r){r.datas.inputTarget=r.inputEvent&&r.inputEvent.target},dragEnd:function(t,r){var e=t.props.target,n=r.inputEvent,i=r.inputTarget,a=t.isMoveableElement(i),o=!a&&t.controlBox.contains(i);if(!(!n||!i||r.isDrag||t.isMoveableElement(i)||o)){var s=e.contains(i);st(t,"onClick",mt(t,r,{isDouble:r.isDouble,inputTarget:i,isTarget:e===i,moveableTarget:t.props.target,containsTarget:s}))}},dragGroupEnd:function(t,r){var e=r.inputEvent,n=r.inputTarget;if(!(!e||!n||r.isDrag||t.isMoveableElement(n)||r.datas.inputTarget===n)){var i=t.props.targets,a=i.indexOf(n),o=a>-1,s=!1;a===-1&&(a=Xr(i,function(l){return l.contains(n)}),s=a>-1),st(t,"onClickGroup",mt(t,r,{isDouble:r.isDouble,targets:i,inputTarget:n,targetIndex:a,isTarget:o,containsTarget:s,moveableTarget:i[a]}))}},dragControlEnd:function(t,r){this.dragEnd(t,r)},dragGroupControlEnd:function(t,r){this.dragEnd(t,r)}});function Ae(t){var r=t.originalDatas.draggable;return r||(t.originalDatas.draggable={},r=t.originalDatas.draggable),T(T({},t),{datas:r})}var Fm=Kn("edgeDraggable",{css:[`.edge.edgeDraggable.line {
cursor: move;
}`],render:function(t,r){var e=t.props,n=e.edgeDraggable;return n?ec(r,"edgeDraggable",n,t.getState().renderPoses,e.zoom):[]},dragCondition:function(t,r){var e,n=t.props,i=(e=r.inputEvent)===null||e===void 0?void 0:e.target;return!n.edgeDraggable||!i?!1:!n.draggable&&Nt(i,ct("direction"))&&Nt(i,ct("edge"))&&Nt(i,ct("edgeDraggable"))},dragStart:function(t,r){return tr.dragStart(t,Ae(r))},drag:function(t,r){return tr.drag(t,Ae(r))},dragEnd:function(t,r){return tr.dragEnd(t,Ae(r))},dragGroupCondition:function(t,r){var e,n=t.props,i=(e=r.inputEvent)===null||e===void 0?void 0:e.target;return!n.edgeDraggable||!i?!1:!n.draggable&&Nt(i,ct("direction"))&&Nt(i,ct("line"))},dragGroupStart:function(t,r){return tr.dragGroupStart(t,Ae(r))},dragGroup:function(t,r){return tr.dragGroup(t,Ae(r))},dragGroupEnd:function(t,r){return tr.dragGroupEnd(t,Ae(r))},unset:function(t){return tr.unset(t)}}),Uc={name:"individualGroupable",props:["individualGroupable","individualGroupableProps"],events:[]},Ds=[Vc,Hc,L0,om,tr,Fm,mo,sm,um,E0,pm,hm,dm,wm,Mm,Pm,Cs,Uc,Gm,Nc,Yc],km=Ds.reduce(function(t,r){return(r.events||[]).forEach(function(e){uf(t,e)}),t},[]),Nm=Ds.reduce(function(t,r){return(r.props||[]).forEach(function(e){uf(t,e)}),t},[]);function ql(t,r){var e=O(t,3),n=e[0],i=e[1],a=e[2];return(n*r[0]+i*r[1]+a)/Math.sqrt(n*n+i*i)}function gi(t,r){var e=O(t,2),n=e[0],i=e[1];return-n*r[0]-i*r[1]}function jl(t,r){return Math.max.apply(Math,K([],O(t.map(function(e){var n=O(e,4),i=n[0],a=n[1],o=n[2],s=n[3];return Math.max(i[r],a[r],o[r],s[r])})),!1))}function Ul(t,r){return Math.min.apply(Math,K([],O(t.map(function(e){var n=O(e,4),i=n[0],a=n[1],o=n[2],s=n[3];return Math.min(i[r],a[r],o[r],s[r])})),!1))}function Hm(t,r){var e,n,i,a=[0,0],o=[0,0],s=[0,0],l=[0,0],u=0,f=0;if(!t.length)return{pos1:a,pos2:o,pos3:s,pos4:l,minX:0,minY:0,maxX:0,maxY:0,width:u,height:f,rotation:r};var c=vt(r,ir);if(c%90){var d=c/180*Math.PI,v=Math.tan(d),p=-1/v,h=[vo,bl],g=[[0,0],[0,0]],m=[vo,bl],b=[[0,0],[0,0]];t.forEach(function(nt){nt.forEach(function(rt){var at=ql([-v,1,0],rt),tt=ql([-p,1,0],rt);h[0]>at&&(g[0]=rt,h[0]=at),h[1]<at&&(g[1]=rt,h[1]=at),m[0]>tt&&(b[0]=rt,m[0]=tt),m[1]<tt&&(b[1]=rt,m[1]=tt)})});var x=O(g,2),_=x[0],S=x[1],y=O(b,2),C=y[0],D=y[1],M=[-v,1,gi([-v,1],_)],R=[-v,1,gi([-v,1],S)],z=[-p,1,gi([-p,1],C)],I=[-p,1,gi([-p,1],D)];e=O([[M,z],[M,I],[R,z],[R,I]].map(function(nt){var rt=O(nt,2),at=rt[0],tt=rt[1];return es(at,tt)[0]}),4),a=e[0],o=e[1],s=e[2],l=e[3],u=m[1]-m[0],f=h[1]-h[0]}else{var P=Ul(t,0),B=Ul(t,1),G=jl(t,0),V=jl(t,1);if(a=[P,B],o=[G,B],s=[P,V],l=[G,V],u=G-P,f=V-B,c%180){var $=[s,a,l,o];n=O($,4),a=n[0],o=n[1],s=n[2],l=n[3],u=V-B,f=G-P}}if(c%360>180){var $=[l,s,o,a];i=O($,4),a=i[0],o=i[1],s=i[2],l=i[3]}var N=we([a,o,s,l]),U=N.minX,Z=N.minY,H=N.maxX,J=N.maxY;return{pos1:a,pos2:o,pos3:s,pos4:l,width:u,height:f,minX:U,minY:Z,maxX:H,maxY:J,rotation:r}}function Kc(t,r){var e=r.map(function(n){if(Ft(n)){var i=Kc(t,n),a=i.length;return a>1?i:a===1?i[0]:null}else{var o=lr(t,function(s){var l=s.manager;return l.props.target===n});return o?(o.finded=!0,o.manager):null}}).filter(Boolean);return e.length===1&&Ft(e[0])?e[0]:e}var Lm=function(t){Un(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.differ=new Gf,e.moveables=[],e.transformOrigin="50% 50%",e.renderGroupRects=[],e._targetGroups=[],e._hasFirstTargets=!1,e}return r.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this)},r.prototype.checkUpdate=function(){this._isPropTargetChanged=!1,this.updateAbles()},r.prototype.getTargets=function(){return this.props.targets},r.prototype.updateRect=function(e,n,i){var a;i===void 0&&(i=!0);var o=this.state;if(!this.controlBox||o.isPersisted)return;Je(!0),this.moveables.forEach(function(ft){ft.updateRect(e,!1,!1)});var s=this.props,l=this.moveables,u=o.target||s.target,f=l.map(function(ft){return{finded:!1,manager:ft}}),c=this.props.targetGroups||[],d=Kc(f,c),v=s.useDefaultGroupRotate;d.push.apply(d,K([],O(f.filter(function(ft){var pt=ft.finded;return!pt}).map(function(ft){var pt=ft.manager;return pt})),!1));var p=[],h=!n||e!==""&&s.updateGroup,g=s.defaultGroupRotate||0;if(!this._hasFirstTargets){var m=(a=s.persistData)===null||a===void 0?void 0:a.rotation;m!=null&&(g=m)}function b(ft,pt,_t){var et=ft.map(function(j){if(Ft(j)){var W=b(j,pt),Y=[W.pos1,W.pos2,W.pos3,W.pos4];return p.push(W),{poses:Y,rotation:W.rotation}}else return{poses:xr(j.state),rotation:j.getRotation()}}),E=et.map(function(j){var W=j.rotation;return W}),w=0,A=E[0],k=E.every(function(j){return Math.abs(A-j)<.1});h?w=!v&&k?A:g:w=!v&&!_t&&k?A:pt;var F=et.map(function(j){var W=j.poses;return W}),L=Hm(F,w);return L}var x=b(d,this.rotation,!0);h&&(this.rotation=x.rotation,this.transformOrigin=s.defaultGroupOrigin||"50% 50%",this.scale=[1,1]),this._targetGroups=c,this.renderGroupRects=p;var _=this.transformOrigin,S=this.rotation,y=this.scale,C=x.width,D=x.height,M=x.minX,R=x.minY,z=am([[0,0],[C,0],[0,D],[C,D]],xs(_,C,D),this.rotation/180*Math.PI),I=we(z.result),P=I.minX,B=I.minY,G=" rotate(".concat(S,"deg)")+" scale(".concat(rr(y[0]),", ").concat(rr(y[1]),")"),V="translate(".concat(-P,"px, ").concat(-B,"px)").concat(G);this.controlBox.style.transform="translate3d(".concat(M,"px, ").concat(R,"px, ").concat(this.props.translateZ||0,")"),u.style.cssText+="left:0px;top:0px;"+"transform-origin:".concat(_,";")+"width:".concat(C,"px;height:").concat(D,"px;")+"transform: ".concat(V),o.width=C,o.height=D;var $=this.getContainer(),N=Co(this.controlBox,u,this.controlBox,this.getContainer(),this._rootContainer||$,[]),U=[N.left,N.top],Z=O(xr(N),4),H=Z[0],J=Z[1],nt=Z[2],rt=Z[3],at=we([H,J,nt,rt]),tt=[at.minX,at.minY],ot=rr(y[0]*y[1]);N.pos1=dt(H,tt),N.pos2=dt(J,tt),N.pos3=dt(nt,tt),N.pos4=dt(rt,tt),N.left=M-N.left+tt[0],N.top=R-N.top+tt[1],N.origin=dt(yt(U,N.origin),tt),N.beforeOrigin=dt(yt(U,N.beforeOrigin),tt),N.originalBeforeOrigin=yt(U,N.originalBeforeOrigin),N.transformOrigin=dt(yt(U,N.transformOrigin),tt),u.style.transform="translate(".concat(-P-tt[0],"px, ").concat(-B-tt[1],"px)")+G,Je(),this.updateState(T(T({},N),{posDelta:tt,direction:ot,beforeDirection:ot}),i)},r.prototype.getRect=function(){return T(T({},t.prototype.getRect.call(this)),{children:this.moveables.map(function(e){return e.getRect()})})},r.prototype.triggerEvent=function(e,n,i){if(i||e.indexOf("Group")>-1)return t.prototype.triggerEvent.call(this,e,n);this._emitter.trigger(e,n)},r.prototype.getRequestChildStyles=function(){var e=this.getEnabledAbles().reduce(function(n,i){var a,o,s=(o=(a=i.requestChildStyle)===null||a===void 0?void 0:a.call(i))!==null&&o!==void 0?o:[];return K(K([],O(n),!1),O(s),!1)},[]);return e},r.prototype.getMoveables=function(){return K([],O(this.moveables),!1)},r.prototype.updateAbles=function(){t.prototype.updateAbles.call(this,K(K([],O(this.props.ables),!1),[Cs],!1),"Group")},r.prototype._updateTargets=function(){t.prototype._updateTargets.call(this),this._originalDragTarget=this.props.dragTarget||this.areaElement,this._dragTarget=Br(this._originalDragTarget,!0)},r.prototype._updateEvents=function(){var e=this.state,n=this.props,i=this._prevDragTarget,a=n.dragTarget||this.areaElement,o=n.targets,s=this.differ.update(o),l=s.added,u=s.changed,f=s.removed,c=l.length||f.length;(c||this._prevOriginalDragTarget!==this._originalDragTarget)&&(Ne(this,!1),Ne(this,!0),this.updateState({gestos:{}})),i!==a&&(e.target=null),e.target||(e.target=this.areaElement,this.controlBox.style.display="block"),e.target&&(this.targetGesto||(this.targetGesto=Xc(this,this._dragTarget,"Group")),this.controlGesto||(this.controlGesto=qc(this,"GroupControl")));var d=!So(e.container,n.container);d&&(e.container=n.container),(d||c||this.transformOrigin!==(n.defaultGroupOrigin||"50% 50%")||u.length||o.length&&!Gc(this._targetGroups,n.targetGroups||[]))&&(this.updateRect(),this._hasFirstTargets=!0),this._isPropTargetChanged=!!c},r.prototype._updateObserver=function(){},r.defaultProps=T(T({},rn.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),r}(rn),Wm=function(t){Un(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.moveables=[],e}return r.prototype.render=function(){var e=this,n,i=this.props,a=i.cspNonce,o=i.cssStyled,s=i.persistData,l=i.targets||[],u=l.length,f=this.isUnmounted||!u,c=(n=s==null?void 0:s.children)!==null&&n!==void 0?n:[];return f&&!u&&c.length?l=c.map(function(){return null}):f||(c=[]),Dr(o,{cspNonce:a,ref:$r(this,"controlBox"),className:ct("control-box")},l.map(function(d,v){var p,h,g=(h=(p=i.individualGroupableProps)===null||p===void 0?void 0:p.call(i,d,v))!==null&&h!==void 0?h:{};return Dr(rn,T({key:"moveable"+v,ref:rf(e,"moveables",v)},i,g,{target:d,wrapperMoveable:e,isWrapperMounted:e.isMoveableMounted,persistData:c[v]}))}))},r.prototype.componentDidMount=function(){},r.prototype.componentDidUpdate=function(){},r.prototype.getTargets=function(){return this.props.targets},r.prototype.updateRect=function(e,n,i){i===void 0&&(i=!0),Je(!0),this.moveables.forEach(function(a){a.updateRect(e,n,i)}),Je()},r.prototype.getRect=function(){return T(T({},t.prototype.getRect.call(this)),{children:this.moveables.map(function(e){return e.getRect()})})},r.prototype.request=function(e,n,i){n===void 0&&(n={});var a=this.moveables.map(function(l){return l.request(e,T(T({},n),{isInstant:!1}),!1)}),o=i||n.isInstant,s={request:function(l){return a.forEach(function(u){return u.request(l)}),this},requestEnd:function(){return a.forEach(function(l){return l.requestEnd()}),this}};return o?s.request(n).requestEnd():s},r.prototype.dragStart=function(e,n){n===void 0&&(n=e.target);var i=n,a=lr(this.moveables,function(o){var s=o.getTargets()[0],l=o.getControlBoxElement(),u=o.getDragElement();return!s||!u?!1:u===i||u.contains(i)||u!==s&&s===i||s.contains(i)||l===i||l.contains(i)});return a&&a.dragStart(e,n),this},r.prototype.hitTest=function(){return 0},r.prototype.isInside=function(){return!1},r.prototype.isDragging=function(){return!1},r.prototype.getDragElement=function(){return null},r.prototype.getMoveables=function(){return K([],O(this.moveables),!1)},r.prototype.updateRenderPoses=function(){},r.prototype.checkUpdate=function(){},r.prototype.triggerEvent=function(){},r.prototype.updateAbles=function(){},r.prototype._updateEvents=function(){},r.prototype._updateObserver=function(){},r}(rn);function Zc(t,r){var e=[];return t.forEach(function(n){if(n){if(sr(n)){r[n]&&e.push.apply(e,K([],O(r[n]),!1));return}Ft(n)?e.push.apply(e,K([],O(Zc(n,r)),!1)):e.push(n)}}),e}function Jc(t,r){var e=[];return t.forEach(function(n){if(n){if(sr(n)){r[n]&&e.push.apply(e,K([],O(r[n]),!1));return}Ft(n)?e.push(Jc(n,r)):e.push(n)}}),e}function Qc(t,r){return t.length!==r.length||t.some(function(e,n){var i=r[n];return!e&&!i?!1:e!=i?Ft(e)&&Ft(i)?Qc(e,i):!0:!1})}var $m=function(t){Un(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.refTargets=[],e.selectorMap={},e._differ=new Gf,e._elementTargets=[],e._tmpRefTargets=[],e._tmpSelectorMap={},e._onChangeTargets=null,e}return r.makeStyled=function(){var e={},n=this.getTotalAbles();n.forEach(function(a){var o=a.css;o&&o.forEach(function(s){e[s]=!0})});var i=qr(e).join(`
`);this.defaultStyled=Hf("div",kp(is,wg+i))},r.getTotalAbles=function(){return K([Hc,Cs,Uc,Nc],O(this.defaultAbles),!1)},r.prototype.render=function(){var e,n=this.constructor;n.defaultStyled||n.makeStyled();var i=this.props,a=i.ables,o=i.props,s=pg(i,["ables","props"]),l=O(this._updateRefs(!0),2),u=l[0],f=l[1],c=Zc(u,f),d=c.length>1,v=n.getTotalAbles(),p=K(K([],O(v),!1),O(a||[]),!1),h=T(T(T({},s),o||{}),{ables:p,cssStyled:n.defaultStyled,customStyledMap:n.customStyledMap});this._elementTargets=c;var g=null,m=this.moveable,b=s.persistData;if(b!=null&&b.children&&(d=!0),s.individualGroupable)return Dr(Wm,T({key:"individual-group",ref:$r(this,"moveable")},h,{target:null,targets:c}));if(d){var x=Jc(u,f);if(m&&!m.props.groupable&&!m.props.individualGroupable){var _=m.props.target;_&&c.indexOf(_)>-1&&(g=T({},m.state))}return Dr(Lm,T({key:"group",ref:$r(this,"moveable")},h,(e=s.groupableProps)!==null&&e!==void 0?e:{},{target:null,targets:c,targetGroups:x,firstRenderState:g}))}else{var S=c[0];if(m&&(m.props.groupable||m.props.individualGroupable)){var y=m.moveables||[],C=lr(y,function(D){return D.props.target===S});C&&(g=T({},C.state))}return Dr(rn,T({key:"single",ref:$r(this,"moveable")},h,{target:S,firstRenderState:g}))}},r.prototype.componentDidMount=function(){this._checkChangeTargets()},r.prototype.componentDidUpdate=function(){this._checkChangeTargets()},r.prototype.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},r.prototype.getTargets=function(){var e,n;return(n=(e=this.moveable)===null||e===void 0?void 0:e.getTargets())!==null&&n!==void 0?n:[]},r.prototype.updateSelectors=function(){this.selectorMap={},this._updateRefs(),this.forceUpdate()},r.prototype.waitToChangeTarget=function(){var e=this,n;return this._onChangeTargets=function(){e._onChangeTargets=null,n()},new Promise(function(i){n=i})},r.prototype.waitToChangeTargets=function(){return this.waitToChangeTarget()},r.prototype.getManager=function(){return this.moveable},r.prototype.getMoveables=function(){return this.moveable.getMoveables()},r.prototype.getDragElement=function(){return this.moveable.getDragElement()},r.prototype._updateRefs=function(e){var n=this.refTargets,i=_s(this.props.target||this.props.targets),a=typeof document<"u",o=Qc(n,i),s=this.selectorMap,l={};return this.refTargets.forEach(function u(f){if(sr(f)){var c=s[f];c?l[f]=s[f]:a&&(o=!0,l[f]=[].slice.call(document.querySelectorAll(f)))}else Ft(f)&&f.forEach(u)}),this._tmpRefTargets=i,this._tmpSelectorMap=l,[i,l,!e&&o]},r.prototype._checkChangeTargets=function(){var e,n,i;this.refTargets=this._tmpRefTargets,this.selectorMap=this._tmpSelectorMap;var a=this._differ.update(this._elementTargets),o=a.added,s=a.removed,l=o.length||s.length;l&&((n=(e=this.props).onChangeTargets)===null||n===void 0||n.call(e,{moveable:this.moveable,targets:this._elementTargets}),(i=this._onChangeTargets)===null||i===void 0||i.call(this));var u=O(this._updateRefs(),3),f=u[0],c=u[1],d=u[2];this.refTargets=f,this.selectorMap=c,d&&this.forceUpdate()},r.defaultAbles=[],r.customStyledMap={},r.defaultStyled=null,hg([Np(Xf)],r.prototype,"moveable",void 0),r}(bf),Vm=function(t){Un(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.defaultAbles=Ds,r}($m),Do=function(t,r){return Do=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},Do(t,r)};function Ms(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Do(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var kn=function(){return kn=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},kn.apply(this,arguments)};function Ym(t,r,e,n){var i=arguments.length,a=i<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,r,e,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(r,e,a):o(r,e))||a);return i>3&&a&&Object.defineProperty(r,e,a),a}var Xm=function(t){Ms(r,t);function r(n){var i=t.call(this,n)||this;return i.state={},i.state=i.props,i}var e=r.prototype;return e.render=function(){return Dr(Vm,kn({ref:$r(this,"moveable")},this.state))},r}(Ko),Li=Nm,td=Xf,rd=km,qm=function(t){Ms(r,t);function r(n,i){i===void 0&&(i={});var a=t.call(this)||this;a.containerProvider=null,a.selfElement=null,a._warp=!1;var o=kn({},i),s={};rd.forEach(function(f){s[Up("on ".concat(f))]=function(c){return a.trigger(f,c)}});var l;i.warpSelf?(delete i.warpSelf,a._warp=!0,l=n):(l=en(n).createElement("div"),n.appendChild(l)),a.containerProvider=dl(Dr(Xm,kn({ref:$r(a,"innerMoveable")},o,s)),l),a.selfElement=l;var u=o.target;return Ft(u)&&u.length>1&&a.updateRect(),a}var e=r.prototype;return e.setState=function(n,i){this.innerMoveable.setState(n,i)},e.forceUpdate=function(n){this.innerMoveable.forceUpdate(n)},e.dragStart=function(n,i){i===void 0&&(i=n.target);var a=this.innerMoveable;a.$_timer&&this.forceUpdate(),this.getMoveable().dragStart(n,i)},e.destroy=function(){var n,i=this.selfElement;dl(null,i,this.containerProvider),this._warp||(n=i==null?void 0:i.parentElement)===null||n===void 0||n.removeChild(i),this.containerProvider=null,this.off(),this.selfElement=null,this.innerMoveable=null},e.getMoveable=function(){return this.innerMoveable.moveable},r=Ym([nl(td,function(n,i){n[i]||(n[i]=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var s=this.getMoveable();if(!(!s||!s[i]))return s[i].apply(s,a)})}),nl(Li,function(n,i){Object.defineProperty(n,i,{get:function(){return this.getMoveable().props[i]},set:function(a){var o;this.setState((o={},o[i]=a,o))},enumerable:!0,configurable:!0})})],r),r}(ea),jm=function(t){Ms(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r}(qm);const ed={};td.forEach(t=>{ed[t]=function(...r){return this.$_moveable[t](...r)}});const nd={};Li.forEach(t=>{nd[t]=function(r){this.$_moveable[t]=r}});const Um=Hn({name:"moveable",methods:ed,props:Li,watch:nd,mounted(){const t={},r=this.$props;Li.forEach(a=>{const o=r[a];Wn(o)||(t[a]=r[a])});const n=this.$refs.moveableElement,i=new jm(n,{...t,warpSelf:!0});rd.forEach(a=>{i.on(a,o=>{this.$emit(a,{...o})})}),this.$_moveable=i},beforeUnmount(){this.$_moveable.destroy()}}),Km=Um,Zm=(t,r)=>{const e=t.__vccOpts||t;for(const[n,i]of r)e[n]=i;return e},Jm={ref:"moveableElement"};function Qm(t,r,e,n,i,a){return Ee(),qe("div",Jm,null,512)}const t1=Zm(Km,[["render",Qm]]),r1=Hn({name:"MovableElement",props:{movable:{type:Object,required:!0},isSelected:{type:Boolean,default:!1}},emits:["select"]}),da=(t,r)=>{const e=t.__vccOpts||t;for(const[n,i]of r)e[n]=i;return e},e1=["id"];function n1(t,r,e,n,i,a){return Ee(),qe("div",{id:t.movable.id,class:ye(["movable-element",{"is-selected":t.isSelected}]),style:qi({transform:`translate(${t.movable.x}px, ${t.movable.y}px) rotate(${t.movable.rotation}deg)`,width:`${t.movable.width}px`,height:`${t.movable.height}px`}),onClick:r[0]||(r[0]=Pp(o=>t.$emit("select",t.movable.id),["stop"]))}," Element "+nu(t.movable.id),15,e1)}const i1=da(r1,[["render",n1],["__scopeId","data-v-953b144d"]]),a1=Hn({name:"CanvasArea",components:{Moveable:t1,MovableElement:i1},props:{selectedId:{type:String,default:void 0},elementControls:{type:Object,required:!0}},emits:["select","deselect"],setup(t,{emit:r}){const{movables:e,selectMovable:n,deselectAll:i,updateMovable:a}=tf(),o=Ui(null);return{movables:e,canvasRef:o,getElementControls:v=>{if(v)return t.elementControls[v]},handleSelectMovable:v=>{n(v),r("select",v)},handleDeselectAll:()=>{i(),r("deselect")},onDrag:v=>{v.target.style.transform=v.transform;const p=new DOMMatrix(v.transform),h=v.target.id;a(h,{x:p.m41,y:p.m42})},onResize:v=>{if(v.drag){const p=v.target.id;e.value.find(g=>g.id===p)&&v.width!==void 0&&v.height!==void 0&&(v.target.style.width=`${v.width}px`,v.target.style.height=`${v.height}px`,a(p,{width:v.width,height:v.height}))}},onRotate:v=>{if(v.rotate!==void 0&&v.drag){v.target.style.transform=v.drag.transform;const p=new DOMMatrix(v.drag.transform),h=v.target.id;a(h,{x:p.m41,y:p.m42,rotation:v.rotate})}}}}});function o1(t,r,e,n,i,a){var l,u,f;const o=Mi("MovableElement"),s=Mi("Moveable");return Ee(),qe("div",{ref:"canvasRef",class:"canvas",onClick:r[0]||(r[0]=(...c)=>t.handleDeselectAll&&t.handleDeselectAll(...c))},[(Ee(!0),qe(Pr,null,gv(t.movables,c=>(Ee(),qv(o,{key:c.id,movable:c,"is-selected":t.selectedId===c.id,onSelect:t.handleSelectMovable},null,8,["movable","is-selected","onSelect"]))),128)),Cr(s,{target:t.selectedId?[`#${t.selectedId}`]:[],draggable:((l=t.getElementControls(t.selectedId))==null?void 0:l.isDraggable)??!0,throttleDrag:0,edgeDraggable:!1,startDragRotate:0,throttleDragRotate:0,resizable:((u=t.getElementControls(t.selectedId))==null?void 0:u.isResizable)??!0,keepRatio:!1,throttleResize:0,renderDirections:["nw","n","ne","w","e","sw","s","se"],rotatable:((f=t.getElementControls(t.selectedId))==null?void 0:f.isRotatable)??!0,throttleRotate:0,rotationPosition:"top",onDrag:t.onDrag,onResize:t.onResize,onRotate:t.onRotate},null,8,["target","draggable","resizable","rotatable","onDrag","onResize","onRotate"])],512)}const s1=da(a1,[["render",o1],["__scopeId","data-v-3de7f985"]]),l1=Hn({name:"CanvasToolbar",props:{selectedId:{type:String,default:null},elementControls:{type:Object,default:void 0}},emits:["add","remove","toggle-draggable","toggle-resizable","toggle-rotatable"]}),u1={class:"toolbar"},f1={class:"toolbar-left"},c1=["disabled"],d1={class:"toolbar-right"},v1=["disabled"],p1=["disabled"],h1=["disabled"];function g1(t,r,e,n,i,a){var o,s,l;return Ee(),qe("div",u1,[Hr("div",f1,[Hr("button",{class:"add-button",onClick:r[0]||(r[0]=u=>t.$emit("add"))}," Add Object "),Hr("button",{class:"remove-button",onClick:r[1]||(r[1]=u=>t.$emit("remove")),disabled:!t.selectedId}," Remove Selected ",8,c1)]),Hr("div",d1,[Hr("button",{class:ye(["control-button",{active:!((o=t.elementControls)!=null&&o.isDraggable)}]),onClick:r[2]||(r[2]=u=>t.$emit("toggle-draggable")),disabled:!t.selectedId}," Lock Position ",10,v1),Hr("button",{class:ye(["control-button",{active:!((s=t.elementControls)!=null&&s.isResizable)}]),onClick:r[3]||(r[3]=u=>t.$emit("toggle-resizable")),disabled:!t.selectedId}," Lock Size ",10,p1),Hr("button",{class:ye(["control-button",{active:!((l=t.elementControls)!=null&&l.isRotatable)}]),onClick:r[4]||(r[4]=u=>t.$emit("toggle-rotatable")),disabled:!t.selectedId}," Lock Rotation ",10,h1)])])}const m1=da(l1,[["render",g1],["__scopeId","data-v-d0720e0b"]]),b1=Hn({name:"App",components:{CanvasToolbar:m1,CanvasArea:s1},setup(){const{movables:t,selectedId:r,addMovable:e,removeMovable:n,selectMovable:i,deselectAll:a}=tf(),o=Ui({}),s=h=>{if(h)return o.value[h]||(o.value[h]={isDraggable:!0,isResizable:!0,isRotatable:!0}),o.value[h]};return{movables:t,selectedId:r,elementControls:o,getElementControls:s,handleAddMovable:()=>{const h=e();o.value[h]={isDraggable:!0,isResizable:!0,isRotatable:!0}},handleRemoveMovable:()=>{r.value&&(delete o.value[r.value],n())},handleSelectMovable:h=>{i(h)},handleDeselectAll:()=>{a()},toggleElementDraggable:()=>{if(r.value){const h=s(r.value);h&&(h.isDraggable=!h.isDraggable)}},toggleElementResizable:()=>{if(r.value){const h=s(r.value);h&&(h.isResizable=!h.isResizable)}},toggleElementRotatable:()=>{if(r.value){const h=s(r.value);h&&(h.isRotatable=!h.isRotatable)}}}}}),_1={class:"app"};function x1(t,r,e,n,i,a){const o=Mi("CanvasToolbar"),s=Mi("CanvasArea");return Ee(),qe("div",_1,[Cr(o,{"selected-id":t.selectedId,"element-controls":t.getElementControls(t.selectedId),onAdd:t.handleAddMovable,onRemove:t.handleRemoveMovable,onToggleDraggable:t.toggleElementDraggable,onToggleResizable:t.toggleElementResizable,onToggleRotatable:t.toggleElementRotatable},null,8,["selected-id","element-controls","onAdd","onRemove","onToggleDraggable","onToggleResizable","onToggleRotatable"]),Cr(s,{"selected-id":t.selectedId,"element-controls":t.elementControls,onSelect:t.handleSelectMovable,onDeselect:t.handleDeselectAll},null,8,["selected-id","element-controls","onSelect","onDeselect"])])}const y1=da(b1,[["render",x1],["__scopeId","data-v-32702200"]]);zp(y1).mount("#app");
